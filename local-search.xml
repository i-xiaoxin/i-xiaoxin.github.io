<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>åŸºäºCentOSå®‰è£…FastDFS</title>
    <link href="/2022/10/19/%E5%9F%BA%E4%BA%8ECentOS%E5%AE%89%E8%A3%85FastDFS/"/>
    <url>/2022/10/19/%E5%9F%BA%E4%BA%8ECentOS%E5%AE%89%E8%A3%85FastDFS/</url>
    
    <content type="html"><![CDATA[<h1 id="1-CentOSä¸‹ä½¿ç”¨FastDFS"><a href="#1-CentOSä¸‹ä½¿ç”¨FastDFS" class="headerlink" title="1.CentOSä¸‹ä½¿ç”¨FastDFS"></a>1.CentOSä¸‹ä½¿ç”¨FastDFS</h1><p>å‡†å¤‡å®‰è£…æ–‡ä»¶</p><ul><li>FastDFS_v5.08.tar.gz  <a href="https://gitee.com/fastdfs100/fastdfs/releases">Download</a></li><li>libfastcommon-master.zip <a href="https://github.com/happyfish100/libfastcommon">Download</a></li><li>fastdfs-nginx-module_v1.16.tar.gz <a href="https://github.com/happyfish100/fastdfs-nginx-module/tags">Download</a></li><li>nginx-1.10.0.tar.gz   <a href="http://nginx.org/download/">Download</a></li></ul><h2 id="1-1-å•èŠ‚ç‚¹FastDFS"><a href="#1-1-å•èŠ‚ç‚¹FastDFS" class="headerlink" title="1.1.å•èŠ‚ç‚¹FastDFS"></a>1.1.å•èŠ‚ç‚¹FastDFS</h2><h3 id="1-1-1-å®‰è£…gcc"><a href="#1-1-1-å®‰è£…gcc" class="headerlink" title="1.1.1.å®‰è£…gcc"></a>1.1.1.å®‰è£…gcc</h3><p>GCCç”¨æ¥å¯¹Cè¯­è¨€ä»£ç è¿›è¡Œç¼–è¯‘è¿è¡Œï¼Œä½¿ç”¨yumå‘½ä»¤å®‰è£…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum -y install gcc<br></code></pre></td></tr></table></figure><h3 id="1-1-3-å®‰è£…libfastcommon-master"><a href="#1-1-3-å®‰è£…libfastcommon-master" class="headerlink" title="1.1.3.å®‰è£…libfastcommon-master"></a>1.1.3.å®‰è£…libfastcommon-master</h3><p>libfastcommon-master.zipï¼ˆæ˜¯ä» FastDFS å’Œ FastDHT ä¸­æå–å‡ºæ¥çš„å…¬å…± C å‡½æ•°åº“ï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">è§£å‹åˆšåˆšä¸Šä¼ çš„libfastcommon-master.zip</span><br>unzip libfastcommon-master.zip<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">è¿›å…¥è§£å‹å®Œæˆçš„ç›®å½•</span><br>cd libfastcommon-master<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">ç¼–è¯‘å¹¶ä¸”å®‰è£…ï¼š</span><br>./make.sh <br>./make.sh install<br></code></pre></td></tr></table></figure><h3 id="1-1-4-å®‰è£…fastdfs"><a href="#1-1-4-å®‰è£…fastdfs" class="headerlink" title="1.1.4.å®‰è£…fastdfs"></a>1.1.4.å®‰è£…fastdfs</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -zxvf FastDFS_v5.08.tar.gz<br><br>cd FastDFS<br><br>./make.sh <br><br>./make.sh install<br></code></pre></td></tr></table></figure><p>å¦‚æœå®‰è£…æˆåŠŸï¼Œä¼šçœ‹åˆ°&#x2F;etc&#x2F;init.d&#x2F;ä¸‹çœ‹åˆ°æä¾›çš„è„šæœ¬æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ll /etc/init.d/ | grep fdfs <br></code></pre></td></tr></table></figure><ul><li><code>fdfs_trackerd</code> æ˜¯trackerå¯åŠ¨è„šæœ¬</li><li><code>fdfs_storaged</code> æ˜¯storageå¯åŠ¨è„šæœ¬</li></ul><p>èƒ½å¤Ÿåœ¨ &#x2F;etc&#x2F;fdfs&#x2F; ç›®å½•ä¸‹çœ‹åˆ°é»˜è®¤çš„é…ç½®æ–‡ä»¶æ¨¡æ¿ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ll /etc/fdfs/<br></code></pre></td></tr></table></figure><ul><li><code>tarcker.conf.sample</code> æ˜¯trackerçš„é…ç½®æ–‡ä»¶æ¨¡æ¿</li><li><code>storage.conf.sample</code> æ˜¯storageçš„é…ç½®æ–‡ä»¶æ¨¡æ¿</li><li><code>client.conf.sample</code> æ˜¯å®¢æˆ·ç«¯çš„é…ç½®æ–‡ä»¶æ¨¡æ¿</li></ul><h3 id="1-1-5-é…ç½®å¹¶å¯åŠ¨trackeræœåŠ¡"><a href="#1-1-5-é…ç½®å¹¶å¯åŠ¨trackeræœåŠ¡" class="headerlink" title="1.1.5.é…ç½®å¹¶å¯åŠ¨trackeræœåŠ¡"></a>1.1.5.é…ç½®å¹¶å¯åŠ¨trackeræœåŠ¡</h3><p>FastDFSçš„trackerå’Œstorageåœ¨åˆšåˆšçš„å®‰è£…è¿‡ç¨‹ä¸­ï¼Œéƒ½å·²ç»è¢«å®‰è£…äº†ï¼Œå› æ­¤æˆ‘ä»¬å®‰è£…è¿™ä¸¤ç§è§’è‰²çš„æ–¹å¼æ˜¯ä¸€æ ·çš„ã€‚ä¸åŒçš„æ˜¯ï¼Œä¸¤ç§éœ€è¦ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬è¦å¯åŠ¨trackerï¼Œå°±ä¿®æ”¹åˆšåˆšçœ‹åˆ°çš„<code>tarcker.conf</code>ï¼Œå¹¶ä¸”å¯åŠ¨<code>fdfs_trackerd</code>è„šæœ¬å³å¯ã€‚</p><p>1ï¼‰é¦–å…ˆå°†æ¨¡æ¿æ–‡ä»¶å¤åˆ¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cp /etc/fdfs/tracker.conf.sample /etc/fdfs/tracker.conf<br></code></pre></td></tr></table></figure><p>2ï¼‰ä¿®æ”¹å¤åˆ¶åçš„é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim /etc/fdfs/tracker.conf <br></code></pre></td></tr></table></figure><p># ä¿®æ”¹çš„å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">base_path=/powershop/tracker                 # å­˜å‚¨æ—¥å¿—å’Œæ•°æ®çš„æ ¹ç›®å½•<br></code></pre></td></tr></table></figure><p>3ï¼‰æ–°å»ºç›®å½•ï¼š     </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir -p /powershop/tracker<br></code></pre></td></tr></table></figure><p> æ³¨æ„ï¼šå…³é—­é˜²ç«å¢™ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">chkconfig iptables off<br></code></pre></td></tr></table></figure><p>4ï¼‰å¯åŠ¨å’Œåœæ­¢</p><p>å¯åŠ¨trackeræœåŠ¡å™¨:     <code>/etc/init.d/fdfs_trackerd start</code></p><p>åœæ­¢trackeræœåŠ¡å™¨:     <code>/etc/init.d/fdfs_trackerd stop</code></p><p>ä¸è¿‡å®‰è£…è¿‡ç¨‹ä¸­ï¼Œfdfså·²ç»è¢«è®¾ç½®ä¸ºç³»ç»ŸæœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç†Ÿæ‚‰çš„æœåŠ¡å¯åŠ¨æ–¹å¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">service fdfs_trackerd start # å¯åŠ¨fdfs_trackerdæœåŠ¡ï¼Œåœæ­¢ç”¨stop<br></code></pre></td></tr></table></figure><p>æ£€æŸ¥FastDFS Tracker Serveræ˜¯å¦å¯åŠ¨æˆåŠŸï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">ps -ef | grep fdfs_trackerd<br></code></pre></td></tr></table></figure><p>è®¾ç½®trackeræœåŠ¡å¼€æœºå¯åŠ¨:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">chkconfig fdfs_trackerd on<br></code></pre></td></tr></table></figure><h3 id="1-1-6-é…ç½®å¹¶å¯åŠ¨storageæœåŠ¡"><a href="#1-1-6-é…ç½®å¹¶å¯åŠ¨storageæœåŠ¡" class="headerlink" title="1.1.6.é…ç½®å¹¶å¯åŠ¨storageæœåŠ¡"></a>1.1.6.é…ç½®å¹¶å¯åŠ¨storageæœåŠ¡</h3><p>1ï¼‰é¦–å…ˆå°†æ¨¡æ¿æ–‡ä»¶å¤åˆ¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cp /etc/fdfs/storage.conf.sample /etc/fdfs/storage.conf<br></code></pre></td></tr></table></figure><p>2ï¼‰ä¿®æ”¹å¤åˆ¶åçš„é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim /etc/fdfs/storage.conf<br></code></pre></td></tr></table></figure><p># ä¿®æ”¹çš„å†…å®¹å¦‚ä¸‹: </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">base_path=/powershop/storage                 # æ—¥å¿—æ–‡ä»¶å­˜å‚¨æ ¹ç›®å½• <br><br>store_path0=/powershop/storage           # æ–‡ä»¶å­˜å‚¨ç›®å½• <br><br>tracker_server=192.168.204.131:22122       #  trackeræœåŠ¡å™¨IPå’Œç«¯å£ <br></code></pre></td></tr></table></figure><p>3ï¼‰æ–°å»ºç›®å½•ï¼š     </p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">mkdir -p <span class="hljs-regexp">/powershop/</span>storage<br></code></pre></td></tr></table></figure><p> æ³¨æ„å…³é—­é˜²ç«å¢™ï¼š   <code>chkconfig iptables off</code></p><p> 4ï¼‰å¯åŠ¨å’Œåœæ­¢</p><p>å¯åŠ¨storageæœåŠ¡å™¨ï¼š<code>/etc/init.d/fdfs_storaged start</code></p><p>åœæ­¢storageæœåŠ¡å™¨ï¼š<code>/etc/init.d/fdfs_storaged stop</code></p><p>æ¨èä½¿ç”¨ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">service fdfs_storaged start  # å¯åŠ¨fdfs_storagedæœåŠ¡ï¼Œåœæ­¢ç”¨stop<br></code></pre></td></tr></table></figure><p>æ£€æŸ¥FastDFS Tracker Serveræ˜¯å¦å¯åŠ¨æˆåŠŸï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">ps -ef | grep fdfs<br></code></pre></td></tr></table></figure><p>è®¾ç½®storageæœåŠ¡å¼€æœºå¯åŠ¨ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">chkconfig fdfs_storaged on<br></code></pre></td></tr></table></figure><h1 id="2-ä½¿ç”¨nginxè®¿é—®FastDFS"><a href="#2-ä½¿ç”¨nginxè®¿é—®FastDFS" class="headerlink" title="2.ä½¿ç”¨nginxè®¿é—®FastDFS"></a>2.ä½¿ç”¨nginxè®¿é—®FastDFS</h1><h2 id="2-1-ä¸ºä»€ä¹ˆéœ€è¦ç”¨Nginxè®¿é—®ï¼Ÿ"><a href="#2-1-ä¸ºä»€ä¹ˆéœ€è¦ç”¨Nginxè®¿é—®ï¼Ÿ" class="headerlink" title="2.1.ä¸ºä»€ä¹ˆéœ€è¦ç”¨Nginxè®¿é—®ï¼Ÿ"></a>2.1.ä¸ºä»€ä¹ˆéœ€è¦ç”¨Nginxè®¿é—®ï¼Ÿ</h2><p>FastDFSé€šè¿‡TrackeræœåŠ¡å™¨,å°†æ–‡ä»¶æ”¾åœ¨StorageæœåŠ¡å™¨å­˜å‚¨ï¼Œä½†æ˜¯åŒç»„å­˜å‚¨æœåŠ¡å™¨ä¹‹é—´éœ€è¦è¿›å…¥æ–‡ä»¶å¤åˆ¶ï¼Œæœ‰åŒæ­¥å»¶è¿Ÿçš„é—®é¢˜ã€‚</p><p>å‡è®¾TrackeræœåŠ¡å™¨å°†æ–‡ä»¶ä¸Šä¼ åˆ°äº†192.168.1.125ï¼Œä¸Šä¼ æˆåŠŸåæ–‡ä»¶IDå·²ç»è¿”å›ç»™å®¢æˆ·ç«¯ã€‚æ­¤æ—¶FastDFSå­˜å‚¨é›†ç¾¤æœºåˆ¶ä¼šå°†è¿™ä¸ªæ–‡ä»¶åŒæ­¥åˆ°åŒç»„å­˜å‚¨192.168.1.126ï¼Œåœ¨æ–‡ä»¶è¿˜æ²¡æœ‰å¤åˆ¶å®Œæˆçš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å¦‚æœç”¨è¿™ä¸ªæ–‡ä»¶IDåœ¨192.168.1.126ä¸Šå–æ–‡ä»¶,å°±ä¼šå‡ºç°æ–‡ä»¶æ— æ³•è®¿é—®çš„é”™è¯¯ã€‚</p><p>è€Œfastdfs-nginx-moduleå¯ä»¥é‡å®šå‘æ–‡ä»¶è¿æ¥åˆ°æ–‡ä»¶ä¸Šä¼ æ—¶çš„æºæœåŠ¡å™¨å–æ–‡ä»¶,é¿å…å®¢æˆ·ç«¯ç”±äºå¤åˆ¶å»¶è¿Ÿå¯¼è‡´çš„æ–‡ä»¶æ— æ³•è®¿é—®é”™è¯¯</p><h2 id="2-2-å®‰è£…fastdfs-nginx-moduleæ’ä»¶"><a href="#2-2-å®‰è£…fastdfs-nginx-moduleæ’ä»¶" class="headerlink" title="2.2.å®‰è£…fastdfs-nginx-moduleæ’ä»¶"></a>2.2.å®‰è£…fastdfs-nginx-moduleæ’ä»¶</h2><h3 id="2-2-1-è§£å‹"><a href="#2-2-1-è§£å‹" class="headerlink" title="2.2.1.è§£å‹"></a>2.2.1.è§£å‹</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -zxvf fastdfs-nginx-module_v1.16.tar.gz<br></code></pre></td></tr></table></figure><h3 id="2-2-2-ä¿®æ”¹config"><a href="#2-2-2-ä¿®æ”¹config" class="headerlink" title="2.2.2.ä¿®æ”¹config"></a>2.2.2.ä¿®æ”¹config</h3><p>1ï¼‰è¿›å…¥srcç›®å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd fastdfs-nginx-module/src/<br></code></pre></td></tr></table></figure><p>2ï¼‰ç¼–è¾‘config</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim config<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ä»¥ä¸‹åº•è¡Œå‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">:%s+/usr/local/+/usr/+g<br></code></pre></td></tr></table></figure><p>å°†æ‰€æœ‰çš„&#x2F;usr&#x2F;localæ›¿æ¢ä¸º &#x2F;usrï¼Œè¿™ä¸ªæ‰æ˜¯æ­£ç¡®çš„ç›®å½•</p><h3 id="2-2-3-é…ç½®fastdfs-nginx-moduleä¸FastDFSå…³è”é…ç½®æ–‡ä»¶"><a href="#2-2-3-é…ç½®fastdfs-nginx-moduleä¸FastDFSå…³è”é…ç½®æ–‡ä»¶" class="headerlink" title="2.2.3.é…ç½®fastdfs-nginx-moduleä¸FastDFSå…³è”é…ç½®æ–‡ä»¶"></a>2.2.3.é…ç½®fastdfs-nginx-moduleä¸FastDFSå…³è”é…ç½®æ–‡ä»¶</h3><p>å¤åˆ¶ fastdfs-nginx-module æºç ä¸­çš„é…ç½®æ–‡ä»¶åˆ°&#x2F;etc&#x2F;fdfs ç›®å½•ï¼Œ å¹¶ä¿®æ”¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">cp /usr/upload/fastdfs-nginx-module/src/mod_fastdfs.conf /etc/fdfs/<br><br>vim /etc/fdfs/mod_fastdfs.conf<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs shell">connect_timeout=10                       # å®¢æˆ·ç«¯è®¿é—®æ–‡ä»¶è¿æ¥è¶…æ—¶æ—¶é•¿ï¼ˆå•ä½ï¼šç§’ï¼‰<br><br>tracker_server=192.168.204.131:22122    # trackeræœåŠ¡IPå’Œç«¯å£<br><br>url_have_group_name=true                # è®¿é—®é“¾æ¥å‰ç¼€åŠ ä¸Šç»„å<br><br>store_path0=/powershop/storage            # æ–‡ä»¶å­˜å‚¨è·¯å¾„<br></code></pre></td></tr></table></figure><p>å¤åˆ¶ FastDFS çš„éƒ¨åˆ†é…ç½®æ–‡ä»¶åˆ°&#x2F;etc&#x2F;fdfs ç›®å½•ï¼Œå¦åˆ™ä¸æ”¯æŒnginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /usr/upload/FastDFS/conf/<br>cp http.conf mime.types /etc/fdfs/<br></code></pre></td></tr></table></figure><h2 id="2-3-å®‰è£…Nginx"><a href="#2-3-å®‰è£…Nginx" class="headerlink" title="2.3.å®‰è£…Nginx"></a>2.3.å®‰è£…Nginx</h2><h3 id="2-3-1-å¦‚æœæ²¡å®‰è£…è¿‡nginx"><a href="#2-3-1-å¦‚æœæ²¡å®‰è£…è¿‡nginx" class="headerlink" title="2.3.1.å¦‚æœæ²¡å®‰è£…è¿‡nginx"></a>2.3.1.å¦‚æœæ²¡å®‰è£…è¿‡nginx</h3><ul><li>å®‰è£…nginxçš„ä¾èµ–åº“</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum -y install gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel<br></code></pre></td></tr></table></figure><ul><li>è§£å‹å®‰è£…åŒ…</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -zxvf nginx-1.10.0.tar.gz<br></code></pre></td></tr></table></figure><ul><li>é…ç½®nginxå®‰è£…åŒ…ï¼Œå¹¶æŒ‡å®šfastdfs-nginx-model</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd nginx-1.10.0<br><br>./configure --prefix=/usr/local/nginx --add-module=/usr/upload/fastdfs-nginx-module/src<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼šåœ¨æ‰§è¡Œ.&#x2F;configureé…ç½®nginxå‚æ•°çš„æ—¶å€™ï¼Œéœ€è¦å°†fastdfs-nginx-moudleæºç ä½œä¸ºæ¨¡å—ç¼–è¯‘è¿›å»ã€‚</p><ul><li>ç¼–è¯‘å¹¶å®‰è£…</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">make &amp;&amp; make install<br></code></pre></td></tr></table></figure><h3 id="2-3-2-å¦‚æœå·²ç»å®‰è£…è¿‡nginx"><a href="#2-3-2-å¦‚æœå·²ç»å®‰è£…è¿‡nginx" class="headerlink" title="2.3.2.å¦‚æœå·²ç»å®‰è£…è¿‡nginx"></a>2.3.2.å¦‚æœå·²ç»å®‰è£…è¿‡nginx</h3><p>1ï¼‰ è¿›å…¥nginxç›®å½•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /usr/upload/nginx-1.10.0/<br></code></pre></td></tr></table></figure><p>2ï¼‰ é…ç½®FastDFS æ¨¡å—</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">./configure --prefix=/usr/local/nginx --add-module=/usr/upload/fastdfs-nginx-module/src<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿™æ¬¡é…ç½®æ—¶ï¼Œè¦æ·»åŠ fastdfs-nginx-moudleæ¨¡å—</p><p>3ï¼‰ ç¼–è¯‘ï¼Œæ³¨æ„ï¼Œè¿™æ¬¡ä¸è¦å®‰è£…ï¼ˆinstallï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">make<br></code></pre></td></tr></table></figure><p>4ï¼‰ æ›¿æ¢nginxäºŒè¿›åˆ¶æ–‡ä»¶:</p><p>å¤‡ä»½ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mv /usr/bin/nginx /usr/bin/nginx-bak<br></code></pre></td></tr></table></figure><p>ç”¨æ–°ç¼–è¯‘çš„nginxå¯åŠ¨æ–‡ä»¶æ›¿ä»£åŸæ¥çš„ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">cp objs/nginx /usr/bin/<br></code></pre></td></tr></table></figure><h3 id="2-3-3-å¯åŠ¨nginx"><a href="#2-3-3-å¯åŠ¨nginx" class="headerlink" title="2.3.3.å¯åŠ¨nginx"></a>2.3.3.å¯åŠ¨nginx</h3><p>é…ç½®nginxæ•´åˆfastdfs-moduleæ¨¡å—</p><p>æˆ‘ä»¬éœ€è¦ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim  /usr/java/nginx/conf/nginx.conf<br></code></pre></td></tr></table></figure><p>å°†æ–‡ä»¶ä¸­ï¼ŒåŸæ¥çš„<code>server 80&#123; ...&#125;</code> éƒ¨åˆ†ä»£ç æ›¿æ¢ä¸ºå¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> &#123;<br>    <span class="hljs-attribute">listen</span>       <span class="hljs-number">80</span>;<br>    <span class="hljs-attribute">server_name</span>  image.powershop.com;<br><br><span class="hljs-comment"># ç›‘å¬åŸŸåä¸­å¸¦æœ‰groupçš„ï¼Œäº¤ç»™FastDFSæ¨¡å—å¤„ç†</span><br>    <span class="hljs-section">location</span> ~/group([<span class="hljs-number">0</span>-<span class="hljs-number">9</span>])/ &#123;<br>        ngx_fastdfs_module;<span class="hljs-comment">#è·å¾—fastdfsä¸­å›¾ç‰‡çš„å­˜åœ¨è·¯å¾„  /usr/storage/group/0/atm.jpg</span><br>    &#125;<br><br>    <span class="hljs-section">location</span> / &#123;<br>        <span class="hljs-attribute">root</span>   html;<br>        <span class="hljs-attribute">index</span>  index.html index.htm;<br>    &#125;<br><br>    <span class="hljs-attribute">error_page</span>   <span class="hljs-number">500</span> <span class="hljs-number">502</span> <span class="hljs-number">503</span> <span class="hljs-number">504</span>  /50x.html;<br>    <span class="hljs-section">location</span> = /50x.html &#123;<br>        <span class="hljs-attribute">root</span>   html;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯åŠ¨nginxï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">./nginx# å¯åŠ¨nginx<br><br>./nginx -s stop# åœæ­¢nginx<br><br>./nginx -s reload# é‡æ–°è½½å…¥é…ç½®æ–‡ä»¶<br></code></pre></td></tr></table></figure><p># å¯é€šè¿‡<code>ps -ef | grep nginx</code>æŸ¥çœ‹nginxæ˜¯å¦å·²å¯åŠ¨æˆåŠŸ    </p><h2 id="2-4-Nginxå¼€æœºå¯åŠ¨"><a href="#2-4-Nginxå¼€æœºå¯åŠ¨" class="headerlink" title="2.4.Nginxå¼€æœºå¯åŠ¨"></a>2.4.Nginxå¼€æœºå¯åŠ¨</h2><h3 id="2-4-1-ç¼–å†™å¼€æœºå¯åŠ¨æ–‡ä»¶"><a href="#2-4-1-ç¼–å†™å¼€æœºå¯åŠ¨æ–‡ä»¶" class="headerlink" title="2.4.1.ç¼–å†™å¼€æœºå¯åŠ¨æ–‡ä»¶"></a>2.4.1.ç¼–å†™å¼€æœºå¯åŠ¨æ–‡ä»¶</h3><ul><li>æ·»åŠ nginx.serviceæ–‡ä»¶</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">vim /lib/systemd/system/nginx.service<br></code></pre></td></tr></table></figure><ul><li>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sh">[Unit]<br>Description=nginx<br>After=network.target<br><br>[Service]<br>Type=forking<br>ExecStart=/usr/local/nginx/sbin/nginx<br>ExecReload=/usr/local/nginx/sbin/nginx -s reload<br>ExecStop=/usr/local/nginx/sbin/nginx -s stop<br>PrivateTmp=<span class="hljs-literal">true</span><br><br>[Install]<br>WantedBy=multi-user.target<br></code></pre></td></tr></table></figure><h3 id="2-4-2-è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#2-4-2-è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="2.4.2.è®¾ç½®å¼€æœºå¯åŠ¨"></a>2.4.2.è®¾ç½®å¼€æœºå¯åŠ¨</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">systemctl daemon-reload        <span class="hljs-comment">#é‡æ–°åŠ è½½æœåŠ¡é…ç½®</span><br>systemctl <span class="hljs-built_in">enable</span> nginx.service <span class="hljs-comment">#è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨</span><br>systemctl start nginx.service  <span class="hljs-comment">#å¯åŠ¨æœåŠ¡</span><br>systemctl status nginx.service <span class="hljs-comment">#æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span><br>systemctl stop nginx.service   <span class="hljs-comment">#åœæ­¢æœåŠ¡</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>FastDFS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Nginx</tag>
      
      <tag>CentOS</tag>
      
      <tag>Yum</tag>
      
      <tag>FastDFS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºMacé…ç½®å®‰è£…Nginx</title>
    <link href="/2022/10/18/%E5%9F%BA%E4%BA%8EMac%E5%AE%89%E8%A3%85Nginx/"/>
    <url>/2022/10/18/%E5%9F%BA%E4%BA%8EMac%E5%AE%89%E8%A3%85Nginx/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h2><blockquote><p>Macéœ€è¦å®‰è£…Homebrew</p></blockquote><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>ä½¿ç”¨brewå®‰è£…nginx</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">brew install nginx<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹nginxçš„é…ç½®ä¿¡æ¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">brew info nginx<br></code></pre></td></tr></table></figure><p>è¾“å‡ºå†…å®¹å¦‚ä¸‹</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs sh">nginx: stable 1.23.1 (bottled), HEAD<br>HTTP(S) server and reverse proxy, and IMAP/POP3 proxy server<br>https://nginx.org/<br><span class="hljs-comment"># ä»¥ä¸‹æ˜¯å®‰è£…nginxè·¯å¾„</span><br>/opt/homebrew/Cellar/nginx/1.23.1 (26 files, 2.2MB) *<br>  Poured from bottle on 2022-10-18 at 18:00:26<br><span class="hljs-comment"># å®‰è£…æº</span><br>From: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/nginx.rb<br>License: BSD-2-Clause<br>==&gt; Dependencies<br>Required: openssl@1.1 âœ”, pcre2 âœ”<br>==&gt; Options<br>--HEAD<br>Install HEAD version<br>==&gt; Caveats<br><span class="hljs-comment"># æ ¹ç›®å½•</span><br>Docroot is: /opt/homebrew/var/www<br><span class="hljs-comment"># é…ç½®è·¯å¾„</span><br>The default port has been <span class="hljs-built_in">set</span> <span class="hljs-keyword">in</span> /opt/homebrew/etc/nginx/nginx.conf to 8080 so that<br>nginx can run without sudo.<br><span class="hljs-comment"># å¯åŠ¨è·¯å¾„</span><br>nginx will load all files <span class="hljs-keyword">in</span> /opt/homebrew/etc/nginx/servers/.<br><br>To restart nginx after an upgrade:<br>  brew services restart nginx<br>Or, <span class="hljs-keyword">if</span> you don<span class="hljs-string">&#x27;t want/need a background service you can just run:</span><br><span class="hljs-string">  /opt/homebrew/opt/nginx/bin/nginx -g daemon off;</span><br><span class="hljs-string">==&gt; Analytics</span><br><span class="hljs-string">install: 29,315 (30 days), 115,535 (90 days), 454,216 (365 days)</span><br><span class="hljs-string">install-on-request: 29,264 (30 days), 115,323 (90 days), 453,381 (365 days)</span><br><span class="hljs-string">build-error: 3 (30 days)</span><br></code></pre></td></tr></table></figure><h3 id="brewç›¸å…³å‘½ä»¤"><a href="#brewç›¸å…³å‘½ä»¤" class="headerlink" title="brewç›¸å…³å‘½ä»¤"></a>brewç›¸å…³å‘½ä»¤</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># å¯åŠ¨nginxæœåŠ¡</span><br>brew services start nginx <br><span class="hljs-comment"># é‡å¯å‘½ä»¤</span><br>brew services restart nginx<br><span class="hljs-comment"># å…³é—­å‘½ä»¤</span><br>brew services stop nginx<br><br><span class="hljs-comment"># å…³é—­å‘½ä»¤æç¤ºï¼Œä¸æ¨èä½¿ç”¨</span><br>Stopping `nginx`... (might take a <span class="hljs-keyword">while</span>)<br>==&gt; Successfully stopped `nginx` (label: homebrew.mxcl.nginx)<br><br></code></pre></td></tr></table></figure><h3 id="æ£€éªŒnginxé…ç½®æ–‡ä»¶"><a href="#æ£€éªŒnginxé…ç½®æ–‡ä»¶" class="headerlink" title="æ£€éªŒnginxé…ç½®æ–‡ä»¶"></a>æ£€éªŒnginxé…ç½®æ–‡ä»¶</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># å‘½ä»¤</span><br>sudo /opt/homebrew/Cellar/nginx/1.23.1/bin/nginx -t -c /opt/homebrew/etc/nginx/nginx.conf<br><br><span class="hljs-comment"># è¾“å‡ºä¿¡æ¯</span><br>nginx: the configuration file /opt/homebrew/etc/nginx/nginx.conf syntax is ok<br>nginx: configuration file /opt/homebrew/etc/nginx/nginx.conf <span class="hljs-built_in">test</span> is successful<br><br></code></pre></td></tr></table></figure><h3 id="é€šè¿‡è¿›ç¨‹å…³é—­Nginx"><a href="#é€šè¿‡è¿›ç¨‹å…³é—­Nginx" class="headerlink" title="é€šè¿‡è¿›ç¨‹å…³é—­Nginx"></a>é€šè¿‡è¿›ç¨‹å…³é—­Nginx</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># è·å–åˆ°nginxçš„è¿›ç¨‹</span><br>ps -ef|grep nginx<br><br><span class="hljs-comment"># è¾“å‡ºå†…å®¹</span><br> 501 74155     1   0  6:05ä¸‹åˆ ??         0:00.00 nginx: master process /opt/homebrew/Cellar/nginx/1.23.1/bin/nginx<br>  501 74156 74155   0  6:05ä¸‹åˆ ??         0:00.06 nginx: worker process<br>  501 77226 72927   0  6:41ä¸‹åˆ ttys002    0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn --exclude-dir=.idea --exclude-dir=.tox nginx<br>  <br><span class="hljs-comment"># è¿›ç¨‹ç»“æŸå‘½ä»¤</span><br><span class="hljs-built_in">kill</span> -term 74155<br><br><span class="hljs-comment"># æ‹“å±•</span><br><span class="hljs-built_in">kill</span> -QUIT 72 (ä»å®¹çš„åœæ­¢ï¼Œå³ä¸ä¼šç«‹åˆ»åœæ­¢)<br><br>Kill -TERM 72 ï¼ˆç«‹åˆ»åœæ­¢ï¼‰<br><br>Kill -INT 72 ï¼ˆå’Œä¸Šé¢ä¸€æ ·ï¼Œä¹Ÿæ˜¯ç«‹åˆ»åœæ­¢ï¼‰<br></code></pre></td></tr></table></figure><h2 id="è§£å†³å¼‚å¸¸é”™è¯¯"><a href="#è§£å†³å¼‚å¸¸é”™è¯¯" class="headerlink" title="è§£å†³å¼‚å¸¸é”™è¯¯"></a>è§£å†³å¼‚å¸¸é”™è¯¯</h2><h3 id="Error-Failure-while-executing"><a href="#Error-Failure-while-executing" class="headerlink" title="Error: Failure while executing;"></a>Error: Failure while executing;</h3><p>èµ·å› ï¼š</p><p>é€šè¿‡brew å¯åŠ¨nginxæ—¶æŠ¥é”™</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># é”®å…¥å‘½ä»¤</span><br>brew services start nginx<br></code></pre></td></tr></table></figure><p>æŠ¥é”™å†…å®¹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">Bootstrap failed: 5: Input/output error<br>Try re-running the <span class="hljs-built_in">command</span> as root <span class="hljs-keyword">for</span> richer errors.<br>Error: Failure <span class="hljs-keyword">while</span> executing; `/bin/launchctl bootstrap gui/501 /Users/heminxin/Library/LaunchAgents/homebrew.mxcl.nginx.plist` exited with 5.<br></code></pre></td></tr></table></figure><p>è§£å†³ï¼š</p><p>ç›´æ¥è¿›å…¥nginxå¯åŠ¨è„šæœ¬ç›®å½•é€šè¿‡æ‰§è¡Œnginxè„šæœ¬å¯åŠ¨ï¼›ä¹Ÿå¯ä»¥ä½¿ç”¨nginxå‘½ä»¤å¯åŠ¨</p><h3 id="Errorï¼šåœ¨è®¿é—®è¢«ä»£ç†urléƒ¨åˆ†jsæ—¶æç¤ºã€net-ERR-CONTENT-LENGTH-MISMATCH-200-OK-ã€‘"><a href="#Errorï¼šåœ¨è®¿é—®è¢«ä»£ç†urléƒ¨åˆ†jsæ—¶æç¤ºã€net-ERR-CONTENT-LENGTH-MISMATCH-200-OK-ã€‘" class="headerlink" title="Errorï¼šåœ¨è®¿é—®è¢«ä»£ç†urléƒ¨åˆ†jsæ—¶æç¤ºã€net::ERR_CONTENT_LENGTH_MISMATCH 200 (OK)ã€‘"></a>Errorï¼šåœ¨è®¿é—®è¢«ä»£ç†urléƒ¨åˆ†jsæ—¶æç¤ºã€net::ERR_CONTENT_LENGTH_MISMATCH 200 (OK)ã€‘</h3><p>é”™è¯¯ï¼š</p><p>å½“è®¿é—®urlé“¾æ¥æ—¶ï¼Œå‘ç°å†…å®¹ä¸èƒ½å¤ŸåŠ è½½å‡ºæ¥ï¼Œç©ºç™½é¡µé¢ï¼Œæ‰“å¼€æ§åˆ¶å°å¼€å‘è€…å·¥å…·å‘ç°jsè®¿é—®200æŠ¥é”™net::ERR_CONTENT_LENGTH_MISMATCH 200 (OK)ï¼›æŸ¥çœ‹nginxæ—¥å¿—ä¼šå‘ç°æç¤ºæƒé™ä¸å¤Ÿï¼Œç»™proxy_tempæ–‡ä»¶èµ‹æƒå³å¯</p><p>è§£å†³ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># è¿›å…¥nginxè¿è¡Œç›®å½•æ‰¾proxy_temp</span><br><span class="hljs-built_in">cd</span> /opt/homebrew/var/run/nginx<br><span class="hljs-comment"># èµ‹æƒ</span><br>sudo <span class="hljs-built_in">chmod</span> 777 proxy_temp<br></code></pre></td></tr></table></figure><p>å†æ¬¡è®¿é—®å³å¯æ‰“å¼€å®Œæ•´é¡µé¢</p><h2 id="Nginxç›¸å…³å‘½ä»¤"><a href="#Nginxç›¸å…³å‘½ä»¤" class="headerlink" title="Nginxç›¸å…³å‘½ä»¤"></a>Nginxç›¸å…³å‘½ä»¤</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs sh">nginx -s reopen <span class="hljs-comment">#é‡å¯Nginx</span><br><br>nginx -s reload <span class="hljs-comment">#é‡æ–°åŠ è½½Nginxé…ç½®æ–‡ä»¶ï¼Œç„¶åä»¥ä¼˜é›…çš„æ–¹å¼é‡å¯Nginx</span><br><br>nginx -s stop <span class="hljs-comment">#å¼ºåˆ¶åœæ­¢NginxæœåŠ¡</span><br><br>killall nginx <span class="hljs-comment">#æ€æ­»æ‰€æœ‰nginxè¿›ç¨‹Â Â </span><br><br>nginx -s quit <span class="hljs-comment">#ä¼˜é›…åœ°åœæ­¢NginxæœåŠ¡ï¼ˆå³å¤„ç†å®Œæ‰€æœ‰è¯·æ±‚åå†åœæ­¢æœåŠ¡ï¼‰</span><br><br>nginx -t <span class="hljs-comment">#æ£€æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œç„¶åé€€å‡º</span><br><br>nginx -v <span class="hljs-comment">#æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º</span><br><br>nginx -V <span class="hljs-comment">#æ˜¾ç¤ºç‰ˆæœ¬å’Œé…ç½®é€‰é¡¹ä¿¡æ¯ï¼Œç„¶åé€€å‡º</span><br><br>nginx -t <span class="hljs-comment">#æ£€æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œç„¶åé€€å‡º</span><br><br>nginx -T <span class="hljs-comment">#æ£€æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ï¼Œè½¬å‚¨å¹¶é€€å‡º</span><br><br>nginx -q <span class="hljs-comment">#åœ¨æ£€æµ‹é…ç½®æ–‡ä»¶æœŸé—´å±è”½éé”™è¯¯ä¿¡æ¯</span><br><br>nginx -?,-h <span class="hljs-comment">#æ‰“å¼€å¸®åŠ©ä¿¡æ¯Â Â </span><br><br>nginx -p prefix <span class="hljs-comment">#è®¾ç½®å‰ç¼€è·¯å¾„(é»˜è®¤æ˜¯:/usr/share/nginx/)</span><br><br>nginx -c filename <span class="hljs-comment">#è®¾ç½®é…ç½®æ–‡ä»¶(é»˜è®¤æ˜¯:/etc/nginx/nginx.conf)</span><br><br>nginx -g directives <span class="hljs-comment">#è®¾ç½®é…ç½®æ–‡ä»¶å¤–çš„å…¨å±€æŒ‡ä»¤</span><br><br></code></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡ä»¥ä¸Šæ–¹å¼è¿›è¡Œç›¸å…³è®¾ç½®</p><p>æ¨èNginxå¼€æºç¤¾åŒºğŸ”—<a href="https://www.nginx.org.cn/">é“¾æ¥</a></p><div>    <script src="//cdn.jsdelivr.net/npm/@waline/client"></script><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>MacOS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mac</tag>
      
      <tag>Nginx</tag>
      
      <tag>MacOS</tag>
      
      <tag>M1</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºCentOSç³»ç»ŸRedisä¸¤ç§å®‰è£…æ–¹å¼</title>
    <link href="/2022/10/17/%E5%9F%BA%E4%BA%8ECentOS%E7%B3%BB%E7%BB%9FRedis%E4%B8%A4%E7%A7%8D%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F/"/>
    <url>/2022/10/17/%E5%9F%BA%E4%BA%8ECentOS%E7%B3%BB%E7%BB%9FRedis%E4%B8%A4%E7%A7%8D%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–¹å¼ä¸€ï¼ˆyumå®‰è£…ï¼‰"><a href="#æ–¹å¼ä¸€ï¼ˆyumå®‰è£…ï¼‰" class="headerlink" title="æ–¹å¼ä¸€ï¼ˆyumå®‰è£…ï¼‰"></a>æ–¹å¼ä¸€ï¼ˆyumå®‰è£…ï¼‰</h2><ul><li>æ£€æŸ¥æ˜¯å¦æœ‰redis yum æº</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install redis<br></code></pre></td></tr></table></figure><ul><li>ä¸‹è½½fedoraçš„epelä»“åº“</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install epel-release<br></code></pre></td></tr></table></figure><ul><li>å®‰è£…redisæ•°æ®åº“</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install redis<br></code></pre></td></tr></table></figure><ul><li>å®‰è£…å®Œæ¯•åï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯åŠ¨redisæœåŠ¡</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">å¯åŠ¨redis</span><br>service redis start<br><span class="hljs-meta prompt_"># </span><span class="language-bash">åœæ­¢redis</span><br>service redis stop<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹redisè¿è¡ŒçŠ¶æ€</span><br>service redis status<br><span class="hljs-meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹redisè¿›ç¨‹</span><br>ps -ef | grep redis<br></code></pre></td></tr></table></figure><ul><li>è®¾ç½®redisä¸ºå¼€æœºè‡ªåŠ¨å¯åŠ¨</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">chkconfig redis on<br></code></pre></td></tr></table></figure><ul><li>è¿›å…¥redisæœåŠ¡</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">è¿›å…¥æœ¬æœºredis</span><br>redis-cli<br><span class="hljs-meta prompt_"># </span><span class="language-bash">åˆ—å‡ºæ‰€æœ‰key</span><br>keys *<br>``<br>- é˜²ç«å¢™å¼€æ”¾ç›¸åº”ç«¯å£<br>```bash<br><span class="hljs-meta prompt_"># </span><span class="language-bash">å¼€å¯6379</span><br>/sbin/iptables -I INPUT -p tcp --dport 6379 -j ACCEPT<br><span class="hljs-meta prompt_"># </span><span class="language-bash">å¼€å¯6380</span><br>/sbin/iptables -I INPUT -p tcp --dport 6380 -j ACCEPT<br><span class="hljs-meta prompt_"># </span><span class="language-bash">ä¿å­˜</span><br>/etc/rc.d/init.d/iptables save<br><span class="hljs-meta prompt_"># </span><span class="language-bash">centos 7ä¸‹æ‰§è¡Œ</span><br>service iptables save<br>``<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash"><span class="hljs-comment">## ä¿®æ”¹redisé»˜è®¤ç«¯å£å’Œå¯†ç </span></span><br>- æ‰“å¼€é…ç½®æ–‡ä»¶<br>```bash<br>vi /etc/redis.conf<br></code></pre></td></tr></table></figure><ul><li><p>ä¿®æ”¹é»˜è®¤ç«¯å£ï¼ŒæŸ¥æ‰¾ port 6379 ä¿®æ”¹ä¸ºç›¸åº”ç«¯å£å³å¯</p></li><li><p>ä¿®æ”¹é»˜è®¤å¯†ç ï¼ŒæŸ¥æ‰¾ requirepass foobared å°† foobared ä¿®æ”¹ä¸ºä½ çš„å¯†ç  </p></li><li><p>ä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨ redis</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">redis-server /etc/redis.conf<br></code></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ç«¯å£ç™»å½•</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">redis-cli -h 127.0.0.1 -p 6179<br></code></pre></td></tr></table></figure><ul><li><p>æ­¤æ—¶å†è¾“å…¥å‘½ä»¤åˆ™ä¼šæŠ¥é”™ </p></li><li><p>è¾“å…¥åˆšæ‰è¾“å…¥çš„å¯†ç </p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">auth 111<br></code></pre></td></tr></table></figure><ul><li>å…³é—­redis</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">redis-cli -h 127.0.0.1 -p 6179<br>shutdown<br></code></pre></td></tr></table></figure><p>è¿›ç¨‹å·æ€æ‰redis</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">ps -ef | grep redis<br>kill -9 XXX<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šå‚è€ƒé“¾æ¥ï¼š<a href="https://www.jianshu.com/p/b93c7f261637">centos7å®‰è£…Redisæ•™ç¨‹</a></p><h2 id="æ–¹å¼äºŒï¼ˆæºç ç¼–è¯‘å®‰è£…ï¼‰"><a href="#æ–¹å¼äºŒï¼ˆæºç ç¼–è¯‘å®‰è£…ï¼‰" class="headerlink" title="æ–¹å¼äºŒï¼ˆæºç ç¼–è¯‘å®‰è£…ï¼‰"></a>æ–¹å¼äºŒï¼ˆæºç ç¼–è¯‘å®‰è£…ï¼‰</h2><ul><li>æºç ä¸‹è½½<a href="https://github.com/redis/redis/archive/refs/tags/7.0.5.tar.gz">GitHub Download</a></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget https://github.com/redis/redis/archive/refs/tags/7.0.5.tar.gz<br></code></pre></td></tr></table></figure><ul><li>è§£å‹</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -zxvf redis-6.0.16.tar.gz<br></code></pre></td></tr></table></figure><ul><li>å®‰è£…cç¼–è¯‘</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">å› ä¸ºRedisåº•å±‚æ˜¯Cè¯­è¨€å†™çš„ï¼Œéœ€è¦å®‰è£…gccè¿›è¡Œç¼–è¯‘</span><br>yum -y install gcc-c++<br></code></pre></td></tr></table></figure><ul><li>é¢„ç¼–è¯‘</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd redis-6.0.16/<br>make<br></code></pre></td></tr></table></figure><ul><li>å®‰è£…æŒ‡å®šè·¯å¾„</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">make prefix=/usr/local/redis/ install<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
      <tag>CentOS</tag>
      
      <tag>Yum</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NginxåŸºç¡€çŸ¥è¯†</title>
    <link href="/2022/10/17/Nginx%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2022/10/17/Nginx%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h2 id="Nginxä»‹ç»"><a href="#Nginxä»‹ç»" class="headerlink" title="Nginxä»‹ç»"></a>Nginxä»‹ç»</h2><h3 id="1-ä»€ä¹ˆæ˜¯Nginxï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯Nginxï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯Nginxï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯Nginxï¼Ÿ</h3><p><a href="https://nginx.org/">Nginx</a> [engine x] æ˜¯<code>WebæœåŠ¡å™¨</code>å’Œ<code>åå‘ä»£ç†</code>æœåŠ¡å™¨ã€é‚®ä»¶ä»£ç†æœåŠ¡å™¨å’Œé€šç”¨ TCP&#x2F;UDP ä»£ç†æœåŠ¡å™¨ï¼Œæœ€åˆç”±<a href="http://sysoev.ru/en/">Igor Sysoev</a>ç¼–å†™ã€‚å¾ˆé•¿ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œå®ƒä¸€ç›´åœ¨è®¸å¤šè´Ÿè½½é‡çš„ä¿„ç½—æ–¯ç½‘ç«™ä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ <a href="http://www.yandex.ru/">Yandex</a>ã€ <a href="http://mail.ru/">Mail.Ru</a>ã€ <a href="http://vk.com/">VK</a>å’Œ <a href="http://www.rambler.ru/">Rambler</a>ã€‚åŸºäºCè¯­è¨€å¼€å‘</p><h3 id="2-åå‘ä»£ç†"><a href="#2-åå‘ä»£ç†" class="headerlink" title="2. åå‘ä»£ç†"></a>2. åå‘ä»£ç†</h3><p>æ­£å‘ä»£ç†ï¼ˆforward proxyï¼‰ï¼šæ˜¯ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’Œç›®æ ‡æœåŠ¡å™¨ä¹‹é—´çš„æœåŠ¡å™¨(ä»£ç†æœåŠ¡å™¨)ï¼Œä¸ºäº†ä»ç›®æ ‡æœåŠ¡å™¨å–å¾—å†…å®¹ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡ï¼Œç„¶åä»£ç†æœåŠ¡å™¨å‘ç›®æ ‡æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ç”¨äºä»£ç†å†…éƒ¨ç½‘ç»œå¯¹internetçš„è¿æ¥è¯·æ±‚(å¦‚VPN&#x2F;NAT),<code>å®¢æˆ·ç«¯</code>æŒ‡å®šä»£ç†æœåŠ¡å™¨,å¹¶å°†æœ¬æ¥è¦ç›´æ¥å‘é€ç»™ç›®æ ‡WebæœåŠ¡å™¨çš„HTTPè¯·æ±‚å…ˆå‘é€åˆ°ä»£ç†æœåŠ¡å™¨ä¸Š, ç„¶åç”±ä»£ç†æœåŠ¡å™¨å»è®¿é—®WebæœåŠ¡å™¨, å¹¶å°†WebæœåŠ¡å™¨çš„Responseå›ä¼ ç»™å®¢æˆ·ç«¯ã€‚</p><p>æ‰€è°“çš„æ­£å‘ä»£ç†å°±æ˜¯ä»£ç†æœåŠ¡å™¨<strong>æ›¿ä»£è®¿é—®æ–¹ã€ç”¨æˆ·ã€‘</strong>å»è®¿é—®ç›®æ ‡æœåŠ¡å™¨ã€æœåŠ¡å™¨ã€‘</p><p>åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰æ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†<code>æœåŠ¡å™¨</code>æ¥æ¥å— internet ä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†ä»æœåŠ¡å™¨ä¸Šå¾—åˆ°çš„ç»“æœè¿”å›ç»™ internet ä¸Šè¯·æ±‚è¿æ¥çš„å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶ä»£ç†æœåŠ¡å™¨å¯¹å¤–å°±è¡¨ç°ä¸ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ã€‚</p><p>æ‰€è°“çš„åå‘ä»£ç†å°±æ˜¯<strong>ä»£æ›¿æœåŠ¡å™¨æ¥å—ç”¨æˆ·çš„è¯·æ±‚</strong>ï¼Œä»ç›®æ ‡æœåŠ¡å™¨ä¸­å–å¾—ç”¨æˆ·çš„éœ€æ±‚èµ„æºï¼Œç„¶åå‘é€ç»™ç”¨æˆ·</p><h3 id="3-è´Ÿè½½å‡è¡¡"><a href="#3-è´Ÿè½½å‡è¡¡" class="headerlink" title="3. è´Ÿè½½å‡è¡¡"></a>3. è´Ÿè½½å‡è¡¡</h3><blockquote><p>æ•°æ®æµé‡åˆ†æ‘Šåˆ°å¤šä¸ªæœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼Œå‡è½»æ¯å°æœåŠ¡å™¨çš„å‹åŠ›ï¼Œå¤šå°æœåŠ¡å™¨å…±åŒå®Œæˆå·¥ä½œä»»åŠ¡ï¼Œä»è€Œæé«˜äº†æ•°æ®çš„ååé‡ã€‚</p></blockquote><h3 id="4-åŠ¨é™åˆ†ç¦»"><a href="#4-åŠ¨é™åˆ†ç¦»" class="headerlink" title="4. åŠ¨é™åˆ†ç¦»"></a>4. åŠ¨é™åˆ†ç¦»</h3><blockquote><p>å°†é™æ€çš„èµ„æºæ”¾åˆ°åå‘ä»£ç†æœåŠ¡å™¨,èŠ‚çœç”¨æˆ·çš„è®¿é—®æ—¶é—´</p></blockquote><h3 id="5-WebæœåŠ¡å™¨"><a href="#5-WebæœåŠ¡å™¨" class="headerlink" title="5. WebæœåŠ¡å™¨"></a>5. WebæœåŠ¡å™¨</h3><ul><li>webåº”ç”¨æœåŠ¡å™¨ï¼Œå¦‚ï¼š<ul><li>tomcat </li><li>resin</li><li>jetty</li></ul></li><li>webæœåŠ¡å™¨ï¼Œå¦‚ï¼š<ul><li>Apache æœåŠ¡å™¨ </li><li>Nginx</li><li>IIS</li></ul></li></ul><blockquote><p>åŒºåˆ†ï¼šwebæœåŠ¡å™¨ä¸èƒ½è§£æjspç­‰é¡µé¢ï¼Œåªèƒ½å¤„ç†jsã€cssã€htmlç­‰é™æ€èµ„æºã€‚</p></blockquote><blockquote><p>å¹¶å‘ï¼šwebæœåŠ¡å™¨çš„å¹¶å‘èƒ½åŠ›è¿œé«˜äºwebåº”ç”¨æœåŠ¡å™¨ã€‚</p></blockquote><h2 id="å®‰è£…Nginx"><a href="#å®‰è£…Nginx" class="headerlink" title="å®‰è£…Nginx"></a>å®‰è£…Nginx</h2><h3 id="1-å®‰è£…nginxçš„ä¾èµ–åº“"><a href="#1-å®‰è£…nginxçš„ä¾èµ–åº“" class="headerlink" title="1. å®‰è£…nginxçš„ä¾èµ–åº“"></a>1. å®‰è£…nginxçš„ä¾èµ–åº“</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum -y install gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel<br></code></pre></td></tr></table></figure><h3 id="2-è§£å‹å®‰è£…åŒ…"><a href="#2-è§£å‹å®‰è£…åŒ…" class="headerlink" title="2. è§£å‹å®‰è£…åŒ…"></a>2. è§£å‹å®‰è£…åŒ…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">tar -zxvf nginx-1.10.0.tar.gz<br></code></pre></td></tr></table></figure><h3 id="3-é…ç½®nginxå®‰è£…åŒ…"><a href="#3-é…ç½®nginxå®‰è£…åŒ…" class="headerlink" title="3. é…ç½®nginxå®‰è£…åŒ…"></a>3. é…ç½®nginxå®‰è£…åŒ…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd nginx-1.10.0<br><br>./configure --prefix=/usr/local/nginx<br><span class="hljs-meta prompt_"># </span><span class="language-bash"> ./configureé…ç½®nginxå®‰è£…åˆ°/usr/java/nginxç›®å½•ä¸‹</span><br></code></pre></td></tr></table></figure><h3 id="4-ç¼–è¯‘å¹¶å®‰è£…"><a href="#4-ç¼–è¯‘å¹¶å®‰è£…" class="headerlink" title="4. ç¼–è¯‘å¹¶å®‰è£…"></a>4. ç¼–è¯‘å¹¶å®‰è£…</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">make &amp;&amp; make install<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘æŠ¥é”™1:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">src/core/ngx_murmurhash.c: åœ¨å‡½æ•°â€˜ngx_murmur_hash2â€™ä¸­:<br>src/core/ngx_murmurhash.c:37:11: é”™è¯¯ï¼š``this` `statement may fall through [-Werror=implicit-fallthrough=]<br></code></pre></td></tr></table></figure><p>è§£å†³ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">è¿›å…¥åˆ°nginx-1.10.0ç›®å½•ä¸‹(è§£å‹ç›®å½•)</span><br>vim objs/Makefile<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">æ‰¾åˆ°æ•°æ®ï¼Œdelå»æ‰-Werror</span><br>CFLAGS = -pipe -O -W -Wall -Wpointer-arith -Wno-unused-parameter -Werror -gã€€<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘æŠ¥é”™2:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">src/os/unix/ngx_user.c: In function â€˜ngx_libc_cryptâ€™:<br>src/os/unix/ngx_user.c:36:7: error: â€˜struct crypt_dataâ€™ has no member named â€˜current_saltâ€™<br>cd.current_salt[0] = ~salt[0];<br></code></pre></td></tr></table></figure><p>è§£å†³ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">vim src/os/unix/ngx_user.c<br><span class="hljs-meta prompt_"># </span><span class="language-bash">ç”¨/* */æ³¨é‡Šæ‰æ­¤è¡Œ</span><br>cd.current_salt[0] = ~salt[0];<br></code></pre></td></tr></table></figure><h3 id="5-Nginxçš„å¯åŠ¨åŠå…³é—­"><a href="#5-Nginxçš„å¯åŠ¨åŠå…³é—­" class="headerlink" title="5. Nginxçš„å¯åŠ¨åŠå…³é—­"></a>5. Nginxçš„å¯åŠ¨åŠå…³é—­</h3><p>è¿›å…¥nginxç›®å½•ä¸‹æœ‰ä¸€ä¸ªsbinç›®å½•ï¼Œsbinç›®å½•ä¸‹æœ‰ä¸€ä¸ªnginxå¯æ‰§è¡Œç¨‹åºï¼Œå¯åŠ¨å³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">å¯åŠ¨</span><br>./nginx<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…³é—­</span><br>./nginx -s stop<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å¯ä»¥ä¸å…³é—­nginxçš„æƒ…å†µä¸‹æ›´æ–°é…ç½®æ–‡ä»¶</span><br>./nginx -s reload<br></code></pre></td></tr></table></figure><h3 id="6-Nginx-conf-é…ç½®æ–‡ä»¶ä»‹ç»"><a href="#6-Nginx-conf-é…ç½®æ–‡ä»¶ä»‹ç»" class="headerlink" title="6. Nginx.conf é…ç½®æ–‡ä»¶ä»‹ç»"></a>6. Nginx.conf é…ç½®æ–‡ä»¶ä»‹ç»</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">user  nobody;</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">å·¥ä½œè¿›ç¨‹</span><br>worker_processes  1;<br><br>events &#123;<br>    #è¿æ¥æ± è¿æ¥æ•°<br>    worker_connections  1024;<br>&#125;<br><span class="hljs-meta prompt_">#</span><span class="language-bash">è¯·æ±‚æ–¹å¼</span><br>http &#123;<br>    #åª’ä½“ç±»å‹<br>    include       mime.types;<br>    #é»˜è®¤åª’ä½“ç±»å‹ äºŒè¿›åˆ¶<br>    default_type  application/octet-stream;<br>    #ä¸Šä¼ æ–‡ä»¶<br>    sendfile        on;<br>    #è¶…æ—¶æ—¶é—´<br>    keepalive_timeout  65;<br><br>    #gzip  on;<br>    #æœåŠ¡å™¨é…ç½®<br>server &#123;<br>        #ç›‘å¬ç«¯å£<br>        listen       80;<br>        #ç›‘å¬åŸŸå<br>        server_name  localhost;<br>        #è¯·æ±‚å¤´ä¿¡æ¯<br>        proxy_set_header X-Forwarded-Host $host;<br>        proxy_set_header X-Forwarded-Server $host;<br>        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;<br>        #è¯·æ±‚æ˜ å°„è§„åˆ™ï¼Œ/ä»£è¡¨æ‰€æœ‰è¯·æ±‚è·¯å¾„<br>        location / &#123;<br>             #è¯·æ±‚è½¬å‘åœ°å€<br>             #root html;<br> proxy_pass http://manage.powershop.com:8080;<br>             #æ¬¢è¿é¡µ<br>             #index  index.html index.htm;<br>             #è½¬å‘è¿æ¥è¶…æ—¶æ—¶é—´<br>proxy_connect_timeout 600;<br>             #è½¬å‘è¯»å–è¶…æ—¶æ—¶é—´<br>proxy_read_timeout 600;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åå‘ä»£ç†é…ç½®"><a href="#åå‘ä»£ç†é…ç½®" class="headerlink" title="åå‘ä»£ç†é…ç½®"></a>åå‘ä»£ç†é…ç½®</h2><h3 id="1-å®‰è£…tomcatä¿®æ”¹ç«¯å£"><a href="#1-å®‰è£…tomcatä¿®æ”¹ç«¯å£" class="headerlink" title="1. å®‰è£…tomcatä¿®æ”¹ç«¯å£"></a>1. å®‰è£…tomcatä¿®æ”¹ç«¯å£</h3><p>å…ˆåˆ°å®‰è£…ç›®å½•(æˆ–è€…è§£å‹ç›®å½•)ä¸‹æ‰¾åˆ°confæ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢æ‰¾åˆ°server.xmlçš„æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- åœ¨ä¸€å°è®¡ç®—æœºä¸Šé…ç½®2ä¸ªtomcatï¼Œå…³é”®æ˜¯tomcaté‡Œçš„server.xmlæ–‡ä»¶ä¸­ä¸‰ä¸ªç«¯å£å¿…é¡»ä¸åŒã€‚éœ€è¦ä¿®æ”¹conf/server.xml --&gt;</span><br><span class="hljs-comment">&lt;!-- ç¬¬1âƒ£ï¸å¤„ port--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8090&quot;</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;HTTP/1.1&quot;</span></span><br><span class="hljs-tag">               <span class="hljs-attr">connectionTimeout</span>=<span class="hljs-string">&quot;20000&quot;</span></span><br><span class="hljs-tag">               <span class="hljs-attr">redirectPort</span>=<span class="hljs-string">&quot;8443&quot;</span> /&gt;</span><br><br><span class="hljs-comment">&lt;!-- ç¬¬2âƒ£ï¸å¤„ port--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8009&quot;</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;AJP/1.3&quot;</span> <span class="hljs-attr">redirectPort</span>=<span class="hljs-string">&quot;8443&quot;</span> /&gt;</span><br><br><span class="hljs-comment">&lt;!-- ç¬¬3âƒ£ï¸å¤„ port--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">Server</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8005&quot;</span> <span class="hljs-attr">shutdown</span>=<span class="hljs-string">&quot;SHUTDOWN&quot;</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h3 id="2-ä¿®æ”¹nginx-x2F-conf-x2F-nginx-confæ–‡ä»¶"><a href="#2-ä¿®æ”¹nginx-x2F-conf-x2F-nginx-confæ–‡ä»¶" class="headerlink" title="2. ä¿®æ”¹nginx&#x2F;conf&#x2F;nginx.confæ–‡ä»¶"></a>2. ä¿®æ”¹nginx&#x2F;conf&#x2F;nginx.confæ–‡ä»¶</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">server&#123;<br>    listen 80;<br>    server_name localhost;<br>    #locationä»£è¡¨æ˜ å°„è§„åˆ™ï¼Œ/ä»£è¡¨ä»»æ„url<br>    location / &#123;<br>        proxy_pass http://127.0.0.1:8080; <br>        # ä»£ç†é€šé“åªå†™ipå’Œportï¼Œå› ä¸ºurlä¼šæ‹¼æ¥åˆ°ipå’Œport<br>        proxy_connect_timeout 600;<br>proxy_read_timeout 600;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>locationæ˜ å°„é…ç½®<code>proxy_pass</code>å˜é‡</p><h2 id="è´Ÿè½½å‡è¡¡é…ç½®"><a href="#è´Ÿè½½å‡è¡¡é…ç½®" class="headerlink" title="è´Ÿè½½å‡è¡¡é…ç½®"></a>è´Ÿè½½å‡è¡¡é…ç½®</h2><h3 id="1-é…ç½®ä¸¤å°ä»¥ä¸Štomcat"><a href="#1-é…ç½®ä¸¤å°ä»¥ä¸Štomcat" class="headerlink" title="1. é…ç½®ä¸¤å°ä»¥ä¸Štomcat"></a>1. é…ç½®ä¸¤å°ä»¥ä¸Štomcat</h3><h3 id="2-ä¿®æ”¹nginx-x2F-conf-x2F-nginx-confæ–‡ä»¶-1"><a href="#2-ä¿®æ”¹nginx-x2F-conf-x2F-nginx-confæ–‡ä»¶-1" class="headerlink" title="2. ä¿®æ”¹nginx&#x2F;conf&#x2F;nginx.confæ–‡ä»¶"></a>2. ä¿®æ”¹nginx&#x2F;conf&#x2F;nginx.confæ–‡ä»¶</h3><ul><li><p>åœ¨httpèŠ‚ç‚¹ä¸Šæ·»åŠ ä¸€ä¸ªupstream</p></li><li><p>ä¿®æ”¹location &#x2F;ä¸‹çš„åå‘ä»£ç†</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs shell">upstream myTomcats&#123;<br>       server 127.0.0.1:8080;<br>       server 127.0.0.1:8090;<br>   &#125;<br>   server&#123;<br>       listen 80;<br>       server_name localhost;<br><br>       location / &#123;<br>           proxy_pass http://myTomcats;<br>       &#125;<br>   &#125;<br></code></pre></td></tr></table></figure><h3 id="è´Ÿè½½å‡è¡¡ç­–ç•¥"><a href="#è´Ÿè½½å‡è¡¡ç­–ç•¥" class="headerlink" title="è´Ÿè½½å‡è¡¡ç­–ç•¥"></a>è´Ÿè½½å‡è¡¡ç­–ç•¥</h3><table><thead><tr><th>è´Ÿè½½å‡è¡¡ç­–ç•¥</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>è½®è¯¢</td><td>é»˜è®¤</td></tr><tr><td>weight åŠ æƒè½®è¯¢</td><td>æƒé‡æ–¹å¼</td></tr><tr><td>ip_hash</td><td>ä¾æ®ipåˆ†é…æ–¹å¼</td></tr><tr><td>least_conn</td><td>æŒ‰è¿æ¥æ•°</td></tr><tr><td>fair ï¼ˆç¬¬ä¸‰æ–¹ï¼‰</td><td>æŒ‰å“åº”æ—¶é—´</td></tr><tr><td>url_hash</td><td>ä¾æ®URLåˆ†é…</td></tr></tbody></table><h5 id="è½®è¯¢"><a href="#è½®è¯¢" class="headerlink" title="è½®è¯¢"></a>è½®è¯¢</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">upstream bck_testing_01 &#123;<br><span class="hljs-meta prompt_">  # </span><span class="language-bash">é»˜è®¤æ‰€æœ‰æœåŠ¡å™¨æƒé‡ä¸º 1</span><br>  server 192.168.250.220:8080<br>  server 192.168.250.221:8080<br>  server 192.168.250.222:8080<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="weight-åŠ æƒè½®è¯¢"><a href="#weight-åŠ æƒè½®è¯¢" class="headerlink" title="weight åŠ æƒè½®è¯¢"></a>weight åŠ æƒè½®è¯¢</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">upstream bck_testing_01 &#123;<br>  server 192.168.250.220:8080   weight=3<br>  server 192.168.250.221:8080              # default weight=1<br>  server 192.168.250.222:8080              # default weight=1<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="least-conn"><a href="#least-conn" class="headerlink" title="least_conn"></a>least_conn</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell">upstream bck_testing_01 &#123;<br>  least_conn;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">  # </span><span class="language-bash">with default weight <span class="hljs-keyword">for</span> all (weight=1)</span><br>  server 192.168.250.220:8080<br>  server 192.168.250.221:8080<br>  server 192.168.250.222:8080<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="ip-hash"><a href="#ip-hash" class="headerlink" title="ip_hash"></a>ip_hash</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">upstream bck_testing_01 &#123;<br><br>  ip_hash;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">  # </span><span class="language-bash">with default weight <span class="hljs-keyword">for</span> all (weight=1)</span><br>  server 192.168.250.220:8080<br>  server 192.168.250.221:8080<br>  server 192.168.250.222:8080<br><br>&#125;<br></code></pre></td></tr></table></figure><h5 id="url-hash"><a href="#url-hash" class="headerlink" title="url_hash"></a>url_hash</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">upstream bck_testing_01 &#123;<br><br>  hash $request_uri;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">  # </span><span class="language-bash">with default weight <span class="hljs-keyword">for</span> all (weight=1)</span><br>  server 192.168.250.220:8080<br>  server 192.168.250.221:8080<br>  server 192.168.250.222:8080<br><br>&#125;<br></code></pre></td></tr></table></figure><p>å…·ä½“è¯·å‚è€ƒï¼š<a href="https://www.cnblogs.com/jayjiang/p/12714000.html">NginxçŸ¥å¤šå°‘ç³»åˆ—ä¹‹(ä¸ƒ)è´Ÿè½½å‡è¡¡ç­–ç•¥</a></p><p><a href="https://github.com/dunwu/nginx-tutorial#%E8%BD%AE%E8%AF%A2">Nginx æç®€æ•™ç¨‹</a></p><h2 id="åŠ¨é™åˆ†ç¦»"><a href="#åŠ¨é™åˆ†ç¦»" class="headerlink" title="åŠ¨é™åˆ†ç¦»"></a>åŠ¨é™åˆ†ç¦»</h2><h3 id="1-åˆ›å»ºé™æ€èµ„æº"><a href="#1-åˆ›å»ºé™æ€èµ„æº" class="headerlink" title="1. åˆ›å»ºé™æ€èµ„æº"></a>1. åˆ›å»ºé™æ€èµ„æº</h3><p>åœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºé™æ€èµ„æºè·¯å¾„æ”¾ç½®img</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">mkdir /usr/upload/images<br></code></pre></td></tr></table></figure><h3 id="2-é…ç½®nginx-conf"><a href="#2-é…ç½®nginx-conf" class="headerlink" title="2. é…ç½®nginx.conf"></a>2. é…ç½®nginx.conf</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">server&#123;<br>        listen 80;<br>        server_name localhost;<br><br>        location ~* \.(gif|jpg|png|jpeg)$ &#123;<br>            root /usr/upload/images;<br>            #rootï¼šè½¬å‘åˆ°ç›®å½•é‡Œ<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><h3 id="3-æµ‹è¯•"><a href="#3-æµ‹è¯•" class="headerlink" title="3. æµ‹è¯•"></a>3. æµ‹è¯•</h3><p>è®¿é—®æµ‹è¯•åœ°å€<code>http://10.211.55.7/11.jpg</code>è¿”å›é™æ€èµ„æºå›¾ç‰‡</p>]]></content>
    
    
    <categories>
      
      <category>Nginx</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Nginx</tag>
      
      <tag>è´Ÿè½½å‡è¡¡</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mavenä¾èµ–çˆ†çº¢Dependency not found é—®é¢˜</title>
    <link href="/2022/10/15/Maven%E4%BE%9D%E8%B5%96%E7%88%86%E7%BA%A2%E8%A7%A3%E5%86%B3/"/>
    <url>/2022/10/15/Maven%E4%BE%9D%E8%B5%96%E7%88%86%E7%BA%A2%E8%A7%A3%E5%86%B3/</url>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>Mavenä¾èµ–å€’å…¥åpomæ–‡ä»¶IDEAæç¤ºé”™è¯¯ï¼šdependency not found</p><h2 id="åŸå› -amp-è§£å†³"><a href="#åŸå› -amp-è§£å†³" class="headerlink" title="åŸå› &amp;è§£å†³"></a>åŸå› &amp;è§£å†³</h2><h3 id="1-IDEAä¸­Mavené…ç½®"><a href="#1-IDEAä¸­Mavené…ç½®" class="headerlink" title="1. IDEAä¸­Mavené…ç½®"></a>1. IDEAä¸­Mavené…ç½®</h3><p>åŸå› ï¼šé¡¹ç›®ä¸­Mavençš„è·¯å¾„&amp;xmlæ–‡ä»¶&amp;ä»“åº“è·¯å¾„é…ç½®å˜æ›´ï¼›ç”±äºcopyå…¶ä»–é¡¹ç›®ï¼Œé»˜è®¤è·¯å¾„æœªä¿®æ­£ï¼›ç”±äºæ–‡ä»¶é…ç½®å­˜åœ¨å¤šä¸ªå¯¼è‡´é…ç½®å¼‚å¸¸ç­‰</p><p>è§£å†³ï¼š é‡æ–°é…ç½®</p><h3 id="2-æœ¬åœ°ä»“åº“ä¾èµ–ä¸é”™åœ¨æŒç»­çˆ†çº¢"><a href="#2-æœ¬åœ°ä»“åº“ä¾èµ–ä¸é”™åœ¨æŒç»­çˆ†çº¢" class="headerlink" title="2. æœ¬åœ°ä»“åº“ä¾èµ–ä¸é”™åœ¨æŒç»­çˆ†çº¢"></a>2. æœ¬åœ°ä»“åº“ä¾èµ–ä¸é”™åœ¨æŒç»­çˆ†çº¢</h3><p>åŸå› ï¼š</p><ul><li>pomåæ ‡é”™è¯¯</li><li>ç½‘ç»œç¯å¢ƒå¼‚å¸¸</li></ul><p>è§£å†³</p><ul><li>æœç´¢å½“å‰ä¾èµ–pomåæ ‡ <a href="https://mvnrepository.com/">æŸ¥è¯¢é“¾æ¥</a></li><li>é¡¹ç›®ä¾èµ–æç¤ºå¤šä¸ªåæ ‡é”™è¯¯ï¼Œé€šè¿‡ä»¥ä¸Šé…ç½®åˆ·æ–°åæŸä¸ªä¾èµ–ä»æ—§çˆ†çº¢ï¼›IDEAæç¤º<code>dependency not found</code>åˆ·æ–°å¤šæ¬¡æ— æ•ˆ<ul><li>å°è¯•ç›´æ¥ä»Mavenè¿œç¨‹ä»“åº“ä¸‹è½½æ‰‹å·¥éƒ¨ç½²åˆ°æœ¬åœ°ä»“åº“ï¼Œæ³¨æ„è·¯å¾„ï¼Œä¸æ¨è</li><li>æ–°å»ºç©ºç™½Mavené¡¹ç›®ï¼Œå¯¼å…¥åæ ‡åˆ·æ–°ä¸‹è½½ï¼Œçˆ†çº¢é—®é¢˜è§£å†³</li></ul></li></ul><p>ğŸ˜·é‡åˆ°é—®é¢˜æ²‰ç€å†·é™ï¼Œè®¤çœŸé˜…è¯»ï¼Œæ–¹å¯è±ç„¶ï¼ï¼</p>]]></content>
    
    
    <categories>
      
      <category>Maven</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Maven</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysqlå¼‚å¸¸é”™è¯¯å¤„ç†-Establishing SSL connection without server&#39;s identity verification is not recommended.</title>
    <link href="/2022/10/15/Mysql%E8%BF%9E%E6%8E%A5%E9%94%99%E8%AF%AF1/"/>
    <url>/2022/10/15/Mysql%E8%BF%9E%E6%8E%A5%E9%94%99%E8%AF%AF1/</url>
    
    <content type="html"><![CDATA[<h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><p>Establishing SSL connection without serverâ€™s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isnâ€™t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to â€˜falseâ€™. You need either to explicitly disable SSL by setting useSSL&#x3D;false, or set useSSL&#x3D;true and provide truststore for server certificate verification.</p><p>ç¿»è¯‘ï¼š</p><p>ä¸å»ºè®®åœ¨æ²¡æœ‰æœåŠ¡å™¨èº«ä»½éªŒè¯çš„æƒ…å†µä¸‹å»ºç«‹ SSL è¿æ¥ã€‚ æ ¹æ® MySQL 5.5.45+ã€5.6.26+ å’Œ 5.7.6+ çš„è¦æ±‚ï¼Œå¦‚æœæœªè®¾ç½®æ˜¾å¼é€‰é¡¹ï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹å¿…é¡»å»ºç«‹ SSL è¿æ¥ã€‚ ä¸ºäº†ç¬¦åˆä¸ä½¿ç”¨ SSL çš„ç°æœ‰åº”ç”¨ç¨‹åºï¼ŒverifyServerCertificate å±æ€§è®¾ç½®ä¸ºâ€œfalseâ€ã€‚ æ‚¨éœ€è¦é€šè¿‡è®¾ç½® useSSL&#x3D;false æ¥æ˜¾å¼ç¦ç”¨ SSLï¼Œæˆ–è€…è®¾ç½® useSSL&#x3D;true å¹¶ä¸ºæœåŠ¡å™¨è¯ä¹¦éªŒè¯æä¾›ä¿¡ä»»åº“ã€‚</p><h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>MySQLåœ¨é«˜ç‰ˆæœ¬éœ€è¦æŒ‡æ˜æ˜¯å¦è¿›è¡ŒSSLè¿æ¥</p><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>åœ¨mysqlè¿æ¥å­—ç¬¦ä¸²urlä¸­åŠ å…¥ssl&#x3D;trueæˆ–è€…falseå³å¯</p><p>url&#x3D;jdbc:mysql:&#x2F;&#x2F;127.0.0.1:3306&#x2F;framework?characterEncoding&#x3D;utf8<code>&amp;useSSL=false</code></p><h2 id="é™„åŠ "><a href="#é™„åŠ " class="headerlink" title="é™„åŠ "></a>é™„åŠ </h2><p>ç”±äºä½¿ç”¨é˜¿é‡Œäº‘æœåŠ¡å™¨ï¼Œå¯¼è‡´é›ªå´©å¼•å‘é—®é¢˜<code>MySql Host is blocked because of many connection errors; unblock with &#39;mysqladmin flush-hosts&#39;</code></p><p>åŸå› ï¼šåŒä¸€ä¸ªipåœ¨çŸ­æ—¶é—´å†…äº§ç”Ÿå¤ªå¤šï¼ˆè¶…è¿‡mysqlæ•°æ®åº“max_connection_errorsçš„æœ€å¤§å€¼ï¼‰ä¸­æ–­çš„æ•°æ®åº“è¿æ¥è€Œå¯¼è‡´çš„é˜»å¡ï¼›</p><p>è§£å†³ï¼š</p><p>1ã€æé«˜å…è®¸çš„max_connection_errorsæ•°é‡ï¼ˆæ²»æ ‡ä¸æ²»æœ¬ï¼‰ï¼š</p><p>ã€€ã€€â‘  è¿›å…¥Mysqlæ•°æ®åº“æŸ¥çœ‹max_connection_errorsï¼š <strong>show variables like â€˜%max_connection_errors%â€™;</strong></p><p>ã€€  â‘¡ ä¿®æ”¹max_connection_errorsçš„æ•°é‡ä¸º1000ï¼š <strong>set global max_connect_errors &#x3D; 1000;</strong></p><p>ã€€ã€€â‘¢ æŸ¥çœ‹æ˜¯å¦ä¿®æ”¹æˆåŠŸï¼š<strong>show variables like â€˜%max_connection_errors%â€™;</strong></p><p>2ã€ä½¿ç”¨<strong>mysqladmin flush-hosts</strong> å‘½ä»¤æ¸…ç†ä¸€ä¸‹hostsæ–‡ä»¶ï¼ˆä¸çŸ¥é“mysqladminåœ¨å“ªä¸ªç›®å½•ä¸‹å¯ä»¥ä½¿ç”¨å‘½ä»¤æŸ¥æ‰¾ï¼š<strong>whereis mysqladmin</strong>ï¼‰ï¼›</p><p>ã€€ã€€â‘  åœ¨æŸ¥æ‰¾åˆ°çš„ç›®å½•ä¸‹ä½¿ç”¨å‘½ä»¤ä¿®æ”¹ï¼š&#x2F;usr&#x2F;bin&#x2F;<strong>mysqladmin flush-hosts -h192.168.1.1</strong> -P3308 <strong>-uroot</strong> -prootpwd;</p><p>ã€€ã€€å¤‡æ³¨ï¼š</p><p>ã€€ã€€ã€€ã€€å…¶ä¸­ç«¯å£å·ï¼Œç”¨æˆ·åï¼Œå¯†ç éƒ½å¯ä»¥æ ¹æ®éœ€è¦æ¥æ·»åŠ å’Œä¿®æ”¹ï¼›</p><p>ã€€ã€€ã€€ã€€é…ç½®æœ‰master&#x2F;slaveä¸»ä»æ•°æ®åº“çš„è¦æŠŠä¸»åº“å’Œä»åº“éƒ½ä¿®æ”¹ä¸€éçš„ï¼ˆæˆ‘å°±åƒäº†è¿™ä¸ªäºæ˜æ˜å¾ˆå®¹æ˜“çš„å‡ æ¡å‘½ä»¤ç»“æœæŠ˜è…¾äº†å¤§åŠå¤©ï¼‰ï¼›</p><p>ã€€ã€€ã€€ã€€ç¬¬äºŒæ­¥ä¹Ÿå¯ä»¥åœ¨æ•°æ®åº“ä¸­è¿›è¡Œï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š<strong>flush hosts;</strong></p><p><strong>å‚è€ƒé»„èªåšå®¢å›­åšå®¢ï¼ŒåŸæ–‡é“¾æ¥ï¼š<a href="http://www.cnblogs.com/huangcong/p/5072915.html">http://www.cnblogs.com/huangcong/p/5072915.html</a></strong></p>]]></content>
    
    
    <categories>
      
      <category>Mysql</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MacOS iTerm2 æ— æ³•ä½¿ç”¨rzå¼‚å¸¸</title>
    <link href="/2022/10/15/MacOS%20iTerm2%20%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8rz%E5%BC%82%E5%B8%B8%20/"/>
    <url>/2022/10/15/MacOS%20iTerm2%20%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8rz%E5%BC%82%E5%B8%B8%20/</url>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>è¿è¡Œrzä¼šæŠ¥ç±»ä¼¼é”™ï¼šrzä¼šå‡ºç°?z waiting to receive.**B0100000023be50</p><h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><ul><li>Mac OSæœªå®‰è£…lrzsz</li><li>macä¸Šçš„ç»ˆç«¯ä¸æ”¯æŒrzå’Œszï¼Œéœ€è¦åœ¨iterm2é…ç½®ä¸€ä¸‹</li></ul><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><h3 id="1-Macå®‰è£…rz"><a href="#1-Macå®‰è£…rz" class="headerlink" title="1. Macå®‰è£…rz"></a>1. Macå®‰è£…rz</h3><p>æ³¨æ„ï¼šéœ€è¦æå‰å®‰è£…brewï¼Œæ­¤å¤„ä¸åœ¨èµ˜è¿°</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">brew install lrzsz<br></code></pre></td></tr></table></figure><h3 id="2-é…ç½®iTerm2-shè„šæœ¬"><a href="#2-é…ç½®iTerm2-shè„šæœ¬" class="headerlink" title="2. é…ç½®iTerm2 shè„šæœ¬"></a>2. é…ç½®iTerm2 shè„šæœ¬</h3><h4 id="2-1-åœ¨Macç›®å½•-x2F-usr-x2F-local-x2F-binä¸‹å®‰è£…ä¸¤ä¸ªè„šæœ¬"><a href="#2-1-åœ¨Macç›®å½•-x2F-usr-x2F-local-x2F-binä¸‹å®‰è£…ä¸¤ä¸ªè„šæœ¬" class="headerlink" title="2.1 åœ¨Macç›®å½•&#x2F;usr&#x2F;local&#x2F;binä¸‹å®‰è£…ä¸¤ä¸ªè„šæœ¬"></a>2.1 åœ¨Macç›®å½•&#x2F;usr&#x2F;local&#x2F;binä¸‹å®‰è£…ä¸¤ä¸ªè„šæœ¬</h4><p>å®˜æ–¹æä¾›<a href="https://github.com/Keystion/iterm2-zmodem">è„šæœ¬</a></p><ul><li>iterm2-send-zmodem.sh</li><li>iterm2-recv-zmodem.sh</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo wget https://raw.github.com/Keystion/iterm2-zmodem/master/iterm2-send-zmodem.sh<br>sudo wget https://raw.github.com/Keystion/iterm2-zmodem/master/iterm2-recv-zmodem.sh<br>sudo <span class="hljs-built_in">chmod</span> 777 /usr/local/bin/iterm2-*<br></code></pre></td></tr></table></figure><p>æ³¨æ„ç½‘ç»œå½±å“</p><h4 id="2-2-iTerm2é…ç½®"><a href="#2-2-iTerm2é…ç½®" class="headerlink" title="2.2 iTerm2é…ç½®"></a>2.2 iTerm2é…ç½®</h4><p>åœ¨iTerm2ä¸­é…ç½®é€‰é¡¹</p><p>ç‚¹å‡»preferences â†’ profilesï¼Œé€‰æ‹©æŸä¸ªprofileï¼Œå¦‚Defaultï¼Œä¹‹åç»§ç»­é€‰æ‹©advanced â†’ triggersï¼Œæ·»åŠ ç¼–è¾‘æ·»åŠ å¦‚ä¸‹triggers</p><p>éœ€è¦æ·»åŠ ä¸¤ä¸ªå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">#</span><span class="language-bash">triggers1ï¼š</span><br>Regular expression: /*/*B0100<br>Action: Run Silent Coprocess<br>Parameters:/usr/local/bin/iterm2-send-zmodem.sh<br><span class="hljs-meta prompt_"> </span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">triggers2ï¼š</span><br>Regular expression: /*/*B00000000000000<br>Action: Run Silent Coprocess<br>Parameters:/usr/local/bin/iterm2-recv-zmodem.sh<br></code></pre></td></tr></table></figure><p>é…ç½®å®Œæˆæœ€å¥½é‡å¯ä¸€ä¸‹MacğŸ’»</p><p>å‚è€ƒï¼š<a href="https://webclown.net/2020/06/19/macOS-iTerm2%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8rz%E5%B9%B6%E6%8F%90%E7%A4%BAwaiting-to-receive%E3%80%90%E8%BD%AC%E3%80%91/">macOS iTerm2æ— æ³•ä½¿ç”¨rzå¹¶æç¤ºwaiting-to-receive. **B0100000023be50. _</a></p><div>    <script src="//cdn.jsdelivr.net/npm/@waline/client"></script><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>Mac</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mac</tag>
      
      <tag>iTerm2</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Feignå£°æ˜å¼æœåŠ¡</title>
    <link href="/2022/10/13/Feign%E5%A3%B0%E6%98%8E%E5%BC%8F%E6%9C%8D%E5%8A%A1/"/>
    <url>/2022/10/13/Feign%E5%A3%B0%E6%98%8E%E5%BC%8F%E6%9C%8D%E5%8A%A1/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€èƒŒæ™¯"><a href="#ä¸€ã€èƒŒæ™¯" class="headerlink" title="ä¸€ã€èƒŒæ™¯"></a>ä¸€ã€èƒŒæ™¯</h2><p>å½“æˆ‘ä»¬é€šè¿‡RestTemplateè°ƒç”¨å…¶å®ƒæœåŠ¡çš„APIæ—¶ï¼Œæ‰€éœ€è¦çš„å‚æ•°é¡»åœ¨è¯·æ±‚çš„URLä¸­è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚æœå‚æ•°å°‘çš„è¯æˆ–è®¸æˆ‘ä»¬è¿˜å¯ä»¥å¿å—ï¼Œä¸€æ—¦æœ‰å¤šä¸ªå‚æ•°çš„è¯ï¼Œè¿™æ—¶æ‹¼æ¥è¯·æ±‚å­—ç¬¦ä¸²å°±ä¼šæ•ˆç‡ä½ä¸‹</p><p>é‚£ä¹ˆæœ‰æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ç¡®å®šçš„æœ‰ï¼ŒNetflixå·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ¡†æ¶ï¼šFeignã€‚</p><h2 id="äºŒã€Feginç®€ä»‹"><a href="#äºŒã€Feginç®€ä»‹" class="headerlink" title="äºŒã€Feginç®€ä»‹"></a>äºŒã€Feginç®€ä»‹</h2><p><a href="https://github.com/Netflix/feign">Feign</a>æ˜¯ä¸€ä¸ªå£°æ˜å¼ Web æœåŠ¡å®¢æˆ·ç«¯ã€‚å®ƒä½¿ç¼–å†™ Web æœåŠ¡å®¢æˆ·ç«¯æ›´å®¹æ˜“ã€‚è¦ä½¿ç”¨ Feignï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªæ¥å£å¹¶æ·»åŠ <code>@FeignClient</code>æ³¨è§£å³å¯ã€‚å®ƒå…·æœ‰å¯æ’å…¥çš„æ³¨é‡Šæ”¯æŒï¼ŒåŒ…æ‹¬ Feign æ³¨é‡Šå’Œ JAX-RS æ³¨é‡Šã€‚</p><p>Feign è¿˜æ”¯æŒå¯æ’æ‹”çš„ç¼–ç å™¨å’Œè§£ç å™¨ã€‚</p><p>Spring Cloud æ·»åŠ äº†å¯¹ Spring MVC æ³¨é‡Šçš„æ”¯æŒï¼Œå¹¶æ”¯æŒä½¿ç”¨<code>HttpMessageConverters</code>Spring Web ä¸­é»˜è®¤ä½¿ç”¨çš„æ³¨é‡Šã€‚</p><p>Spring Cloud é›†æˆ Ribbon å’Œ Feignï¼Œåœ¨ä½¿ç”¨ Feign æ—¶æä¾›è´Ÿè½½å‡è¡¡çš„ http å®¢æˆ·ç«¯ã€‚</p><h2 id="ä¸‰ã€Feginå…¥é—¨æ¡ˆä¾‹"><a href="#ä¸‰ã€Feginå…¥é—¨æ¡ˆä¾‹" class="headerlink" title="ä¸‰ã€Feginå…¥é—¨æ¡ˆä¾‹"></a>ä¸‰ã€Feginå…¥é—¨æ¡ˆä¾‹</h2><h3 id="1-åˆ›å»ºfeign-provider"><a href="#1-åˆ›å»ºfeign-provider" class="headerlink" title="1. åˆ›å»ºfeign_provider"></a>1. åˆ›å»ºfeign_provider</h3><h4 id="1-1-controller"><a href="#1-1-controller" class="headerlink" title="1.1 controller"></a>1.1 controller</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><span class="hljs-keyword">import</span> com.example.service.UserService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> userService.getUserById(id);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="1-2-service"><a href="#1-2-service" class="headerlink" title="1.2 service"></a>1.2 service</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br>    User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Integer id)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><br><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(id,<span class="hljs-string">&quot;admin-1&quot;</span>,<span class="hljs-number">18</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="1-3-SpringBootApp"><a href="#1-3-SpringBootApp" class="headerlink" title="1.3 SpringBootApp"></a>1.3 SpringBootApp</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.discovery.EnableDiscoveryClient;<br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableDiscoveryClient</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FeignProviderApp</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        SpringApplication.run(FeignProviderApp.class,args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="1-4-application-yml"><a href="#1-4-application-yml" class="headerlink" title="1.4 application.yml"></a>1.4 application.yml</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8090</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">47.98</span><span class="hljs-number">.105</span><span class="hljs-number">.36</span><span class="hljs-string">:8848</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">feign-provider</span><br></code></pre></td></tr></table></figure><h3 id="2-åˆ›å»ºfeign-interface"><a href="#2-åˆ›å»ºfeign-interface" class="headerlink" title="2. åˆ›å»ºfeign_interface"></a>2. åˆ›å»ºfeign_interface</h3><h4 id="2-1-pom-xml"><a href="#2-1-pom-xml" class="headerlink" title="2.1 pom.xml"></a>2.1 pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>JDKåŠ¨æ€ä»£ç†</p><h4 id="2-2-UserFeign"><a href="#2-2-UserFeign" class="headerlink" title="2.2 UserFeign"></a>2.2 UserFeign</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><span class="hljs-keyword">import</span> org.springframework.cloud.openfeign.FeignClient;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><br><span class="hljs-meta">@FeignClient(&quot;feign-provider&quot;)</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserFeign</span> &#123;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span>;<span class="hljs-comment">//å¿…é¡»å¢åŠ (&quot;id&quot;)</span><br><br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li>åœ¨ @FeignClient æ³¨è§£ä¸­ï¼Œvalue å±æ€§çš„å–å€¼ä¸ºï¼šæœåŠ¡æä¾›è€…çš„æœåŠ¡åï¼Œå³æœåŠ¡æä¾›è€…é…ç½®æ–‡ä»¶application.ymlä¸­ spring.application.name çš„å–å€¼</li><li>æ¥å£ä¸­å®šä¹‰çš„æ¯ä¸ªæ–¹æ³•éƒ½ä¸æœåŠ¡æä¾›è€…ä¸­ Controller å®šä¹‰çš„æœåŠ¡æ–¹æ³•å¯¹åº”ï¼ˆç±»ä¼¼mapperä¸xmlï¼‰</li></ul><h3 id="3-åˆ›å»ºfeign-consumer"><a href="#3-åˆ›å»ºfeign-consumer" class="headerlink" title="3. åˆ›å»ºfeign_consumer"></a>3. åˆ›å»ºfeign_consumer</h3><h4 id="3-1-controller"><a href="#3-1-controller" class="headerlink" title="3.1 controller"></a>3.1 controller</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><span class="hljs-keyword">import</span> com.example.fegin.UserFeign;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.ServiceInstance;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.discovery.DiscoveryClient;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><span class="hljs-keyword">import</span> org.springframework.web.client.RestTemplate;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.Random;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/consumer&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserFeign userFeign;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span>&#123;<br>        System.out.println(userFeign.getClass());<br>        <span class="hljs-keyword">return</span> userFeign.getUserById(id);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-2-SpringBootApp"><a href="#3-2-SpringBootApp" class="headerlink" title="3.2 SpringBootApp"></a>3.2 SpringBootApp</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.discovery.EnableDiscoveryClient;<br><span class="hljs-keyword">import</span> org.springframework.cloud.openfeign.EnableFeignClients;<br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableDiscoveryClient</span><br><span class="hljs-meta">@EnableFeignClients</span> <span class="hljs-comment">// å¼€å¯feign</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FeignConsumerApp</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        SpringApplication.run(FeignConsumerApp.class,args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>@EnableFeignClients </code>æ³¨è§£å¼€å¯Feignæ‰«æï¼Œå…ˆè°ƒç”¨FeignClientsRegistrar.registerFeignClients()æ–¹æ³•æ‰«æ@FeignClientæ³¨è§£çš„æ¥å£ï¼Œå†å°†è¿™äº›æ¥å£æ³¨å…¥åˆ°Spring IOCå®¹å™¨ä¸­ï¼Œæ–¹ä¾¿åç»­è¢«è°ƒç”¨ã€‚</p><h4 id="3-3-application-yml"><a href="#3-3-application-yml" class="headerlink" title="3.3 application.yml"></a>3.3 application.yml</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">47.98</span><span class="hljs-number">.105</span><span class="hljs-number">.36</span><span class="hljs-string">:8848</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">ribbon-consumer</span><br></code></pre></td></tr></table></figure><h2 id="å››ã€OpenFeign"><a href="#å››ã€OpenFeign" class="headerlink" title="å››ã€OpenFeign"></a>å››ã€OpenFeign</h2><p>OpenFeign å…¨ç§° Spring Cloud OpenFeignï¼Œå®ƒæ˜¯ Spring å®˜æ–¹æ¨å‡ºçš„ä¸€ç§å£°æ˜å¼æœåŠ¡è°ƒç”¨ä¸è´Ÿè½½å‡è¡¡ç»„ä»¶ï¼Œå®ƒçš„å‡ºç°å°±æ˜¯ä¸ºäº†æ›¿ä»£è¿›å…¥åœæ›´ç»´æŠ¤çŠ¶æ€çš„ Feignã€‚</p><p>OpenFeign æ˜¯ Spring Cloud å¯¹ Feign çš„äºŒæ¬¡å°è£…ï¼Œå®ƒå…·æœ‰ Feign çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå¹¶åœ¨ Feign çš„åŸºç¡€ä¸Šå¢åŠ äº†å¯¹ Spring MVC æ³¨è§£çš„æ”¯æŒï¼Œä¾‹å¦‚ @RequestMappingã€@GetMapping å’Œ @PostMapping ç­‰ã€‚</p><p>OpenFeign å¸¸ç”¨æ³¨è§£ï¼š</p><table><thead><tr><th>æ³¨è§£</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>@FeignClient</td><td>è¯¥æ³¨è§£ç”¨äºé€šçŸ¥ OpenFeign ç»„ä»¶å¯¹ @RequestMapping æ³¨è§£ä¸‹çš„æ¥å£è¿›è¡Œè§£æï¼Œå¹¶é€šè¿‡åŠ¨æ€ä»£ç†çš„æ–¹å¼äº§ç”Ÿå®ç°ç±»ï¼Œå®ç°è´Ÿè½½å‡è¡¡å’ŒæœåŠ¡è°ƒç”¨ã€‚</td></tr><tr><td>@EnableFeignClients</td><td>è¯¥æ³¨è§£ç”¨äºå¼€å¯ OpenFeign åŠŸèƒ½ï¼Œå½“ Spring Cloud åº”ç”¨å¯åŠ¨æ—¶ï¼ŒOpenFeign ä¼šæ‰«ææ ‡æœ‰ @FeignClient æ³¨è§£çš„æ¥å£ï¼Œç”Ÿæˆä»£ç†å¹¶æ³¨å†Œåˆ° Spring å®¹å™¨ä¸­ã€‚</td></tr></tbody></table><h2 id="äº”ã€FeignåŸç†"><a href="#äº”ã€FeignåŸç†" class="headerlink" title="äº”ã€FeignåŸç†"></a>äº”ã€FeignåŸç†</h2><h3 id="1-æ‰«æFeignæ¥å£å¹¶æ³¨å…¥åˆ°Springå®¹å™¨"><a href="#1-æ‰«æFeignæ¥å£å¹¶æ³¨å…¥åˆ°Springå®¹å™¨" class="headerlink" title="1. æ‰«æFeignæ¥å£å¹¶æ³¨å…¥åˆ°Springå®¹å™¨"></a>1. æ‰«æFeignæ¥å£å¹¶æ³¨å…¥åˆ°Springå®¹å™¨</h3><p><code>@EnableFeignClients</code>å¼€å¯Feignæ¥å£æ‰«æï¼Œè°ƒç”¨FeignClientsRegistrar.registerFeignClients()æ–¹æ³•æ‰«æå«æœ‰<code>@FeignClient</code>æ³¨è§£çš„æ¥å£ï¼Œåœ¨è¿™äº›æ¥å£è°ƒç”¨æ—¶ç”Ÿæˆ<code>ä»£ç†ç±»</code>æ³¨å…¥åˆ°Spring IOCå®¹å™¨ä¸­ï¼Œæ–¹ä¾¿åç»­è¢«è°ƒç”¨ã€‚</p><h3 id="2-RequestTemplateå°è£…è¯·æ±‚ä¿¡æ¯"><a href="#2-RequestTemplateå°è£…è¯·æ±‚ä¿¡æ¯" class="headerlink" title="2. RequestTemplateå°è£…è¯·æ±‚ä¿¡æ¯"></a>2. RequestTemplateå°è£…è¯·æ±‚ä¿¡æ¯</h3><p>å½“Controllerè°ƒç”¨Feignä»£ç†ç±»æ—¶ï¼Œé€šè¿‡JDKçš„ä»£ç†æ–¹å¼ä¸ºFeignæ¥å£ç”Ÿæˆçš„ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»ï¼Œä»£ç†ç±»è°ƒç”¨<code>SynchronousMethodHandler.invoke()</code>åˆ›å»ºä¸€ä¸ªRequestTemplateå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°è£…äº†HTTPè¯·æ±‚éœ€è¦çš„å…¨éƒ¨ä¿¡æ¯ï¼Œå¦‚è¯·urlã€å‚æ•°ï¼Œè¯·æ±‚æ–¹å¼ç­‰ä¿¡æ¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> Object <span class="hljs-title function_">invoke</span><span class="hljs-params">(Object[] argv)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>    <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªRequestTemplate</span><br>    <span class="hljs-type">RequestTemplate</span> <span class="hljs-variable">template</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.buildTemplateFromArgs.create(argv);<br>    <span class="hljs-type">Retryer</span> <span class="hljs-variable">retryer</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.retryer.clone();<br><br>    <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>) &#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//å‘å‡ºè¯·æ±‚</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.executeAndDecode(template);<br>        &#125; <span class="hljs-keyword">catch</span> (RetryableException var8) &#123;<br>            ... ... ...<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-å‘èµ·è¯·æ±‚"><a href="#3-å‘èµ·è¯·æ±‚" class="headerlink" title="3. å‘èµ·è¯·æ±‚"></a>3. å‘èµ·è¯·æ±‚</h3><p><code>SynchronousMethodHandler.executeAndDecode()</code>é€šè¿‡RequestTemplateç”ŸæˆRequestï¼Œç„¶åæŠŠRequestäº¤ç»™Clientå»å¤„ç†ï¼ŒClientå¯ä»¥æ˜¯JDKåŸç”Ÿçš„URLConnectionï¼ŒApacheçš„HttpClientï¼Œä¹Ÿå¯ä»¥æ—¶OKhttpï¼Œæœ€åClientç»“åˆRibbonè´Ÿè½½å‡è¡¡å‘èµ·æœåŠ¡è°ƒç”¨è¯·æ±‚ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java">Object <span class="hljs-title function_">executeAndDecode</span><span class="hljs-params">(RequestTemplate template)</span> <span class="hljs-keyword">throws</span> Throwable &#123;<br>       <span class="hljs-comment">//ç”Ÿæˆè¯·æ±‚å¯¹è±¡</span><br>       <span class="hljs-type">Request</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.targetRequest(template);<br>       <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.logLevel != Level.NONE) &#123;<br>           <span class="hljs-built_in">this</span>.logger.logRequest(<span class="hljs-built_in">this</span>.metadata.configKey(), <span class="hljs-built_in">this</span>.logLevel, request);<br>       &#125;<br><br>       <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.nanoTime();<br><br>       Response response;<br>       <span class="hljs-keyword">try</span> &#123;<br>           <span class="hljs-comment">//å‘èµ·è¯·æ±‚</span><br>           response = <span class="hljs-built_in">this</span>.client.execute(request, <span class="hljs-built_in">this</span>.options);<br>       &#125; <span class="hljs-keyword">catch</span> (IOException var15) &#123;<br>           ... ... ...<br><br>           <span class="hljs-keyword">throw</span> FeignException.errorExecuting(request, var15);<br>       &#125;<br>&#125;       <br></code></pre></td></tr></table></figure><h2 id="å…­ã€Feginæ¥å£ä¸‰ç§ä¼ å‚æ–¹å¼"><a href="#å…­ã€Feginæ¥å£ä¸‰ç§ä¼ å‚æ–¹å¼" class="headerlink" title="å…­ã€Feginæ¥å£ä¸‰ç§ä¼ å‚æ–¹å¼"></a>å…­ã€Feginæ¥å£ä¸‰ç§ä¼ å‚æ–¹å¼</h2><ul><li>å½“å‚æ•°æ¯”è¾ƒå¤æ‚æ—¶ï¼ŒFeignå³ä½¿å£°æ˜ä¸ºgetè¯·æ±‚ä¹Ÿä¼šå¼ºè¡Œä½¿ç”¨postè¯·æ±‚</li><li>ä¸æ”¯æŒ@GetMappingç±»ä¼¼æ³¨è§£å£°æ˜è¯·æ±‚ï¼Œéœ€ä½¿ç”¨@RequestMapping(value &#x3D; â€œurlâ€,method &#x3D; RequestMethod.GET)</li></ul><h3 id="1-ï¼Ÿæ‹¼æ¥æ–¹å¼ä¼ å‚"><a href="#1-ï¼Ÿæ‹¼æ¥æ–¹å¼ä¼ å‚" class="headerlink" title="1. ï¼Ÿæ‹¼æ¥æ–¹å¼ä¼ å‚"></a>1. ï¼Ÿæ‹¼æ¥æ–¹å¼ä¼ å‚</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* feign_provider</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;/delUserById&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">delUserById</span><span class="hljs-params">(Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> userService.delUserById(id);<br>    &#125;  <br>    <span class="hljs-comment">// æ•°ç»„å½¢å¼</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/delUserByIdS&quot;)</span><br>    <span class="hljs-keyword">public</span> Integer[] deletedIds(Integer[] ids)&#123;<br>        <span class="hljs-keyword">return</span> userService.delUserByIds(ids);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* feign_consumer</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserFeign userFeign;<br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;/delUserById&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">delUserById</span><span class="hljs-params">(Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> userFeign.delUserById(id);<br>    &#125;<br>    <br>   <span class="hljs-comment">// æ•°ç»„</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/delUserByIdS&quot;)</span><br>    <span class="hljs-keyword">public</span> Integer[] delUserByIdS(Integer[] ids)&#123;<br>        <span class="hljs-keyword">return</span> userFeign.delUserByIds(ids);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* UserFeign æ¥å£</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@FeignClient(&quot;feign-provider&quot;)</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserFeign</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">    * å‚æ•°å¤„ <span class="hljs-doctag">@RequestParam</span>(&quot;id&quot;)</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/delUserById&quot;)</span><br>    User <span class="hljs-title function_">delUserById</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;id&quot;)</span> Integer id)</span>;<br>    <span class="hljs-comment">// RequestParam(&quot;id&quot;) ä½œç”¨ æ‹¼æ¥å‚æ•°-&gt;  http://127.0.0.1/consumer/delUserById?id=18</span><br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;/delUserByIdS&quot;)</span><br>    Integer[] delUserByIds(<span class="hljs-meta">@RequestParam(&quot;ids&quot;)</span>  Integer[] ids);<br>    <span class="hljs-comment">//@RequestParam(&quot;ids&quot;) ä½œç”¨ æ‹¼æ¥å‚æ•°-&gt; http://127.0.0.1/consumer/delUserByIdS?ids=1&amp;ids=2</span><br>&#125;<br><br></code></pre></td></tr></table></figure><p>æ¥å£æ³¨æ„ä½¿ç”¨<code>@RequestParam(&quot;value&quot;)</code>æ¥æ”¶æ‹¼æ¥å‚æ•°</p><h3 id="2-RESTfulæ–¹å¼ä¼ å‚"><a href="#2-RESTfulæ–¹å¼ä¼ å‚" class="headerlink" title="2. RESTfulæ–¹å¼ä¼ å‚"></a>2. RESTfulæ–¹å¼ä¼ å‚</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* feign_provider</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br>    <br>   <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> userService.getUserById(id);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* feign_consumer</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserFeign userFeign;<br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span>&#123;<br>        System.out.println(userFeign.getClass());<br>        <span class="hljs-keyword">return</span> userFeign.getUserById(id);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* UserFeign æ¥å£</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@FeignClient(&quot;feign-provider&quot;)</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserFeign</span> &#123;<br>    <span class="hljs-comment">// å‚æ•°æ‹¼æ¥@PathVariable(&quot;id&quot;) </span><br>    <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span>;<br>    <span class="hljs-comment">// @PathVariable(&quot;id&quot;) ä½œç”¨ æ‹¼æ¥å‚æ•°-&gt; http://127.0.0.1/consumer/getUserById/1</span><br>&#125;<br><br></code></pre></td></tr></table></figure><p>æ¥å£æ³¨æ„ä½¿ç”¨<code> @PathVariable(&quot;value&quot;)</code>æ¥æ”¶æ‹¼æ¥å‚æ•°</p><h3 id="3-POJOä¼ å‚æ–¹å¼"><a href="#3-POJOä¼ å‚æ–¹å¼" class="headerlink" title="3. POJOä¼ å‚æ–¹å¼"></a>3. POJOä¼ å‚æ–¹å¼</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* feign_provider</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br>    <br>   <span class="hljs-meta">@RequestMapping(&quot;/addUser&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">addUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span>&#123;<br>        <span class="hljs-keyword">return</span> userService.addUser(user);<br>    &#125;<br>    <span class="hljs-comment">// é›†åˆPOJO</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/addUsers&quot;)</span><br>    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">addUsers</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> List&lt;User&gt; userList)</span>&#123;<br>        <span class="hljs-keyword">return</span> userService.addUsers(userList);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* feign_consumer</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserFeign userFeign;<br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;/addUser&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">addUser</span><span class="hljs-params">(User user)</span>&#123;<br>        <span class="hljs-keyword">return</span> userFeign.addUser(user);<br>    &#125;<br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;/addUsers&quot;)</span><br>    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">addUser</span><span class="hljs-params">()</span>&#123;<br>        List&lt;User&gt; userList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        userList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;user&quot;</span>,<span class="hljs-number">18</span>));<br>        userList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;user2&quot;</span>,<span class="hljs-number">18</span>));<br>        userList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;user3&quot;</span>,<span class="hljs-number">18</span>));<br>        userList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-number">4</span>,<span class="hljs-string">&quot;user4&quot;</span>,<span class="hljs-number">18</span>));<br>        <span class="hljs-keyword">return</span> userFeign.addUsers(userList);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* UserFeign æ¥å£</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@FeignClient(&quot;feign-provider&quot;)</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserFeign</span> &#123;<br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;/addUser&quot;)</span><br>    User <span class="hljs-title function_">addUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span>;<br>    <span class="hljs-comment">// @RequestBody  ä½œç”¨ æ‹¼æ¥å‚æ•°-&gt; http://127.0.0.1/consumer/addUser</span><br>    <br>    <span class="hljs-meta">@RequestMapping(&quot;/addUsers&quot;)</span><br>    List&lt;User&gt; <span class="hljs-title function_">addUsers</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> List&lt;User&gt; userList)</span>;<br>    <span class="hljs-comment">// @RequestBody ä½œç”¨ æ‹¼æ¥å‚æ•°-&gt;  http://127.0.0.1/consumer/addUsers</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥å£æ³¨æ„ä½¿ç”¨<code> @RequestBody</code>æ¥æ”¶æ‹¼æ¥å‚æ•°</p><h2 id="ä¸ƒã€Feignä¼˜åŒ–"><a href="#ä¸ƒã€Feignä¼˜åŒ–" class="headerlink" title="ä¸ƒã€Feignä¼˜åŒ–"></a>ä¸ƒã€Feignä¼˜åŒ–</h2><h3 id="1-Feignæ—¥å¿—å¼€å¯"><a href="#1-Feignæ—¥å¿—å¼€å¯" class="headerlink" title="1. Feignæ—¥å¿—å¼€å¯"></a>1. Feignæ—¥å¿—å¼€å¯</h3><p>ä¸€ä¸ªé¡¶å‘±å‘±çš„æ¡†æ¶æ€ä¹ˆèƒ½æ²¡æœ‰æ—¥å¿—ï¼Ÿ</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">logging.level.project.user.UserClient:</span> <span class="hljs-string">DEBUG</span><br><br></code></pre></td></tr></table></figure><h4 id="1-1-Feign-æ—¥å¿—çº§åˆ«"><a href="#1-1-Feign-æ—¥å¿—çº§åˆ«" class="headerlink" title="1.1 Feign æ—¥å¿—çº§åˆ«"></a>1.1 Feign æ—¥å¿—çº§åˆ«</h4><ul><li><p><code>NONE</code>  ä¸è®°å½•æ—¥å¿—ï¼ŒFeigné»˜è®¤é…ç½®</p></li><li><p><code>BASIC</code> åªè®°å½•è¯·æ±‚æ–¹æ³•å’Œ URL ä»¥åŠå“åº”çŠ¶æ€ç å’Œæ‰§è¡Œæ—¶é—´ã€‚</p></li><li><p><code>HEADERS</code> è®°å½•åŸºæœ¬ä¿¡æ¯ä»¥åŠè¯·æ±‚å’Œå“åº”æ ‡å¤´ã€‚</p></li><li><p><code>FULL</code> è®°å½•è¯·æ±‚å’Œå“åº”çš„æ ‡å¤´ã€æ­£æ–‡å’Œå…ƒæ•°æ®ï¼›çº§åˆ«æœ€é«˜</p></li></ul><h3 id="1-2-Feignå¼€å¯é…ç½®"><a href="#1-2-Feignå¼€å¯é…ç½®" class="headerlink" title="1.2 Feignå¼€å¯é…ç½®"></a>1.2 Feignå¼€å¯é…ç½®</h3><ol><li><p>Javaé…ç½®Beanæ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FooConfiguration</span> &#123;<br>    <span class="hljs-meta">@Bean</span><br>    Logger.Level <span class="hljs-title function_">feignLoggerLevel</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> Logger.Level.FULL;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>yamlæ–¹å¼é…ç½®ï¼ˆæ¨èï¼‰</p><p>feign_consumerä¸­çš„application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">feign:</span><br>  <span class="hljs-attr">client:</span><br>    <span class="hljs-attr">config:</span><br>      <span class="hljs-attr">default:</span> <span class="hljs-comment">#è®¾ç½®default(æ¨è)æˆ–è€…æ˜¯æœåŠ¡æ³¨å†Œå</span><br>        <span class="hljs-attr">logger-level:</span> <span class="hljs-string">full</span> <span class="hljs-comment">#åŒæ—¶éœ€è¦è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ«</span><br><span class="hljs-comment"># åŒæ—¶éœ€è¦å¼€å¯log4jæ—¥å¿—çº§åˆ«</span><br><span class="hljs-attr">logging:</span><br>  <span class="hljs-attr">level:</span><br>    <span class="hljs-attr">com.bjpowernode.fegin:</span> <span class="hljs-string">debug</span><br></code></pre></td></tr></table></figure></li></ol><h3 id="1-3-æ§åˆ¶å°æ—¥å¿—è¾“å‡º"><a href="#1-3-æ§åˆ¶å°æ—¥å¿—è¾“å‡º" class="headerlink" title="1.3 æ§åˆ¶å°æ—¥å¿—è¾“å‡º"></a>1.3 æ§åˆ¶å°æ—¥å¿—è¾“å‡º</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell">2022-10-13 16:23:09.873 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] ---&gt; GET http://feign-provider/provider/getUserById/2 HTTP/1.1<br>2022-10-13 16:23:09.873 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] Accept-Encoding: gzip<br>2022-10-13 16:23:09.873 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] Accept-Encoding: deflate<br>2022-10-13 16:23:09.873 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] ---&gt; END HTTP (0-byte body)<br>2022-10-13 16:23:09.963  INFO 19580 --- [p-nio-80-exec-1] c.netflix.config.ChainedDynamicProperty  : Flipping property: feign-provider.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647<br>2022-10-13 16:23:09.984  INFO 19580 --- [p-nio-80-exec-1] c.netflix.loadbalancer.BaseLoadBalancer  : Client: feign-provider instantiated a LoadBalancer: DynamicServerListLoadBalancer:&#123;NFLoadBalancer:name=feign-provider,current list of Servers=[],Load balancer stats=Zone stats: &#123;&#125;,Server stats: []&#125;ServerList:null<br>2022-10-13 16:23:09.988  INFO 19580 --- [p-nio-80-exec-1] c.n.l.DynamicServerListLoadBalancer      : Using serverListUpdater PollingServerListUpdater<br>2022-10-13 16:23:10.043  INFO 19580 --- [p-nio-80-exec-1] c.netflix.config.ChainedDynamicProperty  : Flipping property: feign-provider.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647<br>2022-10-13 16:23:10.044  INFO 19580 --- [p-nio-80-exec-1] c.n.l.DynamicServerListLoadBalancer      : DynamicServerListLoadBalancer for client feign-provider initialized: DynamicServerListLoadBalancer:&#123;NFLoadBalancer:name=feign-provider,current list of Servers=[192.168.168.1:8090],Load balancer stats=Zone stats: &#123;unknown=[Zone:unknown;Instance count:1;Active connections count: 0;Circuit breaker tripped count: 0;Active connections per server: 0.0;]<br>&#125;,Server stats: [[Server:192.168.168.1:8090;Zone:UNKNOWN;Total Requests:0;Successive connection failure:0;Total blackout seconds:0;Last connection made:Thu Jan 01 08:00:00 CST 1970;First connection made: Thu Jan 01 08:00:00 CST 1970;Active Connections:0;total failure count in last (1000) msecs:0;average resp time:0.0;90 percentile resp time:0.0;95 percentile resp time:0.0;min resp time:0.0;max resp time:0.0;stddev resp time:0.0]<br>]&#125;ServerList:com.alibaba.cloud.nacos.ribbon.NacosServerList@3352a852<br>2022-10-13 16:23:10.991  INFO 19580 --- [erListUpdater-0] c.netflix.config.ChainedDynamicProperty  : Flipping property: feign-provider.ribbon.ActiveConnectionsLimit to use NEXT property: niws.loadbalancer.availabilityFilteringRule.activeConnectionsLimit = 2147483647<br>2022-10-13 16:23:12.148 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] &lt;--- HTTP/1.1 200  (2273ms)<br>2022-10-13 16:23:12.148 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] connection: keep-alive<br>2022-10-13 16:23:12.148 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] content-type: application/json<br>2022-10-13 16:23:12.148 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] date: Thu, 13 Oct 2022 08:23:12 GMT<br>2022-10-13 16:23:12.148 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] keep-alive: timeout=60<br>2022-10-13 16:23:12.148 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] transfer-encoding: chunked<br>2022-10-13 16:23:12.148 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] <br>2022-10-13 16:23:12.149 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] &#123;&quot;id&quot;:2,&quot;name&quot;:&quot;admin-1&quot;,&quot;age&quot;:18&#125;<br>2022-10-13 16:23:12.149 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign          : [UserFeign#getUserById] &lt;--- END HTTP (34-byte body)<br></code></pre></td></tr></table></figure><h3 id="2-GZIPå‹ç¼©"><a href="#2-GZIPå‹ç¼©" class="headerlink" title="2. GZIPå‹ç¼©"></a>2. GZIPå‹ç¼©</h3><p class="note note-primary">HTTP åè®®ä¸­çš„æ•°æ®å‹ç¼©</p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Compression">æ•°æ®å‹ç¼©</a>æ˜¯æé«˜ Web ç«™ç‚¹æ€§èƒ½çš„ä¸€ç§é‡è¦æ‰‹æ®µã€‚å¯¹äºæœ‰äº›æ–‡ä»¶æ¥è¯´ï¼Œé«˜è¾¾ 70% çš„å‹ç¼©æ¯”ç‡å¯ä»¥å¤§å¤§å‡ä½å¯¹äºå¸¦å®½çš„éœ€æ±‚ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå‹ç¼©ç®—æ³•çš„æ•ˆç‡ä¹Ÿè¶Šæ¥è¶Šé«˜ï¼ŒåŒæ—¶ä¹Ÿæœ‰æ–°çš„å‹ç¼©ç®—æ³•è¢«å‘æ˜å‡ºæ¥ï¼Œåº”ç”¨åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ã€‚</p><p>åœ¨å®é™…åº”ç”¨æ—¶ï¼Œweb å¼€å‘è€…ä¸éœ€è¦äº²æ‰‹å®ç°å‹ç¼©æœºåˆ¶ï¼Œæµè§ˆå™¨åŠæœåŠ¡å™¨éƒ½å·²ç»å°†å…¶å®ç°äº†ï¼Œä¸è¿‡ä»–ä»¬éœ€è¦ç¡®ä¿åœ¨æœåŠ¡å™¨ç«¯è¿›è¡Œäº†åˆç†çš„é…ç½®ã€‚æ•°æ®å‹ç¼©ä¼šåœ¨ä¸‰ä¸ªä¸åŒçš„å±‚é¢å‘æŒ¥ä½œç”¨ï¼š</p><ul><li>é¦–å…ˆæŸäº›æ ¼å¼çš„æ–‡ä»¶ä¼šé‡‡ç”¨ç‰¹å®šçš„ä¼˜åŒ–ç®—æ³•è¿›è¡Œå‹ç¼©ï¼Œï¼ˆGZIPå‹ç¼©ç®—æ³•<a href="https://blog.csdn.net/qq_42139383/article/details/115064562?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166565721916781432959945%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=166565721916781432959945&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-115064562-null-null.142%5Ev56%5Epc_rank_34_queryrelevant25,201%5Ev3%5Econtrol&utm_term=deflate&spm=1018.2226.3001.4187">deflate</a>ï¼‰</li><li>å…¶æ¬¡åœ¨ HTTP åè®®å±‚é¢ä¼šè¿›è¡Œé€šç”¨æ•°æ®åŠ å¯†ï¼Œå³æ•°æ®èµ„æºä¼šä»¥å‹ç¼©çš„å½¢å¼è¿›è¡Œç«¯åˆ°ç«¯ä¼ è¾“ï¼Œ</li><li>æœ€åæ•°æ®å‹ç¼©è¿˜ä¼šå‘ç”Ÿåœ¨ç½‘ç»œè¿æ¥å±‚é¢ï¼Œå³å‘ç”Ÿåœ¨ HTTP è¿æ¥çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´ã€‚</li></ul><p class="note note-primary">Feign GZIPå‹ç¼©é…ç½®</p><p>feign_consumerä¸­çš„application.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br>  <span class="hljs-attr">compression:</span><br>    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span> <span class="hljs-comment">#å¼€å¯æµè§ˆå™¨åˆ°consumerå±‚çš„gzipå‹ç¼©</span><br><span class="hljs-attr">feign:</span><br>  <span class="hljs-attr">compression:</span><br>    <span class="hljs-attr">request:</span><span class="hljs-comment"># è¯·æ±‚å¼€å¯</span><br>      <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># å¼€å¯feignåˆ°provideå±‚gzipå‹ç¼©</span><br>    <span class="hljs-attr">response:</span><span class="hljs-comment"># å“åº”å¼€å¯</span><br>      <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p class="note note-primary">Feign GZIPå‹ç¼©éªŒè¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell">2022-10-13 16:23:09.873 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign: [UserFeign#getUserById] Accept-Encoding: gzip<br>2022-10-13 16:23:09.873 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign: [UserFeign#getUserById] Accept-Encoding: deflate<br>2022-10-13 16:23:09.873 DEBUG 19580 --- [p-nio-80-exec-1] com.bjpowernode.fegin.UserFeign: [UserFeign#getUserById] ---&gt; END HTTP (0-byte body)<br></code></pre></td></tr></table></figure><h3 id="3-HTTPæ± è¿æ¥å¼€å¯"><a href="#3-HTTPæ± è¿æ¥å¼€å¯" class="headerlink" title="3. HTTPæ± è¿æ¥å¼€å¯"></a>3. HTTPæ± è¿æ¥å¼€å¯</h3><p>HTTPè¿æ¥éœ€è¦çš„ 3 æ¬¡æ¡æ‰‹ 4 æ¬¡åˆ†æ‰‹å¼€é”€å¤§ï¼ŒFeign åœ¨é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„æ˜¯ JDK åŸç”Ÿçš„ URLConnection å‘é€HTTPè¯·æ±‚ï¼Œå¹¶ä¸æ”¯æŒè¿æ¥æ± ï¼›å› ä¸ºä¼˜åŒ–æ–¹æ¡ˆé€‰æ‹©<a href="https://hc.apache.org/httpcomponents-client-5.2.x/index.html">Apache HttpClient</a> </p><ul><li>çµæ´»çš„è¿æ¥ç®¡ç†å’Œæ± åŒ–ã€‚</li><li>æ”¯æŒ HTTP å“åº”ç¼“å­˜ã€‚</li></ul><p>feign_consumer pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.github.openfeign<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>feign-httpclient<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>HTTPClientåœ¨Feignä¸­é»˜è®¤å¼€å¯å¹¶ä¸”é…ç½®é»˜è®¤å‚æ•°ï¼Œæ•…åªéœ€å¼•å…¥ä¾èµ–å³å¯</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221013185707720.png"></p><h3 id="4-Feignè¶…æ—¶å¤„ç†"><a href="#4-Feignè¶…æ—¶å¤„ç†" class="headerlink" title="4. Feignè¶…æ—¶å¤„ç†"></a>4. Feignè¶…æ—¶å¤„ç†</h3><h4 id="1-æ¨¡æ‹Ÿè¶…æ—¶"><a href="#1-æ¨¡æ‹Ÿè¶…æ—¶" class="headerlink" title="1. æ¨¡æ‹Ÿè¶…æ—¶"></a>1. æ¨¡æ‹Ÿè¶…æ—¶</h4><p>ä¿®æ”¹feign_providerï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><br><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Integer id)</span>&#123;<br>            <span class="hljs-comment">//æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                Thread.sleep(<span class="hljs-number">2000</span>);<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(id,<span class="hljs-string">&quot;admin-1&quot;</span>,<span class="hljs-number">18</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-æµ‹è¯•"><a href="#2-æµ‹è¯•" class="headerlink" title="2. æµ‹è¯•"></a>2. æµ‹è¯•</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"> ERROR 20032 --- [p-nio-80-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is feign.RetryableException: Read timed out executing GET http://feign-provider/provider/getUserById/11111] with root cause<br><br>java.net.SocketTimeoutException: Read timed out<br></code></pre></td></tr></table></figure><h4 id="3-è®¾ç½®Feignè¶…æ—¶å¤„ç†"><a href="#3-è®¾ç½®Feignè¶…æ—¶å¤„ç†" class="headerlink" title="3.è®¾ç½®Feignè¶…æ—¶å¤„ç†"></a>3.è®¾ç½®Feignè¶…æ—¶å¤„ç†</h4><h5 id="æ–¹å¼ä¸€ï¼šFeignè¶…æ—¶å¤„ç†ï¼ˆæ¨èï¼‰"><a href="#æ–¹å¼ä¸€ï¼šFeignè¶…æ—¶å¤„ç†ï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹å¼ä¸€ï¼šFeignè¶…æ—¶å¤„ç†ï¼ˆæ¨èï¼‰"></a>æ–¹å¼ä¸€ï¼šFeignè¶…æ—¶å¤„ç†ï¼ˆæ¨èï¼‰</h5><p>åœ¨feign_consumerçš„application.ymlä¸­åŠ å…¥</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">feign:</span><br>  <span class="hljs-attr">client:</span><br>    <span class="hljs-attr">config:</span><br>      <span class="hljs-attr">default:</span> <span class="hljs-comment">#è®¾ç½®default æˆ–è€…æ˜¯æœåŠ¡æ³¨å†Œå</span><br>        <span class="hljs-attr">connect-timeout:</span> <span class="hljs-number">5000</span> <span class="hljs-comment"># è¯·æ±‚é“¾æ¥è¶…æ—¶æ—¶é—´ï¼›é˜²æ­¢ç”±äºæœåŠ¡å™¨å¤„ç†æ—¶é—´é•¿è€Œé˜»å¡è°ƒç”¨è€…ã€‚</span><br>        <span class="hljs-attr">read-timeout:</span> <span class="hljs-number">5000</span>   <span class="hljs-comment">#è¯·æ±‚å¤„ç†è¶…æ—¶æ—¶é—´ï¼›ä»è¿æ¥å»ºç«‹æ—¶å¼€å§‹åº”ç”¨ï¼Œåœ¨è¿”å›å“åº”æ—¶é—´è¿‡é•¿æ—¶è§¦å‘ã€‚</span><br></code></pre></td></tr></table></figure><p><a href="https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#timeout-handling">Feign Timeout Handlingå‚è€ƒ</a></p><h5 id="æ–¹å¼äºŒï¼šRibbonä¸­è¶…æ—¶å¤„ç†"><a href="#æ–¹å¼äºŒï¼šRibbonä¸­è¶…æ—¶å¤„ç†" class="headerlink" title="æ–¹å¼äºŒï¼šRibbonä¸­è¶…æ—¶å¤„ç†"></a>æ–¹å¼äºŒï¼šRibbonä¸­è¶…æ—¶å¤„ç†</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">ribbon:</span><br>  <span class="hljs-attr">ConnectTimeout:</span> <span class="hljs-number">5000</span> <span class="hljs-comment">#è¯·æ±‚è¿æ¥çš„è¶…æ—¶æ—¶é—´</span><br>  <span class="hljs-attr">ReadTimeout:</span> <span class="hljs-number">5000</span> <span class="hljs-comment">#è¯·æ±‚å¤„ç†çš„è¶…æ—¶æ—¶é—´</span><br></code></pre></td></tr></table></figure><p><a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-netflix/1.4.0.RELEASE/single/spring-cloud-netflix.html">Ribbon Timeout Handlingå‚è€ƒ</a></p><p>ä¸¤è€…åŒæ—¶é…ç½®ï¼Œæ–¹å¼ä¸€ç”Ÿæ•ˆï¼›<a href="https://github.com/spring-cloud/spring-cloud-netflix/issues/696">å‚è€ƒ</a></p><blockquote><p>æ³¨æ„ï¼š</p><p>IDEAæ— æè¯å¹¶è­¦å‘Š</p><p>Cannot resolve configuration property â€˜ribbon.ReadTimeoutâ€™</p><p>Cannot resolve configuration property â€˜ribbon.ConnectTimeoutâ€™</p><p>è¿è¡Œç¨‹åºæµ‹è¯•å‘ç°Read timed outå¼‚å¸¸é—®é¢˜è§£å†³ï¼Œé…ç½®ç”Ÿæ•ˆ</p><p>IDEAæŠ¥é”™åŸå› åˆ†æï¼š</p><p>ç”±äº OpenFeign é›†æˆäº† Ribbon ï¼Œå…¶æœåŠ¡è°ƒç”¨ä»¥åŠè´Ÿè½½å‡è¡¡åœ¨åº•å±‚éƒ½æ˜¯ä¾é  Ribbon å®ç°çš„ï¼Œå› æ­¤ OpenFeign è¶…æ—¶æ§åˆ¶ä¹Ÿæ˜¯é€šè¿‡ Ribbon æ¥å®ç°çš„ã€‚</p><p>è¿™æ˜¯IDEAçš„æ™ºèƒ½æç¤ºï¼Œä½†æ˜¯å®ƒçš„æ™ºèƒ½æ˜¯ä¸€å®šçš„é€»è¾‘æ”¯æŒçš„ï¼Œå› ä¸ºribbonçš„é…ç½®æ¯”è¾ƒå¤æ‚ï¼ŒIDEAæ€€ç–‘è¿™ä¸ªé…ç½®å¯èƒ½æ˜¯å¤šä½™çš„ã€‚<a href="https://github.com/dyc87112/blog-comments/issues/118">issueså‚è€ƒ</a></p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p><a href="https://stackoverflow.com/questions/48954087/intellij-idea-complains-cannot-resolve-spring-boot-properties-but-they-work-fine">è§£å†³IDEAè­¦å‘Šå¯è¿›å…¥æ­¤é“¾æ¥</a></p></blockquote><div>    <script src="//cdn.jsdelivr.net/npm/@waline/client"></script><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>å¾®æœåŠ¡</category>
      
      <category>Spring Cloud Alibaba</category>
      
      <category>Feign</category>
      
      <category>HTTPClient</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¾®æœåŠ¡</tag>
      
      <tag>Spring Cloud Alibaba</tag>
      
      <tag>Feign</tag>
      
      <tag>HTTPClient</tag>
      
      <tag>OpenFeign</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Blogæ—¥å¿—</title>
    <link href="/2022/10/13/READEME/"/>
    <url>/2022/10/13/READEME/</url>
    
    <content type="html"><![CDATA[<h2 id="i-xiaoxin-GitHub-io"><a href="#i-xiaoxin-GitHub-io" class="headerlink" title="i-xiaoxin.GitHub.io"></a>i-xiaoxin.GitHub.io</h2><p>å‡ ç»è¾—è½¬ç»ˆäºè¿˜æ˜¯æ•²å®šäº†è¿™ä¸ªblogï¼›ç‰ˆæœ¬è¿­ä»£äº†N-1æ¬¡ï¼Œå¼€ç¯‡è®°å½•å˜åŒ–å§ï¼</p><h3 id="2022å¹´10æœˆ10æ—¥18ç‚¹30åˆ†"><a href="#2022å¹´10æœˆ10æ—¥18ç‚¹30åˆ†" class="headerlink" title="2022å¹´10æœˆ10æ—¥18ç‚¹30åˆ†"></a>2022å¹´10æœˆ10æ—¥18ç‚¹30åˆ†</h3><p>comment: waline</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;//cdn.jsdelivr.net/npm/@waline/client&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;//cdn.jsdelivr.net/npm/@waline/client&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;waline&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-title class_">Waline</span>(&#123;</span><br><span class="language-javascript">      <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#waline&#x27;</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">serverURL</span>: <span class="hljs-string">&#x27;https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app&#x27;</span>,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä¸º<a href="https://waline.js.org/">waline</a>æ ‡å‡†ä½¿ç”¨</p><h3 id="2022å¹´10æœˆ10æ—¥20ç‚¹45åˆ†"><a href="#2022å¹´10æœˆ10æ—¥20ç‚¹45åˆ†" class="headerlink" title="2022å¹´10æœˆ10æ—¥20ç‚¹45åˆ†"></a>2022å¹´10æœˆ10æ—¥20ç‚¹45åˆ†</h3><p> å‹é“¾é¡µ Links Page</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">title:</span> <span class="hljs-string">&quot;ğŸŒç½‘ç«™/Blog/ID&quot;</span><span class="hljs-string">,</span><br><span class="hljs-attr">intro:</span> <span class="hljs-string">&quot;ğŸ“¶ä¿¡æ¯ç®€ä»‹&quot;</span><span class="hljs-string">,</span><br><span class="hljs-attr">link:</span> <span class="hljs-string">&quot;ğŸ”—https://host&quot;</span><span class="hljs-string">,</span><br><span class="hljs-attr">avatar:</span> <span class="hljs-string">&quot;ğŸ§©ç½‘ç«™/Blogæä¾›çš„åŸåˆ›é“¾æ¥&quot;</span><br></code></pre></td></tr></table></figure><h3 id="2022å¹´10æœˆ10æ—¥20ç‚¹33åˆ†"><a href="#2022å¹´10æœˆ10æ—¥20ç‚¹33åˆ†" class="headerlink" title="2022å¹´10æœˆ10æ—¥20ç‚¹33åˆ†"></a>2022å¹´10æœˆ10æ—¥20ç‚¹33åˆ†</h3><p>æŠ›å¼€GitHubå¼‚åŸŸä¸–ç•Œä¸è°ˆï¼Œåœ¨æŒ‚ä¸Šå·¥å…·çš„ç¯å¢ƒä¸‹å¤šæ¬¡è®¿é—®<a href="https://i-xiaoxin.github.io/">ç«™ç‚¹</a>ï¼›å³ä½¿é…ä¸Š<a href="https://hexo.fluid-dev.com/docs/">Hexo Fluid</a>æ‡’åŠ è½½è¿˜æ˜¯å›¾ç‰‡åŠ è½½ç¼“æ…¢ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯å¢™çº¸jpgï¼›äºæ˜¯å°è¯•ä½¿ç”¨ç»æµæ–¹æ¡ˆwbepï¼›æƒ…å†µå¥½è½¬80%</p><h3 id="2022å¹´10æœˆ10æ—¥20ç‚¹39åˆ†"><a href="#2022å¹´10æœˆ10æ—¥20ç‚¹39åˆ†" class="headerlink" title="2022å¹´10æœˆ10æ—¥20ç‚¹39åˆ†"></a>2022å¹´10æœˆ10æ—¥20ç‚¹39åˆ†</h3><blockquote><p>çº¦æŸï¼š</p><ul><li>tags&amp;&amp;categories é…ç½®é¡¹é¦–å­—æ¯å¤§å†™ğŸ” </li><li>index_img: &#x2F;img&#x2F;article1-10.webp éšæœºğŸ²</li><li>banner_img: &#x2F;img&#x2F;post_banner.webp â“</li><li>To Do add ğŸ“ˆ</li></ul></blockquote><h3 id="2022å¹´10æœˆ16æ—¥20ç‚¹22åˆ†"><a href="#2022å¹´10æœˆ16æ—¥20ç‚¹22åˆ†" class="headerlink" title="2022å¹´10æœˆ16æ—¥20ç‚¹22åˆ†"></a>2022å¹´10æœˆ16æ—¥20ç‚¹22åˆ†</h3><p>é¦–é¡µğŸ’»ç«¯åŠ é€ŸåŸºæœ¬ğŸ‰‘ï¸ä»¥äº†ï¼ŒğŸ“±ç«¯é€Ÿåº¦ä¸å¤ªç†æƒ³ï¼Œå›¾ç‰‡ä¹Ÿæ˜¯é‡å¤çš„ï¼Œæœ€ç»ˆè¿˜æ˜¯å…ˆè€ƒè™‘ä½æˆæœ¬è§£å†³æ–¹æ¡ˆï¼Œå–æ¶ˆindex_img</p>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Other</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javaçº¿ç¨‹</title>
    <link href="/2022/10/11/Java%E7%BA%BF%E7%A8%8B/"/>
    <url>/2022/10/11/Java%E7%BA%BF%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€è¿›ç¨‹ä¸çº¿ç¨‹çš„æ¦‚å¿µ"><a href="#ä¸€ã€è¿›ç¨‹ä¸çº¿ç¨‹çš„æ¦‚å¿µ" class="headerlink" title="ä¸€ã€è¿›ç¨‹ä¸çº¿ç¨‹çš„æ¦‚å¿µ"></a>ä¸€ã€è¿›ç¨‹ä¸çº¿ç¨‹çš„æ¦‚å¿µ</h2><h3 id="1-è¿›ç¨‹"><a href="#1-è¿›ç¨‹" class="headerlink" title="1.è¿›ç¨‹"></a>1.è¿›ç¨‹</h3><p>è¿›ç¨‹çš„æ¦‚å¿µå®åœ¨æ“ä½œç³»ç»Ÿä¸Šä½“ç°çš„(ç”µè„‘ç³»ç»Ÿ,æ‰‹æœº),è¿›ç¨‹å°±æ˜¯åº”ç”¨ç¨‹åº,ä¾‹å¦‚:éŸ³ä¹,QQ,å¾®ä¿¡,ç‹è€…è£è€€,åªè¦æ˜¯åº”ç”¨ç¨‹åºå¹¶ä¸”æ‰“å¼€äº†å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼›æ‰§è¡Œä¸­çš„ç¨‹åºå°±æ˜¯<code>è¿›ç¨‹</code>,æ­¤<code>è¿›ç¨‹</code>æ˜¯ä¸€ä¸ªåŠ¨æ€çš„æ¦‚å¿µâ€“&gt;è¿›ç¨‹ä¸­ä¼šæœ‰æ‰§è¡Œå†…å®¹(è¿è¡ŒçŠ¶æ€,ä¼šæœ‰äº¤äº’),å¹¶ä¸”èµ‹äºˆä¸€å®šçš„ç‹¬ç«‹åŠŸèƒ½ï¼›å¤šè¿›ç¨‹å°±æ˜¯åœ¨ç”µè„‘çš„è¿è¡ŒçŠ¶æ€ä¸‹å¯ä»¥æ‰“å¼€å¤šä¸ªåº”ç”¨ç¨‹åºå¼€å¯å¤šä¸ªè¿›ç¨‹,å¹¶ä¸”è¿›ç¨‹ä¹‹é—´ä¸ä¼šæœ‰ç›¸äº’å¹²æ‰°,å¹¶ä¸”å¯ä»¥åŒæ—¶è¿è¡Œ,è¿›ç¨‹çš„è¿è¡Œè¦çœ‹çš„æ˜¯CPUçš„æ ¸å¿ƒæ•°â€“&gt;ä¸€ä¸ªæ ¸å¿ƒä»£è¡¨ä½ å¯ä»¥å¼€å¯ä¸€ä¸ªè¿›ç¨‹(æ ¸å¿ƒå¤„ç†æ—¶ä»€ä¹ˆæ ·æ˜¯æœ€ä½³çŠ¶æ€)â€“&gt;CPUåˆ‡æ¢åŠŸèƒ½(å½“å‰åœ¨æ˜¾ç¤ºæ—¶ä¸»è¦æ˜¾ç¤ºçš„æ˜¯å½“å‰æ‰“å¼€çš„çª—å£)â€“&gt;æ‰€ä»¥æ‰€æœ‰çš„è¿›ç¨‹éƒ½ä¼šæŠ¢å CPUçš„æ‰§è¡Œæƒâ€“&gt;æ‰€ä»¥è½¯ä»¶ç¨‹åºå¼€çš„è¶Šå¤šè¶Šæ¶ˆè€—CPUçš„èµ„æº</p><h3 id="2-çº¿ç¨‹"><a href="#2-çº¿ç¨‹" class="headerlink" title="2.çº¿ç¨‹"></a>2.çº¿ç¨‹</h3><p>çº¿ç¨‹çš„æ¦‚å¿µå®åœ¨åº”ç”¨ç¨‹åºä¸­æç°çš„,å¹¶ä¸”åº”ç”¨ç¨‹åº(è¿›ç¨‹)æƒ³è¦æ‰§è¡Œå°±å¿…é¡»æœ‰ä¸€ä¸ªçº¿ç¨‹(ä¸€èˆ¬è¿™ä¸ªçº¿ç¨‹å«åšä¸»çº¿ç¨‹),çº¿ç¨‹çš„ä½“ç°åœ¨åº”ç”¨ç¨‹åºè¿è¡Œ</p><h2 id="äºŒã€å¹¶å‘å’Œå¹¶è¡Œçš„æ¦‚å¿µ"><a href="#äºŒã€å¹¶å‘å’Œå¹¶è¡Œçš„æ¦‚å¿µ" class="headerlink" title="äºŒã€å¹¶å‘å’Œå¹¶è¡Œçš„æ¦‚å¿µ"></a>äºŒã€å¹¶å‘å’Œå¹¶è¡Œçš„æ¦‚å¿µ</h2><h3 id="1-å¹¶å‘"><a href="#1-å¹¶å‘" class="headerlink" title="1.å¹¶å‘"></a>1.å¹¶å‘</h3><p>å¹¶å‘åŸºæœ¬å«ä¹‰ åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œå¹¶å‘æ˜¯æŒ‡ä¸€ä¸ªæ—¶é—´æ®µä¸­æœ‰å‡ ä¸ªç¨‹åºéƒ½å¤„äºå·²å¯åŠ¨è¿è¡Œåˆ°è¿è¡Œå®Œæ¯•ä¹‹é—´ï¼Œä¸”è¿™å‡ ä¸ªç¨‹åºéƒ½æ˜¯åœ¨åŒä¸€ä¸ªå¤„ç†æœºä¸Šè¿è¡Œï¼Œä½†ä»»ä¸€ä¸ªæ—¶åˆ»ç‚¹ä¸Šåªæœ‰ä¸€ä¸ªç¨‹åºåœ¨å¤„ç†æœºä¸Šè¿è¡Œ</p><h3 id="2-å¹¶è¡Œ"><a href="#2-å¹¶è¡Œ" class="headerlink" title="2.å¹¶è¡Œ"></a>2.å¹¶è¡Œ</h3><p>å¹¶è¡Œæ˜¯æŒ‡â€œå¹¶æ’è¡Œèµ°â€æˆ–â€œåŒæ—¶å®è¡Œæˆ–å®æ–½â€ã€‚ åœ¨æ“ä½œç³»ç»Ÿä¸­æ˜¯æŒ‡ï¼Œä¸€ç»„ç¨‹åºæŒ‰ç‹¬ç«‹å¼‚æ­¥çš„é€Ÿåº¦æ‰§è¡Œï¼Œæ— è®ºä»å¾®è§‚è¿˜æ˜¯å®è§‚ï¼Œç¨‹åºéƒ½æ˜¯ä¸€èµ·æ‰§è¡Œçš„ã€‚ å¯¹æ¯”åœ°ï¼Œå¹¶å‘æ˜¯æŒ‡:åœ¨åŒä¸€ä¸ªæ—¶é—´æ®µå†…ï¼Œä¸¤ä¸ªæˆ–å¤šä¸ªç¨‹åºæ‰§è¡Œï¼Œæœ‰æ—¶é—´ä¸Šçš„é‡å (å®è§‚ä¸Šæ˜¯åŒæ—¶,å¾®è§‚ä¸Šä»æ˜¯é¡ºåºæ‰§è¡Œ)ã€‚</p><h3 id="3-åŒºåˆ«"><a href="#3-åŒºåˆ«" class="headerlink" title="3.åŒºåˆ«"></a>3.åŒºåˆ«</h3><ul><li>å¹¶å‘:åŒæ—¶åˆ»åªèƒ½æ‰§è¡Œä¸€æ¡æŒ‡ä»¤</li><li>å¹¶è¡Œ:åŒæ—¶åˆ»å¯ä»¥æ‰§è¡Œå¤šæ¡æŒ‡ä»¤</li></ul><h2 id="ä¸‰ã€Javaä¸­çº¿ç¨‹åˆ›å»ºçš„å‡ ç§æ–¹å¼"><a href="#ä¸‰ã€Javaä¸­çº¿ç¨‹åˆ›å»ºçš„å‡ ç§æ–¹å¼" class="headerlink" title="ä¸‰ã€Javaä¸­çº¿ç¨‹åˆ›å»ºçš„å‡ ç§æ–¹å¼"></a>ä¸‰ã€Javaä¸­çº¿ç¨‹åˆ›å»ºçš„å‡ ç§æ–¹å¼</h2><h3 id="1-ç»§æ‰¿Threadç±»"><a href="#1-ç»§æ‰¿Threadç±»" class="headerlink" title="1.ç»§æ‰¿Threadç±»"></a>1.ç»§æ‰¿<code>Thread</code>ç±»</h3><blockquote><p>æ­¥éª¤:</p><ul><li>åˆ›å»ºä¸€ä¸ªç±»,ç»§æ‰¿Threadç±»</li><li>å®ç°Threadç±»ä¸­runæ–¹æ³•â€“&gt;runæ–¹æ³•æ˜¯å¤šçº¿ç¨‹çš„æ‰§è¡Œä½“(çº¿ç¨‹æ‰§è¡Œçš„é€»è¾‘ä»£ç )</li><li>åˆ›å»ºæµ‹è¯•ç±»,å¹¶åˆ›ç»§æ‰¿äº†Threadç±»çš„ç±»å¯¹è±¡</li><li>è°ƒç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹</li></ul></blockquote><p>åˆ›å»ºè‡ªå®šä¹‰ç±»ç»§æ‰¿Threadç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br><br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyThread</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyThread</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">super</span>(name);<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å¦‚æœæƒ³è¦å®ç°å¤šçº¿ç¨‹åˆ™å¿…é¡»é‡å†™runæ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// æ³¨é‡Šçˆ¶ç±»çš„è°ƒç”¨,è‡ªå·±å®ç°</span><br>        <span class="hljs-comment">// super.run();</span><br>        <span class="hljs-comment">// å†™ä¸€ä¸ªå¾ªç¯ä»£è¡¨å¤šçº¿ç¨‹çš„æ‰§è¡Œé€»è¾‘</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(name + <span class="hljs-string">&quot;çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åˆ›å»ºæµ‹è¯•æ–¹æ³•å¹¶åˆ›å»ºçº¿ç¨‹å¯åŠ¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºå¤šçº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">MyThread</span> <span class="hljs-variable">myThread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>(<span class="hljs-string">&quot;çº¿ç¨‹1&quot;</span>);<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹</span><br>        <span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒ</span><br>        <span class="hljs-comment">// myThread1.run();</span><br>        <span class="hljs-comment">// æ­£ç¡®å¯åŠ¨æ–¹å¼</span><br>        myThread1.start();<br>        <span class="hljs-comment">// åˆ›å»ºå¤šçº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">MyThread</span> <span class="hljs-variable">myThread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>(<span class="hljs-string">&quot;çº¿ç¨‹2&quot;</span>);<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹</span><br>        <span class="hljs-comment">// é”™è¯¯ç¤ºèŒƒ</span><br>        <span class="hljs-comment">// myThread2.run();</span><br>        <span class="hljs-comment">// æ­£ç¡®å¯åŠ¨æ–¹å¼</span><br>        myThread2.start();<br>        System.out.println(<span class="hljs-string">&quot;ç¨‹åºç»“æŸ...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-å®ç°Runnableæ¥å£é‡å†™runæ–¹æ³•"><a href="#2-å®ç°Runnableæ¥å£é‡å†™runæ–¹æ³•" class="headerlink" title="2.å®ç°Runnableæ¥å£é‡å†™runæ–¹æ³•"></a>2.å®ç°Runnableæ¥å£é‡å†™runæ–¹æ³•</h3><blockquote><p>æ­¥éª¤ï¼š</p><ul><li>åˆ›å»ºçº¿ç¨‹ç±»,å¹¶å®ç°Runnable</li><li>é‡å†™runæ–¹æ³•å¹¶ç¼–å†™é€»è¾‘ä»£ç </li><li>åˆ›å»ºæµ‹è¯•ç±»å¹¶åˆ›å»ºå®ç°Runnableæ¥å£çš„ç±»</li><li>åˆ›å»ºThread,å¹¶å°†çº¿ç¨‹ç±»åšå‚æ•°ä¼ å…¥</li><li>å¯åŠ¨çº¿ç¨‹æµ‹è¯•</li></ul></blockquote><p>çº¿ç¨‹ç±»å®ç°Runnableæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å¤šçº¿ç¨‹æ‰§è¡Œçš„é€»è¾‘çš„æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(<span class="hljs-string">&quot;å¤šçº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>çº¿ç¨‹æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹ç±»</span><br>        <span class="hljs-type">MyThread</span> <span class="hljs-variable">myThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>();<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(myThread);<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(myThread);<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹</span><br>        thread1.start();<br>        thread2.start();<br><br><br>        <span class="hljs-comment">// ä½¿ç”¨å†…éƒ¨ç±»åˆ›å»ºå¤šçº¿ç¨‹</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>                    System.out.println(<span class="hljs-string">&quot;åŒ¿åå†…éƒ¨ç±»å¤šçº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>                &#125;<br>            &#125;<br>        &#125;);<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹</span><br>        thread3.start();<br>        System.out.println(<span class="hljs-string">&quot;ç¨‹åºç»“æŸ...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-å®ç°Callableæ¥å£åˆ›å»ºçº¿ç¨‹"><a href="#3-å®ç°Callableæ¥å£åˆ›å»ºçº¿ç¨‹" class="headerlink" title="3.å®ç°Callableæ¥å£åˆ›å»ºçº¿ç¨‹"></a>3.å®ç°Callableæ¥å£åˆ›å»ºçº¿ç¨‹</h3><blockquote><p>æ­¥éª¤ï¼š</p><ul><li>åˆ›å»ºçº¿ç¨‹ç±»å®ç°Callableæ¥å£,å¹¶å®ç°callæ–¹æ³•</li><li>é€šè¿‡FutureTaskç±»åˆ›å»ºçº¿ç¨‹â€“&gt;ä¼ å…¥Callableçš„å®ç°ç±»</li><li>åˆ›å»ºThreadçº¿ç¨‹å¯¹è±¡,å¹¶å°†FutureTaskå¯¹è±¡ä¼ å…¥å½“åšå‚æ•°</li><li>å¯åŠ¨çº¿ç¨‹</li><li>æ¥æ”¶çº¿ç¨‹è¿”å›å€¼</li></ul></blockquote><p>ä¸å‰ä¸¤ä¸åŒ,è¿™é‡Œæ²¡æœ‰runæ–¹æ³•,è€Œæ˜¯ä½¿ç”¨callæ–¹æ³•å»å®ç°çº¿ç¨‹çš„é€»è¾‘ä»£ç ,å¹¶ä¸”å¯ä»¥æ‹¥æœ‰<code>è¿”å›å€¼</code>,ä½†æ˜¯æ¥æ”¶è¿”å›å€¼æ—¶ä¼šé€ æˆçº¿ç¨‹çš„é˜»å¡(æš‚åœç­‰å¾…æ¥æ”¶æ•°æ®),åŒæ ·ä¸èƒ½é€šè¿‡åŒä¸€ä¸ªFutureTaskå¯¹è±¡åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹åˆ›å»ºæ–¹å¼</p><p>åˆ›å»ºçº¿ç¨‹ç±»å®ç°Callableæ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å®ç°Callableæ¥å£å¹¶æŒ‡å®šæ³›å‹ç±»å‹--&gt;æ³›å‹ç±»å‹æ˜¯Value,å¹¶ä¸”æ˜¯å¤šçº¿ç¨‹çš„è¿”å›å€¼</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Callable</span>&lt;String&gt; &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * callæ–¹æ³•ä¸ä¹‹å‰çš„ä¸¤ç§æ–¹å¼ä¸­çš„runæ–¹æ³•ç›¸åŒ,éƒ½æ˜¯çº¿ç¨‹çš„æ‰§è¡Œä½“</span><br><span class="hljs-comment">     * ä¸åŒç‚¹åœ¨äºcallæ–¹æ³•æœ‰è¿”å›å€¼</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> è¿”å›å€¼</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@throws</span> Exception çº¿ç¨‹çš„å¼‚å¸¸</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;çº¿ç¨‹æ‰§è¡Œå®Œæ¯•&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åˆ›å»ºæµ‹è¯•ç±»å¯åŠ¨çº¿ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹</span><br>        <span class="hljs-comment">// 1. åˆ›å»ºå®ç°Callableæ¥å£çš„ç±»</span><br>        <span class="hljs-type">MyThread</span> <span class="hljs-variable">myThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>();<br>        <span class="hljs-comment">// 2. ä½¿ç”¨FutureTaskåˆ›å»ºæ­¤çº¿ç¨‹,æ³›å‹ç±»å‹ä¸Callableå®ç°æ—¶çš„ç›¸åŒ</span><br>        <span class="hljs-comment">// å‚æ•°ä¸ºCallableå®ç°ç±»</span><br>        FutureTask&lt;String&gt; futureTask1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FutureTask</span>&lt;&gt;(myThread);<br>        FutureTask&lt;String&gt; futureTask2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FutureTask</span>&lt;&gt;(myThread);<br>        <span class="hljs-comment">// 3. åˆ›å»ºçº¿ç¨‹ç±»</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(futureTask1);<br>        <span class="hljs-comment">// 4. å¯åŠ¨çº¿ç¨‹</span><br>        thread1.start();<br>        <span class="hljs-comment">// 3. åˆ›å»ºçº¿ç¨‹ç±»</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(futureTask2);<br>        <span class="hljs-comment">// 4. å¯åŠ¨çº¿ç¨‹</span><br>        thread2.start();<br>        <span class="hljs-comment">// 5. æ¥æ”¶çº¿ç¨‹è¿”å›çš„å‚æ•°ä½¿ç”¨public V get() throws InterruptedException, ExecutionExceptionæ–¹æ³•</span><br>        <span class="hljs-comment">// getæ–¹æ³•ä¼šé€ æˆç¨‹åºé˜»å¡(ä¼šåœæ­¢),ç­‰å¾…æ¥æ”¶çº¿ç¨‹è¿”å›çš„æ•°æ®</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">result1</span> <span class="hljs-operator">=</span> futureTask1.get();<br>        System.out.println(result1);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">result2</span> <span class="hljs-operator">=</span> futureTask2.get();<br>        System.out.println(result2);<br>        <span class="hljs-comment">// æœ€åè¾“å‡ºç¨‹åºç»“æŸ</span><br>        System.out.println(<span class="hljs-string">&quot;ç¨‹åºç»“æŸ...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-ä¸‰ç§æ–¹å¼ä¼˜ç¼º"><a href="#4-ä¸‰ç§æ–¹å¼ä¼˜ç¼º" class="headerlink" title="4.ä¸‰ç§æ–¹å¼ä¼˜ç¼º"></a>4.ä¸‰ç§æ–¹å¼ä¼˜ç¼º</h3><blockquote><p>ç»§æ‰¿Threadç±»</p></blockquote><p>ä¼˜ç‚¹:ç»§æ‰¿åç›´æ¥å¯ä»¥å¯åŠ¨çº¿ç¨‹</p><p>ç¼ºç‚¹:Javaæ˜¯å•ç»§æ‰¿çš„è¯­è¨€,ä¸€æ—¦ç»§æ‰¿äº†åˆ™æ— æ³•ç»§æ‰¿å…¶ä»–çš„ç±»çš„,é€ æˆæˆ‘ä»¬çš„å¯æ‰©å±•æ€§éå¸¸ä½,å¹¶ä¸”æ²¡æœ‰è¿”å›å€¼</p><blockquote><p>å®ç°Runnableæ¥å£</p></blockquote><p>ä¼˜ç‚¹:è§£å†³äº†å•ç»§æ‰¿çš„æ‰©å±•æ€§ä½ç¼ºç‚¹</p><p>ç¼ºç‚¹:æ²¡æœ‰è¿”å›å€¼,éœ€è¦å•ç‹¬åˆ›å»ºThreadçº¿ç¨‹ç±»å¯åŠ¨</p><blockquote><p>å®ç°Callableæ¥å£åˆ›å»ºFutureTaskå¯¹è±¡</p></blockquote><p>ä¼˜ç‚¹:å¸¦æœ‰è¿”å›å€¼å¹¶ä¸”ä¹Ÿæ˜¯é€šè¿‡æ¥å£å®ç°æ–¹å¼åˆ›å»º</p><p>ç¼ºç‚¹:ä½¿ç”¨éº»çƒ¦,å¹¶ä¸”æ¥æ”¶è¿”å›å€¼ä¼šé€ æˆç¨‹åºé˜»å¡(æš‚åœ),å¹¶ä¸”ä¸€ä¸ªFutureTaskå¯¹è±¡åªèƒ½å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹</p><h2 id="å››ã€Javaä¸­çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä»¥åŠçŠ¶æ€æ§åˆ¶"><a href="#å››ã€Javaä¸­çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä»¥åŠçŠ¶æ€æ§åˆ¶" class="headerlink" title="å››ã€Javaä¸­çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä»¥åŠçŠ¶æ€æ§åˆ¶"></a>å››ã€Javaä¸­çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä»¥åŠçŠ¶æ€æ§åˆ¶</h2><h3 id="1-çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°"><a href="#1-çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°" class="headerlink" title="1.çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°"></a>1.çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸæ¦‚è¿°</h3><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221010212008318.png" style="zoom: 67%;" /><ul><li><p>æ–°å»ºçŠ¶æ€(New)</p><p>  ä½¿ç”¨newå…³é”®å­—åˆ›å»ºäº†Threadçº¿ç¨‹ç±»ä¹‹åå¹¶ä¸”åœ¨è°ƒç”¨start()æ–¹æ³•ä¹‹å‰å°±æ˜¯æ–°å»ºçŠ¶æ€,ä¸€æ—¦è°ƒç”¨start()æ–¹æ³•åˆ™è¿›å…¥å°±ç»ªçŠ¶æ€</p></li><li><p>å°±ç»ªçŠ¶æ€(Runnable)</p><p>  è°ƒç”¨start()æ–¹æ³•åå¹¶ä¸”å…·å¤‡æ‰€æœ‰çš„å¯æ‰§è¡ŒçŠ¶æ€(æ²¡æœ‰é”™è¯¯çš„æƒ…å†µä¸‹)å°±æ˜¯å°±ç»ªçŠ¶æ€â€“&gt;ä¸€æ—¦è¿›å…¥å°±ç»ªçŠ¶æ€ååˆ™èƒ½å¤Ÿå»äº‰å¤ºCPUçš„æ‰§è¡Œæƒ,ä»…ä»…åªæ˜¯äº‰å¤ºå¹¶æ²¡æœ‰æ‰§è¡Œæƒ,æ‰€æœ‰çš„çº¿ç¨‹éƒ½éœ€è¦å»äº‰å¤ºçº¿ç¨‹æ‰§è¡Œæƒä¹‹åæ‰èƒ½è¿›å…¥åˆ°è¿è¡ŒçŠ¶æ€</p></li><li><p>è¿è¡ŒçŠ¶æ€(Running)</p><p>  å½“å¤„äºå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹äº‰å¤ºåˆ°CPUçš„æ‰§è¡Œæƒåå³å¯è¿›å…¥å¹¶ä¸”æ‰§è¡Œrunæ–¹æ³•çš„é€»è¾‘(æ‰§è¡Œrunæ–¹æ³•å°±æ˜¯æ‰§è¡ŒçŠ¶æ€)è¿™æ—¶æ‰æ˜¯è¿è¡ŒçŠ¶æ€<br>  å¦‚æœåœ¨è¿è¡ŒçŠ¶æ€æ—¶ä¸¢å¤±CPUçš„æ‰§è¡Œæƒåˆ™è¿›å…¥å°±ç»ªçŠ¶æ€,å¦‚æœè°ƒç”¨sleep&#x2F;join&#x2F;ç­‰å¾…åŒæ­¥é”&#x2F;æ‰§è¡ŒIOæ“ä½œ&#x2F;waitæ–¹æ³•æ—¶æ˜¯è¿›å…¥é˜»å¡çŠ¶æ€<br>  å¦‚æœè°ƒç”¨yieldæ–¹æ³•åˆ™ä¹Ÿä¼šé‡æ–°è¿›å…¥å°±ç»ªçŠ¶æ€</p></li><li><p>é˜»å¡çŠ¶æ€(Blocked)</p><p>  å½“è¿è¡ŒçŠ¶æ€çš„runæ–¹æ³•ä¸­æ‰§è¡Œsleep&#x2F;join&#x2F;ç­‰å¾…åŒæ­¥é”&#x2F;æ‰§è¡ŒIOæ“ä½œ&#x2F;waitæ–¹æ³•æ—¶åˆ™ä¼šå‡ºç°é˜»å¡çŠ¶æ€(ç›¸å½“äºæ‰§è¡Œé€”ä¸­æš‚åœ),è¿™ç§çŠ¶æ€æ—¶åŒæ ·ä¹Ÿæ˜¯ä¸¢å¤±CPUçš„æ‰§è¡Œæƒ</p><ul><li>ç­‰å¾…é˜»å¡:è¿è¡Œä¸­è°ƒç”¨waitæ–¹æ³•åˆ™æ˜¯ä»£è¡¨è¿›å…¥ç­‰å¾…é˜»å¡çŠ¶æ€,åªæœ‰ç­‰å…¶ä»–çº¿ç¨‹è°ƒç”¨<code>notify</code>æˆ–<code>notifyAll</code>æ–¹æ³•æ—¶æ‰ä¼šè¢«å”¤é†’é‡æ–°è¿›å…¥å°±ç»ªçŠ¶æ€</li><li>åŒæ­¥ç­‰å¾…:å½“è·å–æ‰§è¡Œç­‰å¾…é”æ—¶ä¼šè¿›å…¥åŒæ­¥ç­‰å¾…â€“&gt;å½“å‰æŸä¸ªå¯¹è±¡æœ‰å…¶ä»–çº¿ç¨‹æ­£åœ¨æ‰§è¡Œ,åªèƒ½ç­‰å¾…å…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åæ‰å…è®¸è·å–,è·å–åŒæ­¥é”åæ‰ä¼šé‡æ–°è¿›å…¥åˆ°å°±ç»ªçŠ¶æ€</li><li>å…¶ä»–çŠ¶æ€:å½“çº¿ç¨‹ä»£ç”¨join&#x2F;IOæ“ä½œæ—¶,joinçº¿ç¨‹è®©æ­¥ä»£è¡¨å½“å‰è¿™æ¬¡è¿›å…¥é˜»å¡çŠ¶æ€è®©å…¶ä»–å…ˆè¡Œ,æ–¹æ³•è°ƒç”¨å®Œæ¯•ååˆ™é‡æ–°è¿›å…¥å°±ç»ªçŠ¶æ€;IOæ“ä½œç”±äºæ˜¯é’ˆå¯¹æ–‡ä»¶çš„æ“ä½œ,ä¼šå¾ªç¯è¯»å–æˆ–è€…è¯»å†™æ—¶ä¼šé€ æˆç¨‹åºé˜»å¡(åœ¨è¯»å†™æ•°æ®æ—¶æœ‰ä¸€ä¸ªè¿‡ç¨‹,è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯é€ æˆç¨‹åºé˜»å¡åŸå› )</li></ul></li><li><p>æ¶ˆäº¡çŠ¶æ€(Dead)</p><p>  çº¿ç¨‹runæ–¹æ³•æ‰§è¡Œå®Œæ¯•åå°±æ˜¯çº¿ç¨‹çš„æ¶ˆäº¡</p></li></ul><h3 id="2-çº¿ç¨‹çš„ä¼‘çœ "><a href="#2-çº¿ç¨‹çš„ä¼‘çœ " class="headerlink" title="2.çº¿ç¨‹çš„ä¼‘çœ "></a>2.çº¿ç¨‹çš„ä¼‘çœ </h3><ul><li><code>public static native void sleep(long millis) throws InterruptedException</code>:çº¿ç¨‹ä¼‘çœ millisæ˜¯ä»£è¡¨æ¯«ç§’å€¼</li><li><code>public static void sleep(long millis, int nanos) throws InterruptedException</code>:çº¿ç¨‹ä¼‘çœ millisæ˜¯æ¯«ç§’å€¼,nanosçº³ç§’å€¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyThread</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">super</span>(name);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// çº¿ç¨‹ä½“</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            <span class="hljs-comment">// çº¿ç¨‹runæ–¹æ³•ä¸å…è®¸å£°æ˜æŠ›å‡ºå¼‚å¸¸å¿…é¡»æ•è·</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// è®©çº¿ç¨‹ä¼‘çœ ä¸€å°ä¼šå„¿</span><br>                <span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span>) &#123;<br>                    Thread.sleep(<span class="hljs-number">1000</span>);<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>            <span class="hljs-comment">// è¾“å‡ºçº¿ç¨‹æ‰§è¡Œçš„æµç¨‹</span><br>            System.out.println(<span class="hljs-built_in">this</span>.getName() + <span class="hljs-string">&quot;-çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// çº¿ç¨‹ä¼‘çœ æµ‹è¯•ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span>çº¿ç¨‹ä¼‘çœ  &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>        <span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰çº¿ç¨‹</span><br>        <span class="hljs-type">MyThread</span> <span class="hljs-variable">myThread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>(<span class="hljs-string">&quot;çº¿ç¨‹ä¼‘çœ 1&quot;</span>);<br>        <span class="hljs-type">MyThread</span> <span class="hljs-variable">myThread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>(<span class="hljs-string">&quot;çº¿ç¨‹ä¼‘çœ 2&quot;</span>);<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹</span><br>        myThread1.start();<br>        myThread2.start();<br><br><br>        System.out.println(<span class="hljs-string">&quot;ä¸»çº¿ç¨‹ä¼‘çœ å¼€å§‹...&quot;</span>);<br>        <span class="hljs-comment">// çº¿ç¨‹ä¼‘çœ </span><br>        Thread.sleep(<span class="hljs-number">5000</span>);<br>        System.out.println(<span class="hljs-string">&quot;ä¸»çº¿ç¨‹ä¼‘çœ ç»“æŸ...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-çº¿ç¨‹çš„ä¼˜å…ˆçº§"><a href="#3-çº¿ç¨‹çš„ä¼˜å…ˆçº§" class="headerlink" title="3.çº¿ç¨‹çš„ä¼˜å…ˆçº§"></a>3.çº¿ç¨‹çš„ä¼˜å…ˆçº§</h3><p>æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œæ—¶éƒ½æœ‰ä¸€ä¸ªä¼˜å…ˆçº§,è®¾ç½®ä¼˜å…ˆçº§å¯ä»¥è®©CPUä¼˜å…ˆé€‰æ‹©,ä½†æ˜¯CPUé€‰ä¸é€‰æ‹©ä¸å…‰æ˜¯çœ‹ä¼˜å…ˆçº§çš„â€“&gt;è™½ç„¶å¯ä»¥è®¾ç½®ä½†æ˜¯æœ€ç»ˆçš„æ‰§è¡Œç»“æœä¸ä¸€å®šæ˜¯ä¼˜å…ˆçº§æœ€é«˜çš„</p><ul><li><p><code>public final void setPriority(int newPriority)</code>:è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§åˆ«ä¼˜å…ˆçº§æ•°å€¼ä¸º1-10,é»˜è®¤æ˜¯5</p></li><li><p>Threadç±»é™æ€å¸¸é‡;ä»¥ä¸‹ä¸‰ä¸ªé™æ€å¸¸é‡æ˜¯Threadç±»æä¾›è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§æ—¶ä½¿ç”¨</p><ul><li>æœ€ä½ä¼˜å…ˆçº§   public final static int MIN_PRIORITY &#x3D; 1;</li><li>ä¸­ç­‰ä¼˜å…ˆçº§(é»˜è®¤)  public final static int NORM_PRIORITY &#x3D; 5;</li><li>æœ€é«˜ä¼˜å…ˆçº§           public final static int MAX_PRIORITY &#x3D; 10;</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-comment">// è·å–å½“å‰æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡--&gt;é™æ€æ–¹æ³•</span><br>    <span class="hljs-comment">// private Thread thread;</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> priority;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyThread</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyThread</span><span class="hljs-params">(<span class="hljs-type">int</span> priority)</span> &#123;<br>        <span class="hljs-comment">// è·å–å½“å‰çº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-comment">// thread = Thread.currentThread();</span><br>        <span class="hljs-comment">// è®¾ç½®ä¼˜å…ˆçº§</span><br>        <span class="hljs-comment">// thread.setPriority(priority);</span><br>        <span class="hljs-comment">// è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§</span><br>        <span class="hljs-built_in">this</span>.priority = priority;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * çº¿ç¨‹æ‰§è¡Œæ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// è·å–å½“å‰çº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> Thread.currentThread();<br>        <span class="hljs-comment">// è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§--&gt;ä¸åˆ‡å®é™…,åŸå› æ˜¯runæ–¹æ³•ä¸æ­¢ç›´æ¥è°ƒç”¨,è€Œæ˜¯JVMè™šæ‹Ÿæœºè°ƒç”¨,æŠ¢å åˆ°CPUæ‰§è¡Œæƒæ—¶æ‰æ‰§è¡Œrunæ–¹æ³•</span><br>        thread.setPriority(<span class="hljs-built_in">this</span>.priority);<br>        <span class="hljs-comment">// çº¿ç¨‹æ‰§è¡Œ</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(thread.getName() + <span class="hljs-string">&quot;-çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹</span><br>        <span class="hljs-type">MyThread</span> <span class="hljs-variable">myThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>();<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹å¯¹è±¡ç”¨äºæ‰§è¡Œçº¿ç¨‹</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(myThread, <span class="hljs-string">&quot;çº¿ç¨‹1&quot;</span>);<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(myThread, <span class="hljs-string">&quot;çº¿ç¨‹2&quot;</span>);<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(myThread, <span class="hljs-string">&quot;çº¿ç¨‹3&quot;</span>);<br>        <span class="hljs-comment">// è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§</span><br>        <span class="hljs-comment">// ä»¥ä¸‹ä¸‰ä¸ªå¸¸é‡æ˜¯Threadç±»æä¾›çš„è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§æ—¶ä½¿ç”¨çš„</span><br>        <span class="hljs-comment">// Thread.MIN_PRIORITY</span><br>        <span class="hljs-comment">// Thread.NORM_PRIORITY</span><br>        <span class="hljs-comment">// Thread.MAX_PRIORITY</span><br>        <span class="hljs-comment">// è®¾ç½®æœ€ä½ä¼˜å…ˆçº§</span><br>        thread1.setPriority(Thread.MIN_PRIORITY);<br>        <span class="hljs-comment">// è®¾ç½®ä¸­ç­‰ä¼˜å…ˆçº§</span><br>        thread2.setPriority(Thread.NORM_PRIORITY);<br>        <span class="hljs-comment">// è®¾ç½®æœ€é«˜ä¼˜å…ˆçº§</span><br>        thread3.setPriority(Thread.MAX_PRIORITY);<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹æµ‹è¯•</span><br>        thread1.start();<br>        thread2.start();<br>        thread3.start();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-çº¿ç¨‹è®©æ­¥"><a href="#4-çº¿ç¨‹è®©æ­¥" class="headerlink" title="4.çº¿ç¨‹è®©æ­¥"></a>4.çº¿ç¨‹è®©æ­¥</h3><p>çº¿ç¨‹è®©æ­¥æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¤„äºå­”èè®©æ¢¨ç²¾ç¥æ”¾å¼ƒæ­¤æ¬¡æ‰§è¡Œçš„æœºä¼š,è®©ç»™å…¶ä»–çº¿ç¨‹æ‰§è¡Œ,ä½†æ˜¯è®©å½’è®©ä¸ä»£è¡¨æˆ‘ä¸è¿›è¡Œäº‰å¤º,æœ‰å¯èƒ½ä¼šå‡ºç°æˆ‘è®©æ­¥äº†æˆ‘æœ‰ä¸å°å¿ƒäº‰å¤ºåˆ°äº†æ‰§è¡Œæƒ;çº¿ç¨‹è®©æ­¥ä¼šè®©å½“å‰çº¿ç¨‹é‡æ–°è¿›å…¥å°±ç»ªçŠ¶æ€</p><ul><li><p><code>public static native void yield()</code>:çº¿ç¨‹è®©æ­¥æ–¹æ³•æ˜¯é™æ€æ–¹æ³•,è°ƒç”¨çš„æ˜¯åº•å±‚</p></li><li><p>è®©æ­¥çº¿ç¨‹ç±»</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread01</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// è·å–å½“å‰æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> Thread.currentThread();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            <span class="hljs-comment">// è°ƒç”¨çº¿ç¨‹è®©æ­¥æ–¹æ³•--&gt;é™æ€æ–¹æ³•ç›´æ¥è°ƒç”¨</span><br>            Thread.yield();<br>            System.out.println(thread.getName() + <span class="hljs-string">&quot;-çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ä¸è®©æ­¥çº¿ç¨‹ç±»</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread02</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// è·å–å½“å‰æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> Thread.currentThread();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(thread.getName() + <span class="hljs-string">&quot;-çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>  æµ‹è¯•ä»£ç </p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹1,æ˜¯å­˜åœ¨çº¿ç¨‹è®©æ­¥çš„</span><br>        <span class="hljs-type">MyThread01</span> <span class="hljs-variable">myThread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread01</span>();<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹2,æ˜¯æ²¡æœ‰çº¿ç¨‹è®©æ­¥çš„</span><br>        <span class="hljs-type">MyThread02</span> <span class="hljs-variable">myThread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread02</span>();<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(myThread1, <span class="hljs-string">&quot;è®©æ­¥çº¿ç¨‹&quot;</span>);<br>        <span class="hljs-type">Thread</span> <span class="hljs-variable">thread2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(myThread2, <span class="hljs-string">&quot;ä¸è®©æ­¥çº¿ç¨‹&quot;</span>);<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹</span><br>        thread1.start();<br>        thread2.start();<br>        <span class="hljs-comment">// mainæ–¹æ³•ä¸­è°ƒç”¨çº¿ç¨‹è®©æ­¥mainæ–¹æ³•ä¼šè®©</span><br>        Thread.yield();<br>        System.out.println(<span class="hljs-string">&quot;mainæ–¹æ³•ä¸­çº¿ç¨‹è®©æ­¥&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-çº¿ç¨‹åˆå¹¶-çº¿ç¨‹åŠ å…¥æ’å…¥"><a href="#5-çº¿ç¨‹åˆå¹¶-çº¿ç¨‹åŠ å…¥æ’å…¥" class="headerlink" title="5.çº¿ç¨‹åˆå¹¶(çº¿ç¨‹åŠ å…¥æ’å…¥)"></a>5.çº¿ç¨‹åˆå¹¶(çº¿ç¨‹åŠ å…¥æ’å…¥)</h3><p>å½“å‰æœ‰ä¸¤ä¸ªçº¿ç¨‹,çº¿ç¨‹Aå’Œçº¿ç¨‹B,æ¯”å¦‚æ‰§è¡Œçº¿ç¨‹æ—¶å…ˆè®©Bæ‰§è¡Œ,å¹¶ä¸”çº¿ç¨‹Bè°ƒç”¨joinæ’å…¥å…¶ä¸­,è¿™æ—¶çº¿ç¨‹Aå°±å¿…é¡»ç­‰å¾…çº¿ç¨‹Bçš„æ‰§è¡Œç»“æŸ;ç›¸å½“äºçº¿ç¨‹Aå’Œçº¿ç¨‹Bæ‰§è¡Œæ—¶,çº¿ç¨‹Aå……äº†é’±,çº¿ç¨‹ä¼šåœ¨çº¿ç¨‹Bç›´çº¿æ‰§è¡Œ,å¹¶ä¸”çº¿ç¨‹Bä¼šç­‰å¾…çº¿ç¨‹Açš„æ‰§è¡Œå®Œæ¯•</p><ul><li><code>public final void join() throws InterruptedException</code>:çº¿ç¨‹åˆå¹¶(æˆ–è€…å«æ’å…¥)</li><li><code>public final synchronized void join(long millis) throws InterruptedException</code>:çº¿ç¨‹åˆå¹¶(æˆ–è€…å«æ’å…¥),æ’å…¥å¤šå°‘æ¯«ç§’ç„¶åç¦»å¼€</li><li><code>public final synchronized void join(long millis, int nanos) throws InterruptedException</code>:çº¿ç¨‹åˆå¹¶(æˆ–è€…å«æ’å…¥),æ’å…¥å¤šå°‘æ¯«ç§’&#x2F;çº³ç§’ç„¶åç¦»å¼€</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyThread</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">super</span>(name);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(<span class="hljs-built_in">this</span>.getName() + <span class="hljs-string">&quot;-çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">MyThread</span> <span class="hljs-variable">myThread01</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>(<span class="hljs-string">&quot;çº¿ç¨‹1&quot;</span>);<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹</span><br>        myThread01.start();<br>        <span class="hljs-comment">// æ’å…¥çº¿ç¨‹</span><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// è°ƒç”¨æ’å…¥åˆå¹¶çº¿ç¨‹æ–¹æ³•</span><br>            myThread01.join();<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-comment">// ä¸»çº¿ç¨‹æ‰§è¡Œforå¾ªç¯</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>            System.out.println(<span class="hljs-string">&quot;ä¸»çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="6-å®ˆæŠ¤çº¿ç¨‹"><a href="#6-å®ˆæŠ¤çº¿ç¨‹" class="headerlink" title="6.å®ˆæŠ¤çº¿ç¨‹"></a>6.å®ˆæŠ¤çº¿ç¨‹</h3><p>å®ˆæŠ¤çº¿ç¨‹å­˜åœ¨æ„ä¹‰æ˜¯ä¸ºäº†å®ˆæŠ¤ç¨‹åºä¸­çš„çº¿ç¨‹,å¹¶ä¸”å®ˆæŠ¤çº¿ç¨‹ä¸ä¼šä¸»åŠ¨æ­»äº¡(åªè¦æ‰§è¡Œäº†å¹¶ä¸”ç»™äº†ä¸€ä¸ªæ­»å¾ªç¯åˆ™ä¸ä¼šä¸»åŠ¨ç»“æŸ),åªæœ‰å½“æ‰€æœ‰çº¿ç¨‹(éå®ˆæŠ¤çº¿ç¨‹å¤–çš„)å…¨éƒ¨æ¶ˆäº¡åæ‰ä¼šè·Ÿéšæ­»äº¡<br>å®ˆæŠ¤çº¿ç¨‹å¯ä»¥ç†è§£æ˜¯åå°çº¿ç¨‹â€“&gt;åœ¨åå°é»˜é»˜çš„å·¥ä½œçš„çº¿ç¨‹,æ— ç§å¥‰çŒ®çš„<br>å¦‚æœæƒ³è®©æ™®é€šçº¿ç¨‹åˆ‡æ¢ä¸ºå®ˆæŠ¤çº¿ç¨‹åªéœ€è¦è°ƒç”¨æ–¹æ³•<code>setDaemon</code>å¹¶ä¸”å¿…é¡»æ˜¯åœ¨è°ƒç”¨<code>start</code>æ–¹æ³•å‰è°ƒç”¨</p><ul><li><code>public final void setDaemon(boolean on)</code>:å°†å½“å‰çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹</li></ul><p>å®ˆæŠ¤çº¿ç¨‹ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                Thread.sleep(<span class="hljs-number">500</span>);<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>            System.out.println(<span class="hljs-string">&quot;å®ˆæŠ¤çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + (index++));<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ™®é€šçº¿ç¨‹ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyThread01</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                Thread.sleep(<span class="hljs-number">100</span>);<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>            System.out.println(<span class="hljs-string">&quot;çº¿ç¨‹æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> InterruptedException &#123;<br>        <span class="hljs-comment">// åˆ›å»ºå®ˆæŠ¤çº¿ç¨‹å¯¹è±¡</span><br>        <span class="hljs-type">MyThread</span> <span class="hljs-variable">myThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread</span>();<br>        <span class="hljs-comment">// å°†å½“å‰çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹,setDaemonæ­¤æ–¹æ³•å€¼ä¸ºtrueæ—¶æ˜¯å®ˆæŠ¤çº¿ç¨‹,ä¸ºfalseæ—¶æ˜¯éå®ˆæŠ¤çº¿ç¨‹(æ™®é€šçº¿ç¨‹)</span><br>        myThread.setDaemon(<span class="hljs-literal">true</span>);<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹</span><br>        myThread.start();<br><br>        <span class="hljs-comment">// åˆ›å»ºæ™®é€šçº¿ç¨‹</span><br>        <span class="hljs-type">MyThread01</span> <span class="hljs-variable">myThread01</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyThread01</span>();<br>        <span class="hljs-comment">// å¯åŠ¨æ™®é€šçº¿ç¨‹</span><br>        myThread01.start();<br><br>        <span class="hljs-comment">// æ‰‹åŠ¨ç¡ä¸€ä¸‹</span><br>        Thread.sleep(<span class="hljs-number">2000</span>);<br><br><br>        <span class="hljs-comment">// mainæ–¹æ³•æ‰§è¡Œå¾ªç¯</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) &#123;<br>            System.out.println(<span class="hljs-string">&quot;mainæ–¹æ³•æ‰§è¡Œ:&quot;</span> + i);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="äº”ã€çº¿ç¨‹åŒæ­¥synchronized"><a href="#äº”ã€çº¿ç¨‹åŒæ­¥synchronized" class="headerlink" title="äº”ã€çº¿ç¨‹åŒæ­¥synchronized"></a>äº”ã€çº¿ç¨‹åŒæ­¥synchronized</h2><h3 id="1-synchronizedå…³é”®å­—æ³¨æ„äº‹é¡¹"><a href="#1-synchronizedå…³é”®å­—æ³¨æ„äº‹é¡¹" class="headerlink" title="1.synchronizedå…³é”®å­—æ³¨æ„äº‹é¡¹"></a>1.synchronizedå…³é”®å­—æ³¨æ„äº‹é¡¹</h3><ul><li>synchronizedåªèƒ½ä¿®é¥°æ–¹æ³•å’Œä»£ç å—,ä¸èƒ½ä¿®é¥°å˜é‡å’Œç±»</li><li>synchronizedåªæœ‰åœ¨å¤šçº¿ç¨‹è¯»å–åŒä¸€ä¸ªå…±äº«æ•°æ®æ—¶æ‰éœ€è¦ä½¿ç”¨,å¦‚æœå¤šçº¿ç¨‹ä¸æ“ä½œå…±äº«èµ„æº(åŒä¸€ä¸ªèµ„æº)åˆ™ä¸éœ€è¦ä½¿ç”¨synchronizedå…³é”®å­—ä¿®é¥°</li><li>ç»è¿‡synchronizedå…³é”®å­—ä¿®é¥°åä¸ç®¡æ˜¯æ–¹æ³•è¿˜æ˜¯ä»£ç æ‰§è¡Œæ•ˆç‡éƒ½ä¼šé™ä½,å¹¶ä¸”è¿˜ä¼šå‡ºç°æ­»é”é—®é¢˜</li><li>åŒæ­¥æ–¹æ³•çš„åŒæ­¥ç›‘è§†å™¨æ˜¯<code>this</code>å¯¹è±¡,é™æ€åŒæ­¥æ–¹æ³•çš„åŒæ­¥ç›‘è§†å™¨æ˜¯<code>ç±»å.class</code>ç±»,åŒæ­¥ä»£ç å—çš„åŒæ­¥ç›‘è§†å™¨æ˜¯è‡ªå®šä¹‰çš„(ä¸€èˆ¬é”ä½çš„æ˜¯å…±äº«èµ„æº)</li><li>åŒæ­¥æ–¹æ³•å’Œé™æ€åŒæ­¥æ–¹æ³•æ˜¯å°†æ•´ä¸ªæ–¹æ³•ä½“é”ä½,ç”­ç®¡é‡Œé¢æ˜¯å¦æ˜¯æ‰€æœ‰çš„ä»£ç éƒ½éœ€è¦é”ä½;åŒæ­¥ä»£ç å—æ˜¯åªéœ€è¦é”ä½å…±äº«èµ„æºå³å¯èƒ½ç¨å¾®çš„æé«˜æ•ˆç‡</li></ul><h3 id="2-synchronizedå…³é”®å­—æ—¶æ˜¯ä»€ä¹ˆæ—¶å€™è·å–é”ä»€ä¹ˆæ—¶å€™é‡Šæ”¾é”"><a href="#2-synchronizedå…³é”®å­—æ—¶æ˜¯ä»€ä¹ˆæ—¶å€™è·å–é”ä»€ä¹ˆæ—¶å€™é‡Šæ”¾é”" class="headerlink" title="2.synchronizedå…³é”®å­—æ—¶æ˜¯ä»€ä¹ˆæ—¶å€™è·å–é”ä»€ä¹ˆæ—¶å€™é‡Šæ”¾é”"></a>2.synchronizedå…³é”®å­—æ—¶æ˜¯ä»€ä¹ˆæ—¶å€™è·å–é”ä»€ä¹ˆæ—¶å€™é‡Šæ”¾é”</h3><ul><li>åŒæ­¥æ–¹æ³•å’Œé™æ€åŒæ­¥æ–¹æ³•æ˜¯åœ¨è°ƒç”¨æ–¹æ³•æ—¶å¤§æ‹¬å·çš„èµ·å§‹ä½å¼€å§‹é”,å¤§æ‹¬å·çš„ç»“æŸä½ç½®æ˜¯é‡Šæ”¾é”â€“&gt;æ–¹æ³•æ‰§è¡Œå®Œæ¯•æ‰ä¼šé‡Šæ”¾åŒæ­¥é”</li><li>åŒæ­¥ä»£ç å—æ˜¯åœ¨åŒæ­¥ä»£ç å—æ‰§è¡Œæ—¶å¼€å§‹é”,æ‰§è¡Œç»“æŸæ—¶é‡Šæ”¾åŒæ­¥é”</li><li>å¦‚æœå‘ç”Ÿå¼‚å¸¸æˆ–è€…ä½¿ç”¨return&#x2F;breakå…³é”®å­—æ—¶ä¹Ÿä¼šæå‰ç»“æŸ</li><li>å¦‚æœåŒæ­¥æ–¹æ³•æˆ–åŒæ­¥ä»£ç å—è°ƒç”¨äº†wait()æ–¹æ³•ä¹Ÿä¼šé‡Šæ”¾é”å¯¹è±¡</li></ul><h3 id="3-synchronizedå…³é”®å­—çš„å¯é‡å…¥æ€§"><a href="#3-synchronizedå…³é”®å­—çš„å¯é‡å…¥æ€§" class="headerlink" title="3.synchronizedå…³é”®å­—çš„å¯é‡å…¥æ€§"></a>3.synchronizedå…³é”®å­—çš„å¯é‡å…¥æ€§</h3><p>åœ¨ä½¿ç”¨ä¸€ä¸ªåŒæ­¥æ–¹æ³•æ—¶,æ˜¯å¦å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªåŒæ­¥æ–¹æ³•,å°±æ˜¯ä¿„ç½—æ–¯å¥—å¨ƒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadSynchronizedDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// è°ƒç”¨é™æ€åŒæ­¥æ–¹æ³•</span><br>        func01();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">func01</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;é™æ€åŒæ­¥æ–¹æ³•1&quot;</span>);<br>        <span class="hljs-comment">// è°ƒç”¨é™æ€åŒæ­¥æ–¹æ³•2</span><br>        func02();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">func02</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;é™æ€åŒæ­¥æ–¹æ³•2&quot;</span>);<br>        <span class="hljs-comment">// è°ƒç”¨æ™®é€šé™æ€æ–¹æ³•</span><br>        func03();<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">func03</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ™®é€šé™æ€æ–¹æ³•3&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å…­ã€çº¿ç¨‹åŒæ­¥çš„æ­»é”"><a href="#å…­ã€çº¿ç¨‹åŒæ­¥çš„æ­»é”" class="headerlink" title="å…­ã€çº¿ç¨‹åŒæ­¥çš„æ­»é”"></a>å…­ã€çº¿ç¨‹åŒæ­¥çš„æ­»é”</h2><h3 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1.æ¦‚è¿°"></a>1.æ¦‚è¿°</h3><p>çº¿ç¨‹æ­»é”å¯èƒ½ä¼šå‡ºç°çš„åœºæ™¯:å‡è®¾æœ‰ä¸€ä¸ªå…±äº«ç±»,å…±äº«ç±»ä¸­æœ‰ä¸¤ä¸ªå±æ€§,å±æ€§1å’Œå±æ€§2,å¹¶ä¸”æœ‰ä¸¤ä¸ªçº¿ç¨‹,çº¿ç¨‹Aå’Œçº¿ç¨‹B,çº¿ç¨‹Aæ“ä½œå…±äº«ç±»ä¸­çš„å±æ€§1å’Œå±æ€§2,åŒæ ·çº¿ç¨‹Bä¹Ÿé¡»è¦æ“ä½œå±æ€§1å’Œå±æ€§2,ä½†æ˜¯æˆ‘ä»¬è¦æ±‚å±æ€§1å’Œå±æ€§2ä»–ä»¬ä¸¤ä¸ªéƒ½å¿…é¡»æ˜¯å®‰å…¨çš„(æ•°æ®ä¸èƒ½å‡ºç°é—®é¢˜),å°†ä»–ä¿©å…¨éƒ¨é”ä½çº¿ç¨‹1ä¸­é”ä½å±æ€§1å¹¶ä¸”åœ¨é”ä½å±æ€§1çš„åŒæ­¥ä»£ç å—ä¸­é”å±æ€§2,ç›¸åŒçš„çº¿ç¨‹Bå†é”ä½å±æ€§2,åœ¨å±æ€§2çš„åŒæ­¥ä»£ç å—ä¸­é”å±æ€§1,è¿™æ ·å°±å¯ä»¥å®ç°æ­»é”ç°è±¡,åŸå› æ˜¯,å½“çº¿ç¨‹Aæ‹¿åˆ°å±æ€§1çš„é”åä¼šè¿›å…¥,åœ¨çº¿ç¨‹Aæ‹¿åˆ°å±æ€§1çš„é”æ—¶çº¿ç¨‹Bæœ‰å¯èƒ½å·²ç»æ‹¿åˆ°å±æ€§2çš„é”,æ‹¿åˆ°å±æ€§2çš„é”çš„æ—¶å€™åŒæ ·ä¼šå»æ‹¿å±æ€§1çš„é”,è€Œè¿™æ—¶å±æ€§1çš„é”åœ¨çº¿ç¨‹Aæ‰‹ä¸­,ä¼šç­‰å¾…,åŒæ ·çº¿ç¨‹Aæƒ³è¦æ‹¿å±æ€§2çš„é”æ—¶,å±æ€§2åŒæ ·åœ¨çº¿ç¨‹Bçš„æ‰‹ä¸­,è¿™æ ·å°±é€ æˆäº†æ­»é”é—®é¢˜</p><h3 id="2-ä»£ç æ¼”ç¤ºæ­»é”é—®é¢˜"><a href="#2-ä»£ç æ¼”ç¤ºæ­»é”é—®é¢˜" class="headerlink" title="2. ä»£ç æ¼”ç¤ºæ­»é”é—®é¢˜"></a>2. ä»£ç æ¼”ç¤ºæ­»é”é—®é¢˜</h3><p>å…±äº«èµ„æºç±»</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs jav">/**<br> * å…±äº«èµ„æºç±»<br> */<br>public class Source &#123;<br>    // ä¸¤ä¸ªå…±äº«å±æ€§<br>    public static Object object01 = new Object();<br>    public static Object object02 = new Object();<br>&#125;<br></code></pre></td></tr></table></figure><p>çº¿ç¨‹A</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs jav">/**<br> * å®ç°æ­»é”çš„çº¿ç¨‹A<br> */<br>public class ThreadA extends Thread &#123;<br><br>    /**<br>     * å®ç°æ­»é”<br>     */<br>    @Override<br>    public void run() &#123;<br>        // é”ä½å±æ€§1--&gt;Object01<br>        synchronized (Source.object01) &#123;<br>            System.out.println(&quot;ThreadAæ‹¿åˆ°object01çš„é”...&quot;);<br>            // ä¼‘çœ 10æ¯«ç§’,ç›®çš„æ˜¯ç»™çº¿ç¨‹Bç•™ä¸‹æ‹¿å±æ€§2é”çš„æœºä¼š<br>            try &#123;<br>                Thread.sleep(10);<br>            &#125; catch (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>            // å–å¾—å±æ€§2çš„é”<br>            synchronized (Source.object02) &#123;<br>                System.out.println(&quot;ThreadAæ‹¿åˆ°object02çš„é”...&quot;);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>çº¿ç¨‹B</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å®ç°æ­»é”çš„çº¿ç¨‹B</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ThreadB</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Thread</span> &#123;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å®ç°æ­»é”</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// é”ä½å±æ€§2--&gt;Object02</span><br>        <span class="hljs-keyword">synchronized</span> (Source.object02) &#123;<br>            System.out.println(<span class="hljs-string">&quot;ThreadBæ‹¿åˆ°object02çš„é”...&quot;</span>);<br>            <span class="hljs-comment">// ä¼‘çœ 10æ¯«ç§’,ç›®çš„æ˜¯ç»™çº¿ç¨‹Aç•™ä¸‹æ‹¿å±æ€§1é”çš„æœºä¼š</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                Thread.sleep(<span class="hljs-number">10</span>);<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>            <span class="hljs-comment">// å–å¾—å±æ€§2çš„é”</span><br>            <span class="hljs-keyword">synchronized</span> (Source.object01) &#123;<br>                System.out.println(<span class="hljs-string">&quot;ThreadBæ‹¿åˆ°object01çš„é”...&quot;</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// æµ‹è¯•çº¿ç¨‹æ­»é”</span><br>        <span class="hljs-type">ThreadA</span> <span class="hljs-variable">threadA</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadA</span>();<br>        <span class="hljs-type">ThreadB</span> <span class="hljs-variable">threadB</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ThreadB</span>();<br>        <span class="hljs-comment">// å¯åŠ¨çº¿ç¨‹</span><br>        threadA.start();<br>        threadB.start();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ä¸ƒã€çº¿ç¨‹é€šè®¯ï¼ˆwait-x2F-notify-x2F-notifyAllï¼‰"><a href="#ä¸ƒã€çº¿ç¨‹é€šè®¯ï¼ˆwait-x2F-notify-x2F-notifyAllï¼‰" class="headerlink" title="ä¸ƒã€çº¿ç¨‹é€šè®¯ï¼ˆwait&#x2F;notify&#x2F;notifyAllï¼‰"></a>ä¸ƒã€çº¿ç¨‹é€šè®¯ï¼ˆwait&#x2F;notify&#x2F;notifyAllï¼‰</h2><h3 id="1-ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼"><a href="#1-ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼" class="headerlink" title="1.ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼"></a>1.ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å¼</h3><p>ç”Ÿäº§è€…â€“&gt;ä»£è¡¨æ˜¯å•†æˆ·</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç”Ÿäº§è€…ç±»,ä»£è¡¨å•†æˆ·</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Producer</span> &#123;<br>    <span class="hljs-keyword">private</span> String mealName;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getMealName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> mealName;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setMealName</span><span class="hljs-params">(String mealName)</span> &#123;<br>        <span class="hljs-built_in">this</span>.mealName = mealName;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Producer&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;mealName=&#x27;&quot;</span> + mealName + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¼“å†²åŒºâ€“&gt;å¤–å–æ¡Œå­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç¼“å†²åŒº,æ”¾å¤–å–çš„æ¡Œå­--&gt;ç»™å•†æˆ·ä½¿ç”¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Buffer</span> &#123;<br><br>    <span class="hljs-comment">// å•†æˆ·å¯¹è±¡--&gt;æ”¾å¤–å–</span><br>    <span class="hljs-keyword">private</span> Producer producer;<br><br>    <span class="hljs-comment">// æ ‡è®°,ç”¨äºå•†æˆ·åšå¥½å¤–å–åè¯æ˜è‡ªå·±æ˜¯ä¸æ˜¯åšäº†å¤–å–</span><br>    <span class="hljs-comment">// ä¹Ÿç”¨äºä»“åº“ä¸­æ²¡æœ‰å¤–å–çš„æç¤º</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> flag;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºç”Ÿäº§è€…å•†æˆ·å¯¹è±¡</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> producer ç”Ÿäº§è€…å•†æˆ·å¯¹è±¡</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Buffer</span><span class="hljs-params">(Producer producer)</span> &#123;<br>        <span class="hljs-built_in">this</span>.producer = producer;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç”Ÿäº§å¤–å–çš„æ–¹æ³•</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mealName åšå¥½çš„å¤–å–æ˜¯ä»€ä¹ˆ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">producer</span><span class="hljs-params">(String mealName)</span> &#123;<br>        <span class="hljs-comment">// 1. éªŒè¯å½“å‰å¤–å–æ¡Œæ˜¯å¦æœ‰å¤–å–å•†å“</span><br>        <span class="hljs-keyword">if</span> (flag) &#123;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>            <span class="hljs-comment">// å¦‚æœæœ‰å¤–å–åˆ™ä¸èƒ½ç”Ÿäº§å¤–å–</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// waitæ–¹æ³•ä»£è¡¨ç­‰å¾…,ä¼šè®©çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€</span><br>                <span class="hljs-built_in">this</span>.wait();<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 2. å¦‚æœæ²¡æœ‰å¤–å–åˆ™ç”Ÿäº§å¤–å–</span><br>        <span class="hljs-built_in">this</span>.producer.setMealName(mealName);<br>        <span class="hljs-comment">// è¾“å‡ºä¸€å¥è¯,ä¸ºäº†æ‰§è¡Œæ—¶çŸ¥é“åšå¥½äº†</span><br>        System.out.println(<span class="hljs-string">&quot;---------ç”Ÿäº§è€…,å•†æˆ·åšå¥½äº†:&quot;</span> + producer.getMealName());<br>        <span class="hljs-comment">// 3. å°†flagçŠ¶æ€æ”¹ä¸ºtrue,ä»£è¡¨å¤–å–åšå¥½äº†</span><br>        flag = <span class="hljs-literal">true</span>;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>        <span class="hljs-comment">// 4. å”¤é†’å¤–å–å°å“¥å¯ä»¥å–å¤–å–äº†--&gt;å”¤é†’æ¶ˆè´¹è€…</span><br>        <span class="hljs-built_in">this</span>.notify();<br>    &#125;<br><br>    <span class="hljs-comment">// æ¶ˆè´¹å¤–å–æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumer</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 1. éªŒè¯æ¡Œå­ä¸Šæ˜¯å¦æœ‰å¤–å–</span><br>        <span class="hljs-keyword">if</span> (!flag) &#123;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// å¦‚æœæ²¡æœ‰å¤–å–åˆ™éœ€è¦ç­‰å¾…</span><br>                <span class="hljs-built_in">this</span>.wait();<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 2. å¦‚æœæœ‰å¤–å–åˆ™å–èµ°</span><br>        <span class="hljs-comment">// è¾“å‡ºä¸€å¥è¯ä»£è¡¨å–èµ°äº†å¤–å–</span><br>        System.out.println(<span class="hljs-string">&quot;æ¶ˆè´¹è€…,å¤–å–å°å“¥å–èµ°äº†:&quot;</span> + <span class="hljs-built_in">this</span>.producer.getMealName());<br>        <span class="hljs-comment">// 3. æ›´æ”¹æ¡Œå­çŠ¶æ€</span><br>        flag = <span class="hljs-literal">false</span>;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>        <span class="hljs-comment">// 4. å”¤é†’ç”Ÿäº§è€…è®©ä»–ç»§ç»­åšå¤–å–</span><br>        <span class="hljs-built_in">this</span>.notify();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç”Ÿäº§è€…çº¿ç¨‹ç±»â€“&gt;ç”Ÿäº§å•†å“</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç”Ÿäº§è€…çº¿ç¨‹(å•†æˆ·)</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProducerThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-comment">// ç¼“å†²åŒºå¯¹è±¡(åšå¥½å¤–å–åæ”¾åˆ°æ¡Œå­ä¸Š)</span><br>    <span class="hljs-keyword">private</span> Buffer buffer;<br><br>    <span class="hljs-comment">// é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºç¼“å†²åŒºå¯¹è±¡</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ProducerThread</span><span class="hljs-params">(Buffer buffer)</span> &#123;<br>        <span class="hljs-built_in">this</span>.buffer = buffer;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * runæ–¹æ³•ä»£è¡¨ç”Ÿäº§å¤–å–çš„æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// æ­»å¾ªç¯ç”Ÿäº§å¤–å–</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; ; i++) &#123;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è°ƒç”¨ç¼“å†²åŒºåˆ¶ä½œå¤–å–</span><br>                buffer.producer(<span class="hljs-string">&quot;é…±ç„–è‚˜å­&quot;</span>);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è°ƒç”¨ç¼“å†²åŒºåˆ¶ä½œå¤–å–</span><br>                buffer.producer(<span class="hljs-string">&quot;é“é”…ç‚–å¤§ne&quot;</span>);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">7</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è°ƒç”¨ç¼“å†²åŒºåˆ¶ä½œå¤–å–</span><br>                buffer.producer(<span class="hljs-string">&quot;çŒªè‚‰ç‚–ç²‰æ¡&quot;</span>);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¶ˆè´¹è€…çº¿ç¨‹ç±»â€“&gt;å¤–å–å°å“¥å–å¤–å–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ¶ˆè´¹è€…çº¿ç¨‹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConsumerThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-comment">// ç¼“å†²åŒºå¯¹è±¡(å–èµ°å¤–å–)</span><br>    <span class="hljs-keyword">private</span> Buffer buffer;<br><br>    <span class="hljs-comment">// é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºç¼“å†²åŒºå¯¹è±¡</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ConsumerThread</span><span class="hljs-params">(Buffer buffer)</span> &#123;<br>        <span class="hljs-built_in">this</span>.buffer = buffer;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å–èµ°å¤–å–çš„æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// æ­»å¾ªç¯</span><br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            <span class="hljs-comment">// åœ¨ç¼“å†²åŒºå–èµ°å¤–å–</span><br>            buffer.consumer();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 1. åˆ›å»ºå•†å®¶--&gt;ç”Ÿäº§è€…</span><br>        <span class="hljs-type">Producer</span> <span class="hljs-variable">producer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Producer</span>();<br>        <span class="hljs-comment">// 2. åˆ›å»ºç¼“å†²åŒº(å¤–å–æ¡Œå­)</span><br>        <span class="hljs-type">Buffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Buffer</span>(producer);<br>        <span class="hljs-comment">// 3. åˆ›å»ºçº¿ç¨‹</span><br>        <span class="hljs-type">ProducerThread</span> <span class="hljs-variable">producerThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProducerThread</span>(buffer);<br>        <span class="hljs-type">ConsumerThread</span> <span class="hljs-variable">consumerThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConsumerThread</span>(buffer);<br>        <span class="hljs-comment">// 4. å¯åŠ¨çº¿ç¨‹</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(producerThread).start();<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(consumerThread).start();<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å­˜åœ¨é—®é¢˜"><a href="#2-ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å­˜åœ¨é—®é¢˜" class="headerlink" title="2.ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å­˜åœ¨é—®é¢˜"></a>2.ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å­˜åœ¨é—®é¢˜</h3><blockquote><p>ä¸Šé¢åœ¨ä½¿ç”¨ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ—¶æ˜¯å•çº¿ç¨‹,æ­£å¸¸äº¤æ›¿,å¦‚æœè¯´å‡ºç°ä¸¤æ¡çº¿ç¨‹åŒæ—¶ç”Ÿäº§å¹¶ä¸”åŒæ—¶æ¶ˆè´¹,é‚£è¿™æ—¶ä¼šä¸ä¼šå‡ºç°é—®é¢˜????<br>ä¸€æ—¦å‡ºç°äº†å¤šç”Ÿäº§è€…å’Œå¤šæ¶ˆè´¹è€…åå°±ä¼šé€ æˆä¼šæœ‰ä¸€æ–¹å–èµ°|åˆ¶ä½œå¤šæ¬¡<br>ä»¥ä¸Šé—®é¢˜è§£å†³æ–¹æ¡ˆ,å°†åŸæœ¬ifæ”¹ä¸ºwhileå¾ªç¯åˆ¤æ–­æ˜¯å¦å­˜åœ¨å•†å“æˆ–å¤–å–</p></blockquote><h3 id="è§£å†³å¤šå–-å¤šåšé—®é¢˜"><a href="#è§£å†³å¤šå–-å¤šåšé—®é¢˜" class="headerlink" title="è§£å†³å¤šå–|å¤šåšé—®é¢˜"></a>è§£å†³å¤šå–|å¤šåšé—®é¢˜</h3><p>ç”Ÿäº§è€…â€“&gt;ä»£è¡¨æ˜¯å•†æˆ·</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç”Ÿäº§è€…ç±»,ä»£è¡¨å•†æˆ·</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Producer</span> &#123;<br>    <span class="hljs-keyword">private</span> String mealName;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getMealName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> mealName;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setMealName</span><span class="hljs-params">(String mealName)</span> &#123;<br>        <span class="hljs-built_in">this</span>.mealName = mealName;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Producer&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;mealName=&#x27;&quot;</span> + mealName + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¼“å†²åŒºâ€“&gt;å¤–å–æ¡Œå­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç¼“å†²åŒº,æ”¾å¤–å–çš„æ¡Œå­--&gt;ç»™å•†æˆ·ä½¿ç”¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Buffer</span> &#123;<br><br>    <span class="hljs-comment">// å•†æˆ·å¯¹è±¡--&gt;æ”¾å¤–å–</span><br>    <span class="hljs-keyword">private</span> Producer producer;<br><br>    <span class="hljs-comment">// æ ‡è®°,ç”¨äºå•†æˆ·åšå¥½å¤–å–åè¯æ˜è‡ªå·±æ˜¯ä¸æ˜¯åšäº†å¤–å–</span><br>    <span class="hljs-comment">// ä¹Ÿç”¨äºä»“åº“ä¸­æ²¡æœ‰å¤–å–çš„æç¤º</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> flag;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºç”Ÿäº§è€…å•†æˆ·å¯¹è±¡</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> producer ç”Ÿäº§è€…å•†æˆ·å¯¹è±¡</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Buffer</span><span class="hljs-params">(Producer producer)</span> &#123;<br>        <span class="hljs-built_in">this</span>.producer = producer;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç”Ÿäº§å¤–å–çš„æ–¹æ³•</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mealName åšå¥½çš„å¤–å–æ˜¯ä»€ä¹ˆ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">producer</span><span class="hljs-params">(String mealName)</span> &#123;<br>        <span class="hljs-comment">// 1. éªŒè¯å½“å‰å¤–å–æ¡Œæ˜¯å¦æœ‰å¤–å–å•†å“</span><br>        <span class="hljs-comment">// å°†åŸæœ¬çš„ifåˆ¤æ–­ä¸€æ¬¡æ”¹ä¸ºwhileå¾ªç¯çš„å¤šæ¬¡åˆ¤æ–­éªŒè¯</span><br>        <span class="hljs-keyword">while</span> (flag) &#123;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>            <span class="hljs-comment">// å¦‚æœæœ‰å¤–å–åˆ™ä¸èƒ½ç”Ÿäº§å¤–å–</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// waitæ–¹æ³•ä»£è¡¨ç­‰å¾…,ä¼šè®©çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€</span><br>                <span class="hljs-built_in">this</span>.wait();<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 2. å¦‚æœæ²¡æœ‰å¤–å–åˆ™ç”Ÿäº§å¤–å–</span><br>        <span class="hljs-built_in">this</span>.producer.setMealName(mealName);<br>        <span class="hljs-comment">// è¾“å‡ºä¸€å¥è¯,ä¸ºäº†æ‰§è¡Œæ—¶çŸ¥é“åšå¥½äº†</span><br>        System.out.println(<span class="hljs-string">&quot;---------ç”Ÿäº§è€…,å•†æˆ·åšå¥½äº†:&quot;</span> + producer.getMealName());<br>        <span class="hljs-comment">// 3. å°†flagçŠ¶æ€æ”¹ä¸ºtrue,ä»£è¡¨å¤–å–åšå¥½äº†</span><br>        flag = <span class="hljs-literal">true</span>;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>        <span class="hljs-comment">// 4. å”¤é†’å¤–å–å°å“¥å¯ä»¥å–å¤–å–äº†--&gt;å”¤é†’æ¶ˆè´¹è€…</span><br>        <span class="hljs-built_in">this</span>.notify();<br>    &#125;<br><br>    <span class="hljs-comment">// æ¶ˆè´¹å¤–å–æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumer</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 1. éªŒè¯æ¡Œå­ä¸Šæ˜¯å¦æœ‰å¤–å–</span><br>        <span class="hljs-comment">// å°†åŸæœ¬çš„ifåˆ¤æ–­ä¸€æ¬¡æ”¹ä¸ºwhileå¾ªç¯çš„å¤šæ¬¡åˆ¤æ–­éªŒè¯</span><br>        <span class="hljs-keyword">while</span> (!flag) &#123;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// å¦‚æœæ²¡æœ‰å¤–å–åˆ™éœ€è¦ç­‰å¾…</span><br>                <span class="hljs-built_in">this</span>.wait();<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 2. å¦‚æœæœ‰å¤–å–åˆ™å–èµ°</span><br>        <span class="hljs-comment">// è¾“å‡ºä¸€å¥è¯ä»£è¡¨å–èµ°äº†å¤–å–</span><br>        System.out.println(<span class="hljs-string">&quot;æ¶ˆè´¹è€…,å¤–å–å°å“¥å–èµ°äº†:&quot;</span> + <span class="hljs-built_in">this</span>.producer.getMealName());<br>        <span class="hljs-comment">// 3. æ›´æ”¹æ¡Œå­çŠ¶æ€</span><br>        flag = <span class="hljs-literal">false</span>;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>        <span class="hljs-comment">// 4. å”¤é†’ç”Ÿäº§è€…è®©ä»–ç»§ç»­åšå¤–å–</span><br>        <span class="hljs-built_in">this</span>.notify();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç”Ÿäº§è€…çº¿ç¨‹ç±»â€“&gt;ç”Ÿäº§å•†å“</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç”Ÿäº§è€…çº¿ç¨‹(å•†æˆ·)</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProducerThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-comment">// ç¼“å†²åŒºå¯¹è±¡(åšå¥½å¤–å–åæ”¾åˆ°æ¡Œå­ä¸Š)</span><br>    <span class="hljs-keyword">private</span> Buffer buffer;<br><br>    <span class="hljs-comment">// é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºç¼“å†²åŒºå¯¹è±¡</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ProducerThread</span><span class="hljs-params">(Buffer buffer)</span> &#123;<br>        <span class="hljs-built_in">this</span>.buffer = buffer;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * runæ–¹æ³•ä»£è¡¨ç”Ÿäº§å¤–å–çš„æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// æ­»å¾ªç¯ç”Ÿäº§å¤–å–</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; ; i++) &#123;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è°ƒç”¨ç¼“å†²åŒºåˆ¶ä½œå¤–å–</span><br>                buffer.producer(<span class="hljs-string">&quot;é…±ç„–è‚˜å­&quot;</span>);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è°ƒç”¨ç¼“å†²åŒºåˆ¶ä½œå¤–å–</span><br>                buffer.producer(<span class="hljs-string">&quot;é“é”…ç‚–å¤§ne&quot;</span>);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">7</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è°ƒç”¨ç¼“å†²åŒºåˆ¶ä½œå¤–å–</span><br>                buffer.producer(<span class="hljs-string">&quot;çŒªè‚‰ç‚–ç²‰æ¡&quot;</span>);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¶ˆè´¹è€…çº¿ç¨‹ç±»â€“&gt;å¤–å–å°å“¥å–å¤–å–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ¶ˆè´¹è€…çº¿ç¨‹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConsumerThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-comment">// ç¼“å†²åŒºå¯¹è±¡(å–èµ°å¤–å–)</span><br>    <span class="hljs-keyword">private</span> Buffer buffer;<br><br>    <span class="hljs-comment">// é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºç¼“å†²åŒºå¯¹è±¡</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ConsumerThread</span><span class="hljs-params">(Buffer buffer)</span> &#123;<br>        <span class="hljs-built_in">this</span>.buffer = buffer;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å–èµ°å¤–å–çš„æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// æ­»å¾ªç¯</span><br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            <span class="hljs-comment">// åœ¨ç¼“å†²åŒºå–èµ°å¤–å–</span><br>            buffer.consumer();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 1. åˆ›å»ºå•†å®¶--&gt;ç”Ÿäº§è€…</span><br>        <span class="hljs-type">Producer</span> <span class="hljs-variable">producer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Producer</span>();<br>        <span class="hljs-comment">// 2. åˆ›å»ºç¼“å†²åŒº(å¤–å–æ¡Œå­)</span><br>        <span class="hljs-type">Buffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Buffer</span>(producer);<br>        <span class="hljs-comment">// 3. åˆ›å»ºçº¿ç¨‹</span><br>        <span class="hljs-type">ProducerThread</span> <span class="hljs-variable">producerThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProducerThread</span>(buffer);<br>        <span class="hljs-type">ConsumerThread</span> <span class="hljs-variable">consumerThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConsumerThread</span>(buffer);<br>        <span class="hljs-comment">// 4. å¯åŠ¨çº¿ç¨‹</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(producerThread).start();<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(consumerThread).start();<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç è§£å†³äº†å¤šåš|å¤šå–çš„é—®é¢˜äº†,ä½†æ˜¯ä½¿ç”¨çš„æ˜¯notifyæ–¹æ³•,åœ¨å”¤é†’æ—¶æœ‰å¯èƒ½å”¤é†’ä¸æ˜¯å¯¹æ–¹è€Œæ˜¯å·±æ–¹,ä¸€æ—¦å”¤é†’æ˜¯å·±æ–¹åˆ™ä¼šå‡ºç°æ­»é”(éƒ½åœ¨waitç­‰å¾…å”¤é†’)</p><h3 id="è§£å†³å¤šåš-å¤šå–çš„é—®é¢˜å¹¶ä¸”è§£å†³æ­»ç­‰-æ­»é”-é—®é¢˜"><a href="#è§£å†³å¤šåš-å¤šå–çš„é—®é¢˜å¹¶ä¸”è§£å†³æ­»ç­‰-æ­»é”-é—®é¢˜" class="headerlink" title="è§£å†³å¤šåš|å¤šå–çš„é—®é¢˜å¹¶ä¸”è§£å†³æ­»ç­‰(æ­»é”)é—®é¢˜"></a>è§£å†³å¤šåš|å¤šå–çš„é—®é¢˜å¹¶ä¸”è§£å†³æ­»ç­‰(æ­»é”)é—®é¢˜</h3><p>ç”Ÿäº§è€…â€“&gt;ä»£è¡¨æ˜¯å•†æˆ·</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç”Ÿäº§è€…ç±»,ä»£è¡¨å•†æˆ·</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Producer</span> &#123;<br>    <span class="hljs-keyword">private</span> String mealName;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getMealName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> mealName;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setMealName</span><span class="hljs-params">(String mealName)</span> &#123;<br>        <span class="hljs-built_in">this</span>.mealName = mealName;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Producer&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;mealName=&#x27;&quot;</span> + mealName + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¼“å†²åŒºâ€“&gt;å¤–å–æ¡Œå­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç¼“å†²åŒº,æ”¾å¤–å–çš„æ¡Œå­--&gt;ç»™å•†æˆ·ä½¿ç”¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Buffer</span> &#123;<br><br>    <span class="hljs-comment">// å•†æˆ·å¯¹è±¡--&gt;æ”¾å¤–å–</span><br>    <span class="hljs-keyword">private</span> Producer producer;<br><br>    <span class="hljs-comment">// æ ‡è®°,ç”¨äºå•†æˆ·åšå¥½å¤–å–åè¯æ˜è‡ªå·±æ˜¯ä¸æ˜¯åšäº†å¤–å–</span><br>    <span class="hljs-comment">// ä¹Ÿç”¨äºä»“åº“ä¸­æ²¡æœ‰å¤–å–çš„æç¤º</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> flag;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºç”Ÿäº§è€…å•†æˆ·å¯¹è±¡</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> producer ç”Ÿäº§è€…å•†æˆ·å¯¹è±¡</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Buffer</span><span class="hljs-params">(Producer producer)</span> &#123;<br>        <span class="hljs-built_in">this</span>.producer = producer;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ç”Ÿäº§å¤–å–çš„æ–¹æ³•</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> mealName åšå¥½çš„å¤–å–æ˜¯ä»€ä¹ˆ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">producer</span><span class="hljs-params">(String mealName)</span> &#123;<br>        <span class="hljs-comment">// 1. éªŒè¯å½“å‰å¤–å–æ¡Œæ˜¯å¦æœ‰å¤–å–å•†å“</span><br>        <span class="hljs-comment">// å°†åŸæœ¬çš„ifåˆ¤æ–­ä¸€æ¬¡æ”¹ä¸ºwhileå¾ªç¯çš„å¤šæ¬¡åˆ¤æ–­éªŒè¯</span><br>        <span class="hljs-keyword">while</span> (flag) &#123;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>            <span class="hljs-comment">// å¦‚æœæœ‰å¤–å–åˆ™ä¸èƒ½ç”Ÿäº§å¤–å–</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// waitæ–¹æ³•ä»£è¡¨ç­‰å¾…,ä¼šè®©çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€</span><br>                <span class="hljs-built_in">this</span>.wait();<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 2. å¦‚æœæ²¡æœ‰å¤–å–åˆ™ç”Ÿäº§å¤–å–</span><br>        <span class="hljs-built_in">this</span>.producer.setMealName(mealName);<br>        <span class="hljs-comment">// è¾“å‡ºä¸€å¥è¯,ä¸ºäº†æ‰§è¡Œæ—¶çŸ¥é“åšå¥½äº†</span><br>        System.out.println(<span class="hljs-string">&quot;---------ç”Ÿäº§è€…,å•†æˆ·åšå¥½äº†:&quot;</span> + producer.getMealName());<br>        <span class="hljs-comment">// 3. å°†flagçŠ¶æ€æ”¹ä¸ºtrue,ä»£è¡¨å¤–å–åšå¥½äº†</span><br>        flag = <span class="hljs-literal">true</span>;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>        <span class="hljs-comment">// 4. å”¤é†’å¤–å–å°å“¥å¯ä»¥å–å¤–å–äº†--&gt;å”¤é†’æ¶ˆè´¹è€…</span><br>        <span class="hljs-comment">// ç”±äºæ¯æ¬¡å”¤é†’ä¸€ä¸ªä¼šå‡ºç°å°†åŒä¼´å”¤é†’æƒ…å†µ,æ‰€ä»¥ç›´æ¥å°†æ‰€æœ‰åœ¨ç­‰å¾…çº¿ç¨‹å…¨éƒ½å”¤é†’å³å¯,æ‰€ä»¥å°†notifyæ”¹ä¸ºnotifyAll</span><br>        <span class="hljs-comment">// this.notify();</span><br>        <span class="hljs-built_in">this</span>.notifyAll();<br>    &#125;<br><br>    <span class="hljs-comment">// æ¶ˆè´¹å¤–å–æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">consumer</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// 1. éªŒè¯æ¡Œå­ä¸Šæ˜¯å¦æœ‰å¤–å–</span><br>        <span class="hljs-comment">// å°†åŸæœ¬çš„ifåˆ¤æ–­ä¸€æ¬¡æ”¹ä¸ºwhileå¾ªç¯çš„å¤šæ¬¡åˆ¤æ–­éªŒè¯</span><br>        <span class="hljs-keyword">while</span> (!flag) &#123;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// å¦‚æœæ²¡æœ‰å¤–å–åˆ™éœ€è¦ç­‰å¾…</span><br>                <span class="hljs-built_in">this</span>.wait();<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 2. å¦‚æœæœ‰å¤–å–åˆ™å–èµ°</span><br>        <span class="hljs-comment">// è¾“å‡ºä¸€å¥è¯ä»£è¡¨å–èµ°äº†å¤–å–</span><br>        System.out.println(<span class="hljs-string">&quot;æ¶ˆè´¹è€…,å¤–å–å°å“¥å–èµ°äº†:&quot;</span> + <span class="hljs-built_in">this</span>.producer.getMealName());<br>        <span class="hljs-comment">// 3. æ›´æ”¹æ¡Œå­çŠ¶æ€</span><br>        flag = <span class="hljs-literal">false</span>;<span class="hljs-comment">// true:æœ‰å¤–å–;false:æ²¡æœ‰å¤–å–;</span><br>        <span class="hljs-comment">// 4. å”¤é†’ç”Ÿäº§è€…è®©ä»–ç»§ç»­åšå¤–å–</span><br>        <span class="hljs-comment">// ç”±äºæ¯æ¬¡å”¤é†’ä¸€ä¸ªä¼šå‡ºç°å°†åŒä¼´å”¤é†’æƒ…å†µ,æ‰€ä»¥ç›´æ¥å°†æ‰€æœ‰åœ¨ç­‰å¾…çº¿ç¨‹å…¨éƒ½å”¤é†’å³å¯,æ‰€ä»¥å°†notifyæ”¹ä¸ºnotifyAll</span><br>        <span class="hljs-comment">// this.notify();</span><br>        <span class="hljs-built_in">this</span>.notifyAll();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç”Ÿäº§è€…çº¿ç¨‹ç±»â€“&gt;ç”Ÿäº§å•†å“</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ç”Ÿäº§è€…çº¿ç¨‹(å•†æˆ·)</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProducerThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-comment">// ç¼“å†²åŒºå¯¹è±¡(åšå¥½å¤–å–åæ”¾åˆ°æ¡Œå­ä¸Š)</span><br>    <span class="hljs-keyword">private</span> Buffer buffer;<br><br>    <span class="hljs-comment">// é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºç¼“å†²åŒºå¯¹è±¡</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ProducerThread</span><span class="hljs-params">(Buffer buffer)</span> &#123;<br>        <span class="hljs-built_in">this</span>.buffer = buffer;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * runæ–¹æ³•ä»£è¡¨ç”Ÿäº§å¤–å–çš„æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// æ­»å¾ªç¯ç”Ÿäº§å¤–å–</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; ; i++) &#123;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è°ƒç”¨ç¼“å†²åŒºåˆ¶ä½œå¤–å–</span><br>                buffer.producer(<span class="hljs-string">&quot;é…±ç„–è‚˜å­&quot;</span>);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è°ƒç”¨ç¼“å†²åŒºåˆ¶ä½œå¤–å–</span><br>                buffer.producer(<span class="hljs-string">&quot;é“é”…ç‚–å¤§ne&quot;</span>);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (i % <span class="hljs-number">7</span> == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// è°ƒç”¨ç¼“å†²åŒºåˆ¶ä½œå¤–å–</span><br>                buffer.producer(<span class="hljs-string">&quot;çŒªè‚‰ç‚–ç²‰æ¡&quot;</span>);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¶ˆè´¹è€…çº¿ç¨‹ç±»â€“&gt;å¤–å–å°å“¥å–å¤–å–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ¶ˆè´¹è€…çº¿ç¨‹</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConsumerThread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> &#123;<br><br>    <span class="hljs-comment">// ç¼“å†²åŒºå¯¹è±¡(å–èµ°å¤–å–)</span><br>    <span class="hljs-keyword">private</span> Buffer buffer;<br><br>    <span class="hljs-comment">// é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºç¼“å†²åŒºå¯¹è±¡</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ConsumerThread</span><span class="hljs-params">(Buffer buffer)</span> &#123;<br>        <span class="hljs-built_in">this</span>.buffer = buffer;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å–èµ°å¤–å–çš„æ–¹æ³•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// æ­»å¾ªç¯</span><br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            <span class="hljs-comment">// åœ¨ç¼“å†²åŒºå–èµ°å¤–å–</span><br>            buffer.consumer();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 1. åˆ›å»ºå•†å®¶--&gt;ç”Ÿäº§è€…</span><br>        <span class="hljs-type">Producer</span> <span class="hljs-variable">producer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Producer</span>();<br>        <span class="hljs-comment">// 2. åˆ›å»ºç¼“å†²åŒº(å¤–å–æ¡Œå­)</span><br>        <span class="hljs-type">Buffer</span> <span class="hljs-variable">buffer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Buffer</span>(producer);<br>        <span class="hljs-comment">// 3. åˆ›å»ºçº¿ç¨‹</span><br>        <span class="hljs-type">ProducerThread</span> <span class="hljs-variable">producerThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ProducerThread</span>(buffer);<br>        <span class="hljs-type">ConsumerThread</span> <span class="hljs-variable">consumerThread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConsumerThread</span>(buffer);<br>        <span class="hljs-comment">// 4. å¯åŠ¨çº¿ç¨‹</span><br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(producerThread).start();<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(consumerThread).start();<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è™½ç„¶ä»¥ä¸Šæ–¹æ³•å¯ä»¥è§£å†³çº¿ç¨‹æ­»é”é—®é¢˜,ä½†æ˜¯ä¼šå‡ºç°èµ„æºæµªè´¹çš„æƒ…å†µ,åŸå› æ˜¯å”¤é†’æ—¶æ²¡å¿…è¦å°†æ‰€æœ‰çš„çº¿ç¨‹å…¨éƒ½å”¤é†’,å”¤é†’æ—¶åªéœ€è¦å”¤é†’å¯¹æ–¹å³å¯</p><h2 id="å…«ã€æ‹“å±•é˜…è¯»"><a href="#å…«ã€æ‹“å±•é˜…è¯»" class="headerlink" title="å…«ã€æ‹“å±•é˜…è¯»"></a>å…«ã€æ‹“å±•é˜…è¯»</h2><p><a href="http://concurrent.redspider.group/RedSpider.html">æ·±å…¥æµ…å‡ºJavaå¤šçº¿ç¨‹</a></p><div>    <script src="//cdn.jsdelivr.net/npm/@waline/client"></script><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>çº¿ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>çº¿ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ribbonè´Ÿè½½å‡è¡¡</title>
    <link href="/2022/10/11/Ribbon%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/"/>
    <url>/2022/10/11/Ribbon%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€è´Ÿè½½å‡è¡¡ç®€ä»‹"><a href="#ä¸€ã€è´Ÿè½½å‡è¡¡ç®€ä»‹" class="headerlink" title="ä¸€ã€è´Ÿè½½å‡è¡¡ç®€ä»‹"></a>ä¸€ã€è´Ÿè½½å‡è¡¡ç®€ä»‹</h2><p>é€šä¿—çš„è®²ï¼Œè´Ÿè½½å‡è¡¡å°±æ˜¯å°†è´Ÿè½½ï¼ˆå·¥ä½œä»»åŠ¡ï¼Œè®¿é—®è¯·æ±‚ï¼‰è¿›è¡Œåˆ†æ‘Šåˆ°å¤šä¸ªæ“ä½œå•å…ƒï¼ˆæœåŠ¡å™¨,ç»„ä»¶ï¼‰ä¸Šè¿›è¡Œæ‰§è¡Œã€‚</p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221011165614222.png" alt="image-20221011165614222" style="zoom: 67%;" /><h2 id="äºŒã€Ribbonç®€ä»‹"><a href="#äºŒã€Ribbonç®€ä»‹" class="headerlink" title="äºŒã€Ribbonç®€ä»‹"></a>äºŒã€Ribbonç®€ä»‹</h2><p>Ribbon æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å™¨ï¼Œå¯è®©æ‚¨å¯¹ HTTP å’Œ TCP å®¢æˆ·ç«¯çš„è¡Œä¸ºè¿›è¡Œå¤§é‡æ§åˆ¶ã€‚</p><p>Spring Cloud Ribbonæ˜¯åŸºäºNetflix Ribbonå®ç°çš„ä¸€å¥—å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„å·¥å…·ã€‚</p><p>æ³¨æ„ï¼šæˆ‘ä»¬ä¸éœ€è¦å»å¼•å…¥ribbonçš„ä¾èµ–ï¼Œå› ä¸ºåœ¨nacosé‡Œé¢å·²ç»é›†æˆäº†ribbonçš„ä¾èµ–ï¼š</p><p>Ribbonæä¾›å¾ˆå¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œä¾‹å¦‚è½®è¯¢ã€éšæœº ç­‰ç­‰ï¼Œé»˜è®¤è½®è¯¢ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221011170651845.png"></p><h2 id="ä¸‰ã€Ribbonè´Ÿè½½å‡è¡¡ç­–ç•¥"><a href="#ä¸‰ã€Ribbonè´Ÿè½½å‡è¡¡ç­–ç•¥" class="headerlink" title="ä¸‰ã€Ribbonè´Ÿè½½å‡è¡¡ç­–ç•¥"></a>ä¸‰ã€Ribbonè´Ÿè½½å‡è¡¡ç­–ç•¥</h2><p>è´Ÿè½½å‡è¡¡æ¥å£ï¼š<code>com.netflix.loadbalancer.IRule</code></p><p>7ä¸­è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼š</p><table><thead><tr><th>ç­–ç•¥ç±»</th><th>å‘½å</th><th>æè¿°</th></tr></thead><tbody><tr><td>RandomRule</td><td>éšæœºç­–ç•¥</td><td>è¯¥ç­–ç•¥å®ç°äº†ä»æœåŠ¡æ¸…å•ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªæœåŠ¡å®ä¾‹çš„åŠŸèƒ½ã€‚</td></tr><tr><td>RoundRobinRule</td><td>è½®è¯¢ç­–ç•¥</td><td>è¯¥ç­–ç•¥å®ç°æŒ‰ç…§çº¿æ€§è½®è¯¢çš„æ–¹å¼ä¾æ¬¡é€‰æ‹©å®ä¾‹çš„åŠŸèƒ½ã€‚å…·ä½“å®ç°å¦‚ä¸‹ï¼Œåœ¨å¾ªç¯ä¸­å¢åŠ äº†ä¸€ä¸ªcountè®¡æ•°å˜é‡ï¼Œè¯¥å˜é‡ä¼šåœ¨æ¯æ¬¡è½®è¯¢ä¹‹åç´¯åŠ å¹¶æ±‚ä½™æœåŠ¡æ€»æ•°</td></tr><tr><td>RetryRule</td><td>é‡è¯•ç­–ç•¥</td><td>åœ¨ä¸€ä¸ªé…ç½®æ—¶é—´æ®µå†…å½“é€‰æ‹©Serverä¸æˆåŠŸï¼Œåˆ™ä¸€ç›´å°è¯•é€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„Server</td></tr><tr><td>BestAvailableRule</td><td>æœ€ä½å¹¶å‘ç­–ç•¥</td><td>éå†æœåŠ¡æä¾›è€…åˆ—è¡¨ï¼Œå¦‚æœServeræ–­è·¯å™¨æ‰“å¼€ï¼Œåˆ™å¿½ç•¥ï¼Œå†é€‰æ‹©å…¶ä¸­å¹¶å‘è¿æ¥æœ€ä½çš„Server</td></tr><tr><td>AvailabilityFilteringRule</td><td>å¯ç”¨è¿‡æ»¤ç­–ç•¥</td><td>å…ˆè¿‡æ»¤æ‰éå¥åº·çš„æœåŠ¡å®ä¾‹ï¼Œç„¶åå†é€‰æ‹©è¿æ¥æ•°è¾ƒå°çš„æœåŠ¡å®ä¾‹ã€‚</td></tr><tr><td><del>ResponseTimeWeightedRule</del></td><td>å“åº”æ—¶é—´åŠ æƒç­–ç•¥</td><td>å·²ç»è¢«å¼ƒç”¨ï¼Œä½œç”¨åŒWeightedResponseTimeRule</td></tr><tr><td>WeightedResponseTimeRule</td><td>å“åº”æ—¶é—´åŠ æƒç­–ç•¥</td><td>æ ¹æ®Serverçš„å“åº”æ—¶é—´åˆ†é…æƒé‡ï¼Œå“åº”æ—¶é—´è¶Šé•¿ï¼Œæƒé‡è¶Šä½ï¼Œè¢«é€‰ä¸­çš„æ¦‚ç‡å°±è¶Šä½ã€‚</td></tr></tbody></table><h2 id="å››ã€Ribbonå…¥é—¨Demo"><a href="#å››ã€Ribbonå…¥é—¨Demo" class="headerlink" title="å››ã€Ribbonå…¥é—¨Demo"></a>å››ã€Ribbonå…¥é—¨Demo</h2><blockquote><ol><li>RestTemplateä¸Šé…ç½®@LoadBalancedæ³¨è§£å¼€å¯ribbonè´Ÿè½½å‡è¡¡ï¼Œé»˜è®¤è½®è¯¢ç­–ç•¥</li><li>æŒ‡å®šç­–ç•¥æ³¨å…¥Beanå³å¯</li></ol></blockquote><h3 id="1-åˆ›å»ºä¸¤ä¸ªRibbon-provider"><a href="#1-åˆ›å»ºä¸¤ä¸ªRibbon-provider" class="headerlink" title="1. åˆ›å»ºä¸¤ä¸ªRibbon_provider"></a>1. åˆ›å»ºä¸¤ä¸ªRibbon_provider</h3><ul><li><p>æ„å»ºä¸¤ä¸ªProviderï¼Œåˆ†åˆ«åœ¨application.ymlä¸­è®¾ç½®ä¸¤ä¸ªä¸åŒç«¯å£(é¿å…ç«¯å£å†²çª)ï¼›</p></li><li><p>åˆ†åˆ«åœ¨ä¸¤ä¸ªUserServiceImplä¸­è®¾ç½®å·®å¼‚åŒ–Userå¯¹è±¡ä»¥æµ‹è¯•è´Ÿè½½å‡è¡¡ç»“æœ</p></li></ul><p>æ­¤å¤„åªæ”¾ä¸€ä¸ªProviderä¾›å‚è€ƒ</p><h4 id="1-1-controller"><a href="#1-1-controller" class="headerlink" title="1.1 controller"></a>1.1 controller</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><span class="hljs-keyword">import</span> com.example.service.UserService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> userService.getUserById(id);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="1-2-service"><a href="#1-2-service" class="headerlink" title="1.2 service"></a>1.2 service</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br>    User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Integer id)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><br><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(id,<span class="hljs-string">&quot;admin-1&quot;</span>,<span class="hljs-number">18</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="1-3-SpringBoot-App"><a href="#1-3-SpringBoot-App" class="headerlink" title="1.3 SpringBoot App"></a>1.3 SpringBoot App</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.discovery.EnableDiscoveryClient;<br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableDiscoveryClient</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RibbonProviderApp</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        SpringApplication.run(RibbonProviderApp.class,args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="1-4-application-yml"><a href="#1-4-application-yml" class="headerlink" title="1.4 application.yml"></a>1.4 application.yml</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8090</span> <span class="hljs-comment">#æ­¤å¤„åœ¨ä¸¤ä¸ªserviceè®¾ç½®ä¸åŒç«¯å£</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">47.98</span><span class="hljs-number">.105</span><span class="hljs-number">.36</span><span class="hljs-string">:8848</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">ribbon-provider</span><br></code></pre></td></tr></table></figure><h3 id="2-åˆ›å»ºribbon-consumer"><a href="#2-åˆ›å»ºribbon-consumer" class="headerlink" title="2. åˆ›å»ºribbon_consumer"></a>2. åˆ›å»ºribbon_consumer</h3><h3 id="2-1-config"><a href="#2-1-config" class="headerlink" title="2.1 config"></a>2.1 config</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.netflix.loadbalancer.IRule;<br><span class="hljs-keyword">import</span> com.netflix.loadbalancer.RandomRule;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.loadbalancer.LoadBalanced;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> org.springframework.web.client.RestTemplate;<br><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BeanConfig</span> &#123;<br><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-meta">@LoadBalanced</span><span class="hljs-comment">// å¼€å¯ribbonè´Ÿè½½å‡è¡¡ï¼Œé»˜è®¤è½®è¯¢ç­–ç•¥</span><br>    <span class="hljs-keyword">public</span> RestTemplate <span class="hljs-title function_">restTemplate</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RestTemplate</span>();<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å¼€å¯éšå³ç­–ç•¥</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> IRule <span class="hljs-title function_">iRule</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RandomRule</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-2-controller"><a href="#2-2-controller" class="headerlink" title="2.2 controller"></a>2.2 controller</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.User;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.ServiceInstance;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.discovery.DiscoveryClient;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><span class="hljs-keyword">import</span> org.springframework.web.client.RestTemplate;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.Random;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/consumer&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> RestTemplate restTemplate;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * springcloud æä¾›çš„å·¥å…·ç±»</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> DiscoveryClient discoveryClient;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> currentIndex;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span>&#123;<br><br>        List&lt;ServiceInstance&gt; instanceList = discoveryClient.getInstances(<span class="hljs-string">&quot;ribbon-provider&quot;</span>);<br>        <span class="hljs-comment">// éšæœºç­–ç•¥</span><br>        <span class="hljs-comment">// int currentIndex = new Random().nextInt(instanceList.size());</span><br><br>        <span class="hljs-comment">// è½®è¯¢ç­–ç•¥</span><br>        <span class="hljs-comment">// currentIndex = (currentIndex + 1) % instanceList.size();</span><br>        <span class="hljs-comment">// ServiceInstance instance = instanceList.get(currentIndex);</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;http://ribbon-provider/provider/getUserById/&quot;</span>+id;<br>        <span class="hljs-keyword">return</span> restTemplate.getForObject(url,User.class);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-3-SpringBoot-App"><a href="#2-3-SpringBoot-App" class="headerlink" title="2.3 SpringBoot App"></a>2.3 SpringBoot App</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.discovery.EnableDiscoveryClient;<br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableDiscoveryClient</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RibbonConsumerApp</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        SpringApplication.run(RibbonConsumerApp.class,args);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="2-4-application-yml"><a href="#2-4-application-yml" class="headerlink" title="2.4 application.yml"></a>2.4 application.yml</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">47.98</span><span class="hljs-number">.105</span><span class="hljs-number">.36</span><span class="hljs-string">:8848</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">ribbon-consumer</span><br></code></pre></td></tr></table></figure><h3 id="3-æµ‹è¯•"><a href="#3-æµ‹è¯•" class="headerlink" title="3. æµ‹è¯•"></a>3. æµ‹è¯•</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-comment">// è°ƒç”¨æœåŠ¡æä¾›è€…å¤šæ¬¡è®¿é—®ç»“æœå±•ç¤ºï¼š</span><br><span class="hljs-comment">// è®¿é—®ï¼šhttp://127.0.0.1/consumer/getUserById/20</span><br><span class="hljs-comment">// ç»“æœï¼š</span><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">20</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;admin-2&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">18</span><span class="hljs-punctuation">&#125;</span><br><span class="hljs-comment">// è®¿é—®ï¼šhttp://127.0.0.1/consumer/getUserById/20</span><br><span class="hljs-comment">// ç»“æœï¼š</span><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">20</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;admin-1&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">18</span><span class="hljs-punctuation">&#125;</span><br><span class="hljs-comment">// è®¿é—®ï¼šhttp://127.0.0.1/consumer/getUserById/20</span><br><span class="hljs-comment">// ç»“æœï¼š</span><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">20</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;admin-2&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">18</span><span class="hljs-punctuation">&#125;</span><br><span class="hljs-comment">// è®¿é—®ï¼šhttp://127.0.0.1/consumer/getUserById/20</span><br><span class="hljs-comment">// ç»“æœï¼š</span><br><span class="hljs-punctuation">&#123;</span><span class="hljs-attr">&quot;id&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">20</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;admin-1&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">18</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><div>    <script src="//cdn.jsdelivr.net/npm/@waline/client"></script><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>å¾®æœåŠ¡</category>
      
      <category>Spring Cloud Alibaba</category>
      
      <category>Ribbon</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¾®æœåŠ¡</tag>
      
      <tag>Spring Cloud Alibaba</tag>
      
      <tag>Ribbon</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nacosæ³¨å†Œä¸­å¿ƒä¸é…ç½®ä¸­å¿ƒ</title>
    <link href="/2022/10/08/Nacos%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E4%B8%8E%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/"/>
    <url>/2022/10/08/Nacos%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E4%B8%8E%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯-Nacos"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯-Nacos" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯ Nacos"></a>ä¸€ã€ä»€ä¹ˆæ˜¯ Nacos</h3><p class="note note-success">Nacos /nÉ‘:kÉ™ÊŠs/ æ˜¯ Dynamic Naming and Configuration Serviceçš„é¦–å­—æ¯ç®€ç§°ï¼Œä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚Nacos è‡´åŠ›äºå¸®åŠ©æ‚¨å‘ç°ã€é…ç½®å’Œç®¡ç†å¾®æœåŠ¡ã€‚Nacos æä¾›äº†ä¸€ç»„ç®€å•æ˜“ç”¨çš„ç‰¹æ€§é›†ï¼Œå¸®åŠ©æ‚¨å¿«é€Ÿå®ç°åŠ¨æ€æœåŠ¡å‘ç°ã€æœåŠ¡é…ç½®ã€æœåŠ¡å…ƒæ•°æ®åŠæµé‡ç®¡ç†ã€‚Nacos å¸®åŠ©æ‚¨æ›´æ•æ·å’Œå®¹æ˜“åœ°æ„å»ºã€äº¤ä»˜å’Œç®¡ç†å¾®æœåŠ¡å¹³å°ã€‚ Nacos æ˜¯æ„å»ºä»¥â€œæœåŠ¡â€ä¸ºä¸­å¿ƒçš„ç°ä»£åº”ç”¨æ¶æ„ (ä¾‹å¦‚å¾®æœåŠ¡èŒƒå¼ã€äº‘åŸç”ŸèŒƒå¼) çš„æœåŠ¡åŸºç¡€è®¾æ–½ã€‚ï¼ˆé…ç½®ä¸­å¿ƒå’Œæ³¨å†Œä¸­å¿ƒï¼‰</p><h3 id="äºŒã€é…ç½®ä¸­å¿ƒåŸºç¡€æ¦‚è¿°"><a href="#äºŒã€é…ç½®ä¸­å¿ƒåŸºç¡€æ¦‚è¿°" class="headerlink" title="äºŒã€é…ç½®ä¸­å¿ƒåŸºç¡€æ¦‚è¿°"></a>äºŒã€é…ç½®ä¸­å¿ƒåŸºç¡€æ¦‚è¿°</h3><h4 id="1-é…ç½®"><a href="#1-é…ç½®" class="headerlink" title="1.é…ç½®"></a>1.é…ç½®</h4><p>åœ¨ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…é€šå¸¸ä¼šå°†ä¸€äº›éœ€è¦å˜æ›´çš„å‚æ•°ã€å˜é‡ç­‰ä»ä»£ç ä¸­åˆ†ç¦»å‡ºæ¥ç‹¬ç«‹ç®¡ç†ï¼Œä»¥ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ã€‚ç›®çš„æ˜¯è®©é™æ€çš„ç³»ç»Ÿå·¥ä»¶æˆ–è€…äº¤ä»˜ç‰©ï¼ˆå¦‚ WARï¼ŒJAR åŒ…ç­‰ï¼‰æ›´å¥½åœ°å’Œå®é™…çš„ç‰©ç†è¿è¡Œç¯å¢ƒè¿›è¡Œé€‚é…ã€‚é…ç½®ç®¡ç†ä¸€èˆ¬åŒ…å«åœ¨ç³»ç»Ÿéƒ¨ç½²çš„è¿‡ç¨‹ä¸­ï¼Œç”±ç³»ç»Ÿç®¡ç†å‘˜æˆ–è€…è¿ç»´äººå‘˜å®Œæˆã€‚é…ç½®å˜æ›´æ˜¯è°ƒæ•´ç³»ç»Ÿè¿è¡Œæ—¶çš„è¡Œä¸ºçš„æœ‰æ•ˆæ‰‹æ®µã€‚</p><h4 id="2-ä¸ºä»€ä¹ˆè¦ç”¨é…ç½®ä¸­å¿ƒï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆè¦ç”¨é…ç½®ä¸­å¿ƒï¼Ÿ" class="headerlink" title="2.ä¸ºä»€ä¹ˆè¦ç”¨é…ç½®ä¸­å¿ƒï¼Ÿ"></a>2.ä¸ºä»€ä¹ˆè¦ç”¨é…ç½®ä¸­å¿ƒï¼Ÿ</h4><ul><li><strong>é…ç½®å®æ—¶ç”Ÿæ•ˆ</strong>ï¼šä¼ ç»Ÿçš„é™æ€é…ç½®æ–¹å¼è¦æƒ³ä¿®æ”¹æŸä¸ªé…ç½®åªèƒ½ä¿®æ”¹ä¹‹åé‡æ–°å‘å¸ƒåº”ç”¨ï¼Œè¦å®ç°åŠ¨æ€æ€§ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨æ•°æ®åº“ï¼Œé€šè¿‡å®šæ—¶è½®è¯¢è®¿é—®æ•°æ®åº“æ¥æ„ŸçŸ¥é…ç½®çš„å˜åŒ–ã€‚è½®è¯¢é¢‘ç‡ä½æ„ŸçŸ¥é…ç½®å˜åŒ–çš„å»¶æ—¶å°±é•¿ï¼Œè½®è¯¢é¢‘ç‡é«˜ï¼Œæ„ŸçŸ¥é…ç½®å˜åŒ–çš„å»¶æ—¶å°±çŸ­ï¼Œä½†æ¯”è¾ƒæŸè€—æ€§èƒ½ï¼Œéœ€è¦åœ¨å®æ—¶æ€§å’Œæ€§èƒ½ä¹‹é—´åšæŠ˜ä¸­ã€‚<strong>é…ç½®ä¸­å¿ƒä¸“é—¨é’ˆå¯¹è¿™ä¸ªä¸šåŠ¡åœºæ™¯ï¼Œå…¼é¡¾å®æ—¶æ€§å’Œä¸€è‡´æ€§æ¥ç®¡ç†åŠ¨æ€é…ç½®</strong>ï¼›</li><li><strong>é…ç½®ç®¡ç†æµç¨‹</strong>ï¼šé…ç½®çš„æƒé™ç®¡æ§ã€ç°åº¦å‘å¸ƒã€ç‰ˆæœ¬ç®¡ç†ã€æ ¼å¼æ£€éªŒå’Œå®‰å…¨é…ç½®ç­‰ä¸€ç³»åˆ—çš„é…ç½®ç®¡ç†ç›¸å…³çš„ç‰¹æ€§ï¼Œä¹Ÿæ˜¯é…ç½®ä¸­å¿ƒä¸å¯è·å–çš„ä¸€éƒ¨åˆ†ï¼›</li><li><strong>åˆ†å¸ƒå¼åœºæ™¯</strong>ï¼šéšç€é‡‡ç”¨åˆ†å¸ƒå¼çš„å¼€å‘æ¨¡å¼ï¼Œé¡¹ç›®ä¹‹é—´çš„ç›¸äº’å¼•ç”¨éšç€æœåŠ¡çš„ä¸æ–­å¢å¤šï¼Œç›¸äº’ä¹‹é—´çš„è°ƒç”¨å¤æ‚åº¦æˆæŒ‡æ•°å‡é«˜ï¼Œæ¯æ¬¡æŠ•äº§æˆ–è€…ä¸Šçº¿æ–°çš„é¡¹ç›®æ—¶è‹¦ä¸å ªè¨€ï¼Œéœ€è¦å¼•ç”¨é…ç½®ä¸­å¿ƒæ²»ç†</li></ul><h4 id="3-é…ç½®ä¸­å¿ƒæ”¯æŒåŠŸèƒ½"><a href="#3-é…ç½®ä¸­å¿ƒæ”¯æŒåŠŸèƒ½" class="headerlink" title="3.é…ç½®ä¸­å¿ƒæ”¯æŒåŠŸèƒ½"></a>3.é…ç½®ä¸­å¿ƒæ”¯æŒåŠŸèƒ½</h4><ul><li><strong>ç°åº¦å‘å¸ƒ</strong>ï¼šé…ç½®çš„ç°åº¦å‘å¸ƒæ˜¯é…ç½®ä¸­å¿ƒæ¯”è¾ƒé‡è¦çš„åŠŸèƒ½ï¼Œå½“é…ç½®çš„å˜æ›´å½±å“æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œéœ€è¦å…ˆåœ¨éƒ¨åˆ†åº”ç”¨å®ä¾‹ä¸­éªŒè¯é…ç½®çš„å˜æ›´æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œç„¶åå†æ¨é€åˆ°æ‰€æœ‰åº”ç”¨å®ä¾‹ã€‚</li><li><strong>æƒé™ç®¡ç†</strong>ï¼šé…ç½®çš„å˜æ›´å’Œä»£ç å˜æ›´éƒ½æ˜¯å¯¹åº”ç”¨è¿è¡Œé€»è¾‘çš„æ”¹å˜ï¼Œé‡è¦çš„é…ç½®å˜æ›´å¸¸å¸¸ä¼šå¸¦æ¥æ ¸å¼¹çš„æ•ˆæœï¼Œå¯¹äºé…ç½®å˜æ›´çš„æƒé™ç®¡æ§å’Œå®¡è®¡èƒ½åŠ›åŒæ ·æ˜¯é…ç½®ä¸­å¿ƒé‡è¦çš„åŠŸèƒ½ã€‚</li><li><strong>ç‰ˆæœ¬ç®¡ç†&amp;å›æ»š</strong>ï¼šå½“é…ç½®å˜æ›´ä¸ç¬¦åˆé¢„æœŸçš„æ—¶å€™ï¼Œéœ€è¦æ ¹æ®é…ç½®çš„å‘å¸ƒç‰ˆæœ¬è¿›è¡Œå›æ»šã€‚</li><li><strong>é…ç½®æ ¼å¼æ ¡éªŒ</strong>ï¼šåº”ç”¨çš„é…ç½®æ•°æ®å­˜å‚¨åœ¨é…ç½®ä¸­å¿ƒä¸€èˆ¬éƒ½ä¼šä»¥ä¸€ç§é…ç½®æ ¼å¼å­˜å‚¨ï¼Œæ¯”å¦‚Propertiesã€Jsonã€Yamlç­‰ï¼Œå¦‚æœé…ç½®æ ¼å¼é”™è¯¯ï¼Œä¼šå¯¼è‡´å®¢æˆ·ç«¯è§£æé…ç½®å¤±è´¥å¼•èµ·ç”Ÿäº§æ•…éšœï¼Œé…ç½®ä¸­å¿ƒå¯¹é…ç½®çš„æ ¼å¼æ ¡éªŒèƒ½å¤Ÿæœ‰æ•ˆé˜²æ­¢äººä¸ºé”™è¯¯æ“ä½œçš„å‘ç”Ÿï¼Œæ˜¯é…ç½®ä¸­å¿ƒæ ¸å¿ƒåŠŸèƒ½ä¸­çš„åˆšéœ€ã€‚</li><li><strong>ç›‘å¬æŸ¥è¯¢</strong>ï¼šå½“æ’æŸ¥é—®é¢˜æˆ–è€…è¿›è¡Œç»Ÿè®¡çš„æ—¶å€™ï¼Œéœ€è¦çŸ¥é“ä¸€ä¸ªé…ç½®è¢«å“ªäº›åº”ç”¨å®ä¾‹ä½¿ç”¨åˆ°ï¼Œä»¥åŠä¸€ä¸ªå®ä¾‹ä½¿ç”¨åˆ°äº†å“ªäº›é…ç½®ã€‚</li><li><strong>å¤šç¯å¢ƒ</strong>ï¼šåœ¨å®é™…ç”Ÿäº§ä¸­ï¼Œé…ç½®ä¸­å¿ƒå¸¸å¸¸éœ€è¦æ¶‰åŠå¤šç¯å¢ƒæˆ–è€…å¤šé›†ç¾¤ï¼Œä¸šåŠ¡åœ¨å¼€å‘çš„æ—¶å€™å¯ä»¥å°†å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒåˆ†å¼€ï¼Œæˆ–è€…æ ¹æ®ä¸åŒçš„ä¸šåŠ¡çº¿å­˜åœ¨å¤šä¸ªç”Ÿäº§ç¯å¢ƒã€‚å¦‚æœå„ä¸ªç¯å¢ƒä¹‹é—´çš„ç›¸äº’å½±å“æ¯”è¾ƒå°ï¼ˆå¼€å‘ç¯å¢ƒå½±å“åˆ°ç”Ÿäº§ç¯å¢ƒç¨³å®šæ€§ï¼‰ï¼Œé…ç½®ä¸­å¿ƒå¯ä»¥é€šè¿‡é€»è¾‘éš”ç¦»çš„æ–¹å¼æ”¯æŒå¤šç¯å¢ƒã€‚</li><li><strong>å¤šé›†ç¾¤</strong>ï¼šå½“å¯¹ç¨³å®šæ€§è¦æ±‚æ¯”è¾ƒé«˜ï¼Œä¸å…è®¸å„ä¸ªç¯å¢ƒç›¸äº’å½±å“çš„æ—¶å€™ï¼Œéœ€è¦å°†å¤šä¸ªç¯å¢ƒé€šè¿‡å¤šé›†ç¾¤çš„æ–¹å¼è¿›è¡Œç‰©ç†éš”ç¦»ã€‚</li></ul><h3 id="ä¸‰ã€Nacoså®‰è£…å’Œå¯åŠ¨"><a href="#ä¸‰ã€Nacoså®‰è£…å’Œå¯åŠ¨" class="headerlink" title="ä¸‰ã€Nacoså®‰è£…å’Œå¯åŠ¨"></a>ä¸‰ã€Nacoså®‰è£…å’Œå¯åŠ¨</h3><h4 id="1-ä¸‹è½½"><a href="#1-ä¸‹è½½" class="headerlink" title="1.ä¸‹è½½"></a>1.ä¸‹è½½</h4><blockquote><p>ä»githubä¸Šé€‰æ‹©éœ€è¦çš„ç‰ˆæœ¬è¿›è¡Œ<a href="https://github.com/alibaba/nacos/releases">ä¸‹è½½</a></p></blockquote><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221009162640058.png" alt="image-20221009162640058"></p><h4 id="2-è§£å‹"><a href="#2-è§£å‹" class="headerlink" title="2.è§£å‹"></a>2.è§£å‹</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /usr/upload<br>tar -zxvf nacos-server-1.4.1.tar.gz -C /usr/local<br></code></pre></td></tr></table></figure><h4 id="3-å¯åŠ¨å’Œå…³é—­"><a href="#3-å¯åŠ¨å’Œå…³é—­" class="headerlink" title="3.å¯åŠ¨å’Œå…³é—­"></a>3.å¯åŠ¨å’Œå…³é—­</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /usr/local/nacos/bin<br><span class="hljs-meta prompt_">#</span><span class="language-bash">å¯åŠ¨</span><br>./startup.sh -m standalone #éé›†ç¾¤æ¨¡å¼å¯åŠ¨<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">å…³é—­</span><br>./shutdown.sh<br></code></pre></td></tr></table></figure><h4 id="4-æµ‹è¯•"><a href="#4-æµ‹è¯•" class="headerlink" title="4.æµ‹è¯•"></a>4.æµ‹è¯•</h4><p>æµè§ˆå™¨è®¿é—®ï¼š<a href="http://host:8848/nacos%EF%BC%8C%E5%87%BA%E7%8E%B0%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2%E5%8D%B3%E5%90%AF%E5%8A%A8%E6%88%90%E5%8A%9F%EF%BC%9B%E9%BB%98%E8%AE%A4%E7%94%A8%E6%88%B7%E5%90%8D/%E5%AF%86%E7%A0%81%E4%B8%BA%EF%BC%9A">http://host:8848/nacosï¼Œå‡ºç°ç™»å½•ç•Œé¢å³å¯åŠ¨æˆåŠŸï¼›é»˜è®¤ç”¨æˆ·å/å¯†ç ä¸ºï¼š</a> nacos&#x2F;nacos</p><h3 id="å››ã€Nacosæ³¨å†Œä¸­å¿ƒ"><a href="#å››ã€Nacosæ³¨å†Œä¸­å¿ƒ" class="headerlink" title="å››ã€Nacosæ³¨å†Œä¸­å¿ƒ"></a>å››ã€Nacosæ³¨å†Œä¸­å¿ƒ</h3><h3 id="1-ä»€ä¹ˆæ˜¯æ³¨å†Œä¸­å¿ƒ"><a href="#1-ä»€ä¹ˆæ˜¯æ³¨å†Œä¸­å¿ƒ" class="headerlink" title="1.ä»€ä¹ˆæ˜¯æ³¨å†Œä¸­å¿ƒ"></a>1.ä»€ä¹ˆæ˜¯æ³¨å†Œä¸­å¿ƒ</h3><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221009163625094.png" alt="image-20221009163625094"></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221009163709444.png" alt="image-20221009163709444"></p><p>æ³¨å†Œä¸­å¿ƒä¸»è¦æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p><ul><li><strong>Nacos-Server</strong>ï¼šæ³¨å†Œä¸­å¿ƒ</li></ul><p>â€‹    æä¾›æœåŠ¡çš„æ³¨å†Œå’Œå‘ç°ã€‚</p><ul><li><strong>Nacos-Provider</strong>ï¼šæœåŠ¡æä¾›æ–¹</li></ul><p>â€‹    æŠŠè‡ªèº«çš„æœåŠ¡å®ä¾‹æ³¨å†Œåˆ° Nacos Server ä¸­</p><ul><li><strong>Nacos-Consumer</strong>ï¼šæœåŠ¡è°ƒç”¨æ–¹</li></ul><p>â€‹    é€šè¿‡ Nacos Server è·å–æœåŠ¡åˆ—è¡¨ï¼Œæ¶ˆè´¹æœåŠ¡ã€‚</p><h3 id="2-Nacosæ³¨å†Œä¸­å¿ƒä½¿ç”¨"><a href="#2-Nacosæ³¨å†Œä¸­å¿ƒä½¿ç”¨" class="headerlink" title="2.Nacosæ³¨å†Œä¸­å¿ƒä½¿ç”¨"></a>2.Nacosæ³¨å†Œä¸­å¿ƒä½¿ç”¨</h3><h4 id="2-1åˆ›å»ºæœåŠ¡æä¾›è€…nacos-provider"><a href="#2-1åˆ›å»ºæœåŠ¡æä¾›è€…nacos-provider" class="headerlink" title="2.1åˆ›å»ºæœåŠ¡æä¾›è€…nacos_provider"></a>2.1åˆ›å»ºæœåŠ¡æä¾›è€…nacos_provider</h4><h5 id="lt-1-gt-pom-xml"><a href="#lt-1-gt-pom-xml" class="headerlink" title="&lt;1&gt;pom.xml"></a>&lt;1&gt;pom.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springcloud_parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>nacos_provider<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springcloud_common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--nacoså®¢æˆ·ç«¯--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="lt-2-gt-application-yml"><a href="#lt-2-gt-application-yml" class="headerlink" title="&lt;2&gt;application.yml"></a>&lt;2&gt;application.yml</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8090</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.211</span><span class="hljs-number">.131</span><span class="hljs-string">:8848</span> <span class="hljs-comment">#æ³¨å†Œä¸­å¿ƒçš„åœ°å€</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">nacos-provider</span> <span class="hljs-comment">#æ³¨å†Œåˆ°nacosçš„æœåŠ¡å</span><br></code></pre></td></tr></table></figure><h5 id="lt-3-gt-java"><a href="#lt-3-gt-java" class="headerlink" title="&lt;3&gt;java"></a>&lt;3&gt;java</h5><p>conrtoller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.pojo.User;<br><span class="hljs-keyword">import</span> com.example.service.UserService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/provider&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserService userService;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> userService.getUserById(id);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>service</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.pojo.User;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span> &#123;<br>    User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Integer id)</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.pojo.User;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;<br><br><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Integer id)</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(id, <span class="hljs-string">&quot;admin&quot;</span>, <span class="hljs-number">18</span>);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>SpringBootApplication</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.discovery.EnableDiscoveryClient;<br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableDiscoveryClient</span> <span class="hljs-comment">//æ³¨å†Œè‡ªå·±å¹¶å‘ç°å…¶ä»–æœåŠ¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NacosProviderApp</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        SpringApplication.run(NacosProviderApp.class, args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-3åˆ›å»ºæœåŠ¡æ¶ˆè´¹è€…nacos-consumer"><a href="#2-3åˆ›å»ºæœåŠ¡æ¶ˆè´¹è€…nacos-consumer" class="headerlink" title="2.3åˆ›å»ºæœåŠ¡æ¶ˆè´¹è€…nacos_consumer"></a>2.3åˆ›å»ºæœåŠ¡æ¶ˆè´¹è€…nacos_consumer</h4><h5 id="lt-1-gt-pom-xml-1"><a href="#lt-1-gt-pom-xml-1" class="headerlink" title="&lt;1&gt;pom.xml"></a>&lt;1&gt;pom.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springcloud_parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>nacos_consumer<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springcloud_common<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="lt-2-gt-application-yml-1"><a href="#lt-2-gt-application-yml-1" class="headerlink" title="&lt;2&gt;application.yml"></a>&lt;2&gt;application.yml</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.211</span><span class="hljs-number">.131</span><span class="hljs-string">:8848</span> <span class="hljs-comment">#æ³¨å†Œä¸­å¿ƒçš„åœ°å€</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">nacos-consumer</span> <span class="hljs-comment">#æ³¨å†Œåˆ°nacosçš„æœåŠ¡å</span><br></code></pre></td></tr></table></figure><h5 id="lt-3-gt-java-1"><a href="#lt-3-gt-java-1" class="headerlink" title="&lt;3&gt;java"></a>&lt;3&gt;java</h5><p>config</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> org.springframework.web.client.RestTemplate;<br><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BeanConfig</span> &#123;<br><br>    <span class="hljs-comment">//RestTemplateï¼šæ˜¯springæä¾›çš„ä¸€ä¸ªå·¥å…·ç±»ï¼Œä½œç”¨æ˜¯å‘é€restfulè¯·æ±‚</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> RestTemplate <span class="hljs-title function_">restTemplate</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RestTemplate</span>();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.example.pojo.User;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.ServiceInstance;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.discovery.DiscoveryClient;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PathVariable;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><span class="hljs-keyword">import</span> org.springframework.web.client.RestTemplate;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/consumer&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> RestTemplate restTemplate;<br>    <span class="hljs-comment">//springcloudæä¾›çš„å·¥å…·ç±»ï¼Œä½œç”¨ï¼šå‘ç°æœåŠ¡</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> DiscoveryClient discoveryClient;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/getUserById/&#123;id&#125;&quot;)</span><br>    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span>&#123;<br>        <span class="hljs-comment">//è·å¾—æ‰€æœ‰çš„æœåŠ¡å</span><br>        List&lt;String&gt; serviceList = discoveryClient.getServices();<br>        <span class="hljs-keyword">for</span> (String serviceName : serviceList) &#123;<br>            System.out.println(serviceName);<br>        &#125;<br><br>        <span class="hljs-comment">//è°ƒç”¨nacos_provideræœåŠ¡</span><br>        <span class="hljs-comment">//ç¼ºç‚¹ï¼š1ã€ipå’Œportç¡¬ç¼–ç     2ã€ä¸èƒ½å®ç°è´Ÿè½½å‡è¡¡</span><br>        <span class="hljs-comment">//String url = &quot;http://127.0.0.1:8090/provider/getUserById/&quot;+id;</span><br><br>        <span class="hljs-comment">//ç¼ºç‚¹ï¼š2ã€ä¸èƒ½å®ç°è´Ÿè½½å‡è¡¡</span><br>        <span class="hljs-type">ServiceInstance</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> discoveryClient.getInstances(<span class="hljs-string">&quot;nacos-provider&quot;</span>).get(<span class="hljs-number">0</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;http://&quot;</span>+ service.getHost() +<span class="hljs-string">&quot;:&quot;</span>+ service.getPort() +<span class="hljs-string">&quot;/provider/getUserById/&quot;</span>+id;<br>        <span class="hljs-keyword">return</span> restTemplate.getForObject(url, User.class);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="3-Nacosé…ç½®ä¸­å¿ƒä½¿ç”¨"><a href="#3-Nacosé…ç½®ä¸­å¿ƒä½¿ç”¨" class="headerlink" title="3.Nacosé…ç½®ä¸­å¿ƒä½¿ç”¨"></a>3.Nacosé…ç½®ä¸­å¿ƒä½¿ç”¨</h3><h4 id="3-1åˆ›å»ºé…ç½®ä¸­å¿ƒnacos-config"><a href="#3-1åˆ›å»ºé…ç½®ä¸­å¿ƒnacos-config" class="headerlink" title="3.1åˆ›å»ºé…ç½®ä¸­å¿ƒnacos_config"></a>3.1åˆ›å»ºé…ç½®ä¸­å¿ƒnacos_config</h4><h5 id="lt-1-gt-pom-xml-2"><a href="#lt-1-gt-pom-xml-2" class="headerlink" title="&lt;1&gt;pom.xml"></a>&lt;1&gt;pom.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springcloud_parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.example<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>nacos_config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.cloud<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="lt-2-gt-bootstrap-yml"><a href="#lt-2-gt-bootstrap-yml" class="headerlink" title="&lt;2&gt;bootstrap.yml"></a>&lt;2&gt;bootstrap.yml</h5><blockquote><p>å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶çš„åç§°å¿…é¡»ä¸º<code>bootstrap.yml</code></p><ul><li><code>bootstrap.yml</code>æ¯” <code>applicaton.yml</code> ä¼˜å…ˆåŠ è½½ï¼Œåº”ç”¨äºç³»ç»Ÿçº§åˆ«å‚æ•°é…ç½®ï¼Œä¸€èˆ¬ä¸ä¼šå˜åŠ¨ï¼›</li><li><code>application.yml</code>åº”ç”¨äºSpringBooté¡¹ç›®çš„è‡ªåŠ¨åŒ–é…ç½®ï¼›</li></ul></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">config:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.211</span><span class="hljs-number">.131</span><span class="hljs-string">:8848</span> <span class="hljs-comment">#æ³¨å†Œä¸­å¿ƒçš„åœ°å€#é…ç½®æ–‡ä»¶çš„å‰ç¼€</span><br>        <span class="hljs-attr">prefix:</span> <span class="hljs-string">nacos-config</span> <span class="hljs-comment">#é…ç½®æ–‡ä»¶çš„å‰ç¼€ï¼Œé»˜è®¤æ˜¯spring.application.name</span><br>        <span class="hljs-attr">file-extension:</span> <span class="hljs-string">yaml</span> <span class="hljs-comment">#é…ç½®æ–‡ä»¶çš„åç¼€ï¼Œé»˜è®¤æ˜¯properties</span><br><span class="hljs-comment">#Data IDçš„è¯­æ³•ï¼š$&#123;spring.cloud.nacos.config.prefix&#125;.$&#123;spring.cloud.nacos.config.file-extension&#125;</span><br></code></pre></td></tr></table></figure><h5 id="lt-3-gt-java-2"><a href="#lt-3-gt-java-2" class="headerlink" title="&lt;3&gt;java"></a>&lt;3&gt;java</h5><p>controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Value;<br><span class="hljs-keyword">import</span> org.springframework.cloud.context.config.annotation.RefreshScope;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RefreshScope</span> <span class="hljs-comment">//é‡æ–°ä»BeanFactoryè·å–ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼ˆè¯¥å®ä¾‹ä½¿ç”¨æ–°çš„é…ç½®ï¼‰</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigController</span> &#123;<br><br>    <span class="hljs-meta">@Value(&quot;$&#123;spring.datasource.driver-class-name&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String driverClassName;<br>    <span class="hljs-meta">@Value(&quot;$&#123;spring.datasource.url&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String url;<br>    <span class="hljs-meta">@Value(&quot;$&#123;spring.datasource.username&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String username;<br>    <span class="hljs-meta">@Value(&quot;$&#123;spring.datasource.password&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String password;<br>    <span class="hljs-meta">@Value(&quot;$&#123;spring.datasource.type&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String type;<br><br>    <span class="hljs-meta">@GetMapping(&quot;/config/info&quot;)</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getConfigInfo</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-built_in">this</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">configInfo</span> <span class="hljs-operator">=</span> driverClassName+<span class="hljs-string">&quot;&lt;br&gt;&quot;</span>+url+<span class="hljs-string">&quot;&lt;br&gt;&quot;</span>+username+<span class="hljs-string">&quot;&lt;br&gt;&quot;</span><br>                +password+<span class="hljs-string">&quot;&lt;br&gt;&quot;</span>+type;<br>        <span class="hljs-keyword">return</span> configInfo;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>SpringBootApplication</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><span class="hljs-keyword">import</span> org.springframework.cloud.client.discovery.EnableDiscoveryClient;<br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@EnableDiscoveryClient</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NacosConfigApp</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        SpringApplication.run(NacosConfigApp.class,args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-2åœ¨nacosä¸­æ–°å»ºé…ç½®æ–‡ä»¶"><a href="#3-2åœ¨nacosä¸­æ–°å»ºé…ç½®æ–‡ä»¶" class="headerlink" title="3.2åœ¨nacosä¸­æ–°å»ºé…ç½®æ–‡ä»¶"></a>3.2åœ¨nacosä¸­æ–°å»ºé…ç½®æ–‡ä»¶</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">192.168</span><span class="hljs-number">.211</span><span class="hljs-number">.131</span><span class="hljs-string">:8848</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">nacos-config</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://192.168.211.131:3306/health?characterEncoding=UTF-8</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">1111</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span><br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221009212733188.png"></p><h4 id="3-3æµ‹è¯•"><a href="#3-3æµ‹è¯•" class="headerlink" title="3.3æµ‹è¯•"></a>3.3æµ‹è¯•</h4><p>1.å¯åŠ¨æ—¶åŠ è½½é…ç½®æ–‡ä»¶</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221009213211549.png"></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221009213226665.png"></p><p>2.ä¿®æ”¹é…ç½®æ–‡ä»¶ånacosç›‘å¬åˆ°MD5æœ‰å˜åŒ–åˆ™æ¨é€æ¶ˆæ¯ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°æ¶ˆæ¯åä¼šæ‹‰å–æœ€æ–°é…ç½®ï¼ˆå‚è€ƒ<br><code>é…ç½®ç®¡ç†-&gt;ç›‘å¬æŸ¥è¯¢</code>èœå•ï¼‰</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221009213243110.png"></p><p>3.æµè§ˆå™¨è®¿é—®ï¼š<a href="http://127.0.0.1/config/info">http://127.0.0.1/config/info</a></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221009213256584.png"></p><h4 id="3-4Nacosé…ç½®ç®¡ç†æ¨¡å‹"><a href="#3-4Nacosé…ç½®ç®¡ç†æ¨¡å‹" class="headerlink" title="3.4Nacosé…ç½®ç®¡ç†æ¨¡å‹"></a>3.4Nacosé…ç½®ç®¡ç†æ¨¡å‹</h4><p>Nacosé…ç½®ç®¡ç†ï¼Œé€šè¿‡Namespaceã€groupã€Data IDèƒ½å¤Ÿå®šä½åˆ°ä¸€ä¸ªé…ç½®é›†ã€‚</p><p>Namespace Group DataIdä»‹ç»ï¼š</p><ul><li>Namespace: ä»£è¡¨ä¸åŒçš„ç¯å¢ƒçš„é…ç½®éš”ç¦», å¦‚: å¼€å‘ã€æµ‹è¯•ï¼Œ ç”Ÿäº§ç­‰</li><li>Group: å¯ä»¥ä»£è¡¨æŸä¸ªé¡¹ç›®, å¦‚XXåŒ»ç–—é¡¹ç›®, XXç”µå•†é¡¹ç›®</li><li>DataId: æ¯ä¸ªé¡¹ç›®ä¸‹å¾€å¾€æœ‰è‹¥å¹²ä¸ªå·¥ç¨‹, æ¯ä¸ªé…ç½®é›†(DataId)æ˜¯ä¸€ä¸ªå·¥ç¨‹çš„ä¸»é…ç½®æ–‡ä»¶</li></ul><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221010165507276.png"></p><p>è·å–é…ç½®é›†éœ€è¦æŒ‡å®šï¼š</p><ol><li>nacosæœåŠ¡åœ°å€ï¼Œå¿…é¡»æŒ‡å®š</li><li>namespaceï¼Œå¦‚ä¸æŒ‡å®šé»˜è®¤public</li><li>groupï¼Œå¦‚ä¸æŒ‡å®šé»˜è®¤ DEFAULT_GROUP</li><li>dataIdï¼Œå¿…é¡»æŒ‡å®š</li></ol><blockquote><p>Nacosé…ç½®éš”ç¦»å…ˆåœ¨é…ç½®ä¸­å¯¹ä»¥ä¸Šå‚æ•°è¿›è¡Œè®¾ç½®ï¼Œé€šè¿‡å¯¹é…ç½®é›†æŒ‡å®šå‚æ•°è¿›è¡Œé…ç½®éš”ç¦»</p></blockquote><h4 id="3-5æœåŠ¡éš”ç¦»"><a href="#3-5æœåŠ¡éš”ç¦»" class="headerlink" title="3.5æœåŠ¡éš”ç¦»"></a>3.5æœåŠ¡éš”ç¦»</h4><p>nacos_providerï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8090</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">47.98</span><span class="hljs-number">.105</span><span class="hljs-number">.36</span><span class="hljs-string">:8848</span><br>        <span class="hljs-attr">namespace:</span> <span class="hljs-string">test</span> <span class="hljs-comment">#å¼€å‘ç¯å¢ƒ</span><br>        <span class="hljs-attr">group:</span> <span class="hljs-string">nacos_group</span> <span class="hljs-comment">#é¡¹ç›®ç»„  provideä¸consumeråŒé¡¹ç›®ä¿æŒä¸€è‡´</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">nacos-provider</span><br></code></pre></td></tr></table></figure><p>nacos_consumerï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">cloud:</span><br>    <span class="hljs-attr">nacos:</span><br>      <span class="hljs-attr">discovery:</span><br>        <span class="hljs-attr">server-addr:</span> <span class="hljs-number">47.98</span><span class="hljs-number">.105</span><span class="hljs-number">.36</span><span class="hljs-string">:8848</span><br>        <span class="hljs-attr">namespace:</span> <span class="hljs-string">test</span> <span class="hljs-comment">#å¼€å‘ç¯å¢ƒ</span><br>        <span class="hljs-attr">group:</span> <span class="hljs-string">nacos_group</span> <span class="hljs-comment">#é¡¹ç›®ç»„  provideä¸consumeråŒé¡¹ç›®ä¿æŒä¸€è‡´</span><br>  <span class="hljs-attr">application:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">nacos-consumer</span><br></code></pre></td></tr></table></figure><h3 id="äº”ã€NacosæŒä¹…åŒ–"><a href="#äº”ã€NacosæŒä¹…åŒ–" class="headerlink" title="äº”ã€NacosæŒä¹…åŒ–"></a>äº”ã€NacosæŒä¹…åŒ–</h3><h4 id="1-ä¸ºä»€ä¹ˆè¦æŒä¹…åŒ–ï¼Ÿ"><a href="#1-ä¸ºä»€ä¹ˆè¦æŒä¹…åŒ–ï¼Ÿ" class="headerlink" title="1.ä¸ºä»€ä¹ˆè¦æŒä¹…åŒ–ï¼Ÿ"></a>1.ä¸ºä»€ä¹ˆè¦æŒä¹…åŒ–ï¼Ÿ</h4><p>â€‹Nacosé»˜è®¤æœ‰è‡ªå¸¦åµŒå…¥å¼æ•°æ®åº“derbyï¼Œä½†æ˜¯å¦‚æœåšé›†ç¾¤æ¨¡å¼çš„è¯ï¼Œå°±ä¸èƒ½ä½¿ç”¨è‡ªå·±çš„æ•°æ®åº“ä¸ç„¶æ¯ä¸ªèŠ‚ç‚¹ä¸€ä¸ªæ•°æ®åº“ï¼Œé‚£ä¹ˆæ•°æ®å°±ä¸ç»Ÿä¸€äº†ï¼Œéœ€è¦ä½¿ç”¨å¤–éƒ¨çš„mysql</p><h4 id="2-æŒä¹…åŒ–é…ç½®æ­¥éª¤"><a href="#2-æŒä¹…åŒ–é…ç½®æ­¥éª¤" class="headerlink" title="2.æŒä¹…åŒ–é…ç½®æ­¥éª¤"></a>2.æŒä¹…åŒ–é…ç½®æ­¥éª¤</h4><h5 id="2-1Nacos-application-properties"><a href="#2-1Nacos-application-properties" class="headerlink" title="2.1Nacos application.properties"></a>2.1Nacos application.properties</h5><p>è¿›å…¥application.propertiesæ–‡ä»¶vim</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#*************** Config Module Related Configurations ***************#</span><br><span class="hljs-comment">### If use MySQL as datasource:</span><br><span class="hljs-attr">spring.datasource.platform</span>=<span class="hljs-string">mysql</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">### Count of DB:</span><br><span class="hljs-attr">db.num</span>=<span class="hljs-string">1</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">### Connect URL of DB:</span><br> <span class="hljs-attr">db.url.0</span>=<span class="hljs-string">jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8&amp;connectTimeout=10000&amp;socketTimeout=30000&amp;autoReconnect=true&amp;useUnicode=true&amp;useSSL=false&amp;serverTimezone=UTC</span><br> <span class="hljs-attr">db.user.0</span>=<span class="hljs-string">root</span><br> <span class="hljs-attr">db.password.0</span>=<span class="hljs-string">12345678</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">### Connection pool configuration: hikariCP</span><br><span class="hljs-attr">db.pool.config.connectionTimeout</span>=<span class="hljs-string">30000</span><br><span class="hljs-attr">db.pool.config.validationTimeout</span>=<span class="hljs-string">10000</span><br><span class="hljs-attr">db.pool.config.maximumPoolSize</span>=<span class="hljs-string">20</span><br><span class="hljs-attr">db.pool.config.minimumIdle</span>=<span class="hljs-string">2</span><br><br></code></pre></td></tr></table></figure><h5 id="2-2Mysqlæ•°æ®åº“ä¸­é…ç½®"><a href="#2-2Mysqlæ•°æ®åº“ä¸­é…ç½®" class="headerlink" title="2.2Mysqlæ•°æ®åº“ä¸­é…ç½®"></a>2.2Mysqlæ•°æ®åº“ä¸­é…ç½®</h5><p>Mysqlä¸­åˆ›å»ºnacosæ•°æ®åº“å¹¶å°†è‡ªå¸¦çš„<code>nacos-mysql.sql</code>å¯¼å…¥å³å¯</p><h5 id="2-3æµ‹è¯•"><a href="#2-3æµ‹è¯•" class="headerlink" title="2.3æµ‹è¯•"></a>2.3æµ‹è¯•</h5><p>å¯åŠ¨Nacosåˆ›å»ºé…ç½®ï¼ŒMysqlè¡¨config_infoä¸­æ•°æ®åŒæ­¥å¢åŠ å³é…ç½®æˆåŠŸ</p><h3 id="å…­ã€Nacosé›†ç¾¤æ­å»º"><a href="#å…­ã€Nacosé›†ç¾¤æ­å»º" class="headerlink" title="å…­ã€Nacosé›†ç¾¤æ­å»º"></a>å…­ã€Nacosé›†ç¾¤æ­å»º</h3><h4 id="1-é›†ç¾¤éƒ¨ç½²æ¶æ„å›¾"><a href="#1-é›†ç¾¤éƒ¨ç½²æ¶æ„å›¾" class="headerlink" title="1.é›†ç¾¤éƒ¨ç½²æ¶æ„å›¾"></a>1.é›†ç¾¤éƒ¨ç½²æ¶æ„å›¾</h4><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/20221010193110.png" style="zoom:25%;" /><h4 id="2-èŠ‚ç‚¹è§„åˆ’"><a href="#2-èŠ‚ç‚¹è§„åˆ’" class="headerlink" title="2.èŠ‚ç‚¹è§„åˆ’"></a>2.èŠ‚ç‚¹è§„åˆ’</h4><table><thead><tr><th align="center">èŠ‚ç‚¹</th><th align="center">ç«¯å£</th></tr></thead><tbody><tr><td align="center">47.98.105.36</td><td align="center">8848</td></tr><tr><td align="center">47.98.105.36</td><td align="center">8849</td></tr><tr><td align="center">47.98.105.36</td><td align="center">8847</td></tr></tbody></table><h4 id="3-é›†ç¾¤æ­å»º"><a href="#3-é›†ç¾¤æ­å»º" class="headerlink" title="3.é›†ç¾¤æ­å»º"></a>3.é›†ç¾¤æ­å»º</h4><h5 id="3-1é…ç½®cluster-confæ–‡ä»¶"><a href="#3-1é…ç½®cluster-confæ–‡ä»¶" class="headerlink" title="3.1é…ç½®cluster.confæ–‡ä»¶"></a>3.1é…ç½®cluster.confæ–‡ä»¶</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /usr/local/nacos/conf/<br>cp cluster.conf.example cluster.conf<br>vim cluster.conf<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">it is ip</span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">example</span><br>47.98.105.36:8847<br>47.98.105.36:8848<br>47.98.105.36:8849<br>                <br></code></pre></td></tr></table></figure><h5 id="3-2å¤åˆ¶3ä¸ªNacos"><a href="#3-2å¤åˆ¶3ä¸ªNacos" class="headerlink" title="3.2å¤åˆ¶3ä¸ªNacos"></a>3.2å¤åˆ¶3ä¸ªNacos</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /usr/local<br>mkdir nacos_cluster<br>cp -r nacos nacos_cluster/nacos_8847<br>cp -r nacos nacos_cluster/nacos_8848<br>cp -r nacos nacos_cluster/nacos_8849<br></code></pre></td></tr></table></figure><h5 id="3-3åˆ†åˆ«é…ç½®port"><a href="#3-3åˆ†åˆ«é…ç½®port" class="headerlink" title="3.3åˆ†åˆ«é…ç½®port"></a>3.3åˆ†åˆ«é…ç½®port</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd nacos_8847/conf/<br>vim application.properties<br>server.port=8847<br><br><br>cd nacos_8849/conf/<br>vim application.properties<br>server.port=8849<br><br></code></pre></td></tr></table></figure><h5 id="3-4å¯åŠ¨"><a href="#3-4å¯åŠ¨" class="headerlink" title="3.4å¯åŠ¨"></a>3.4å¯åŠ¨</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">cd /usr/local/nacos_cluster/nacos_8849/bin<br>./startup.sh<br></code></pre></td></tr></table></figure><h4 id="4-æ­å»ºnginx"><a href="#4-æ­å»ºnginx" class="headerlink" title="4.æ­å»ºnginx"></a>4.æ­å»ºnginx</h4><h5 id="4-1å®‰è£…Cè¯­è¨€ç¯å¢ƒ"><a href="#4-1å®‰è£…Cè¯­è¨€ç¯å¢ƒ" class="headerlink" title="4.1å®‰è£…Cè¯­è¨€ç¯å¢ƒ"></a>4.1å®‰è£…Cè¯­è¨€ç¯å¢ƒ</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum -y install gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel<br></code></pre></td></tr></table></figure><h5 id="4-2ä¸‹è½½nginx"><a href="#4-2ä¸‹è½½nginx" class="headerlink" title="4.2ä¸‹è½½nginx"></a>4.2ä¸‹è½½nginx</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">wget -c https://nginx.org/download/nginx-1.12.0.tar.gz<br></code></pre></td></tr></table></figure><h5 id="4-3è§£å‹"><a href="#4-3è§£å‹" class="headerlink" title="4.3è§£å‹"></a>4.3è§£å‹</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sheell">tar -zxvf nginx-1.12.0.tar.gz<br></code></pre></td></tr></table></figure><h5 id="4-4é…ç½®å®‰è£…è·¯å¾„"><a href="#4-4é…ç½®å®‰è£…è·¯å¾„" class="headerlink" title="4.4é…ç½®å®‰è£…è·¯å¾„"></a>4.4é…ç½®å®‰è£…è·¯å¾„</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">./configure --prefix=/usr/local/nginx<br></code></pre></td></tr></table></figure><h5 id="4-5ç¼–è¯‘å¹¶å®‰è£…"><a href="#4-5ç¼–è¯‘å¹¶å®‰è£…" class="headerlink" title="4.5ç¼–è¯‘å¹¶å®‰è£…"></a>4.5ç¼–è¯‘å¹¶å®‰è£…</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">make &amp;&amp; make install<br></code></pre></td></tr></table></figure><h5 id="4-6å¯åŠ¨å’Œå…³é—­"><a href="#4-6å¯åŠ¨å’Œå…³é—­" class="headerlink" title="4.6å¯åŠ¨å’Œå…³é—­"></a>4.6å¯åŠ¨å’Œå…³é—­</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">å¯åŠ¨ï¼š./nginx<br>å…³é—­ï¼š./nginx -s stop<br></code></pre></td></tr></table></figure><h4 id="5-é…ç½®nginxä»£ç†nacosé›†ç¾¤"><a href="#5-é…ç½®nginxä»£ç†nacosé›†ç¾¤" class="headerlink" title="5.é…ç½®nginxä»£ç†nacosé›†ç¾¤"></a>5.é…ç½®nginxä»£ç†nacosé›†ç¾¤</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs shell"> vim /usr/local/nginx/conf/nginx.conf<br><span class="hljs-meta prompt_"> </span><br><span class="hljs-meta prompt_"> #</span><span class="language-bash">gzip  on;</span><br>    upstream nacosList &#123;<br>                server 47.98.105.36:8847;<br>                server 47.98.105.36:8848;<br>                server 47.98.105.36:8849;<br>                &#125;<br>    server &#123;<br>        listen       80;<br>        server_name  localhost;<br><br>        #charset koi8-r;<br><br>        #access_log  logs/host.access.log  main;<br><br>        location / &#123;<br>            proxy_pass http://nacosList;<br>        &#125;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">#</span><span class="language-bash">æ³¨æ„nacosListå˜é‡å‘½åè§„èŒƒ</span><br></code></pre></td></tr></table></figure><p>å¯åŠ¨nginxæœåŠ¡ï¼Œè®¿é—®<a href="http://47.98.105.36/nacos/%EF%BC%9Bnginx%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%88%86%E9%85%8D%E5%85%B6%E4%B8%AD%E4%B8%80%E4%B8%AA%E8%BF%9B%E8%A1%8C%E8%B0%83%E7%94%A8">http://47.98.105.36/nacos/ï¼›nginxä¼šè‡ªåŠ¨åˆ†é…å…¶ä¸­ä¸€ä¸ªè¿›è¡Œè°ƒç”¨</a></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20221010192857504.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs yanml">server:<br>  port: 8090<br>spring:<br>  cloud:<br>    nacos:<br>      discovery:<br>        server-addr: 47.98.105.36 <br>        #47.98.105.36:8848 é…ç½®Nginxåå³å¯çœç•¥ç«¯å£å·ç”±Nginxè¿›è¡Œä»£ç†åˆ†é…<br>        namespace: test #å¼€å‘ç¯å¢ƒ<br>        group: nacos_group #é¡¹ç›®ç»„<br>  application:<br>    name: nacos-provider<br></code></pre></td></tr></table></figure><p>Nacoséƒ¨ç½²é›†ç¾¤åæœåŠ¡åœ°å€çœç•¥ç«¯å£å·ç”±Nginxè¿›è¡Œä»£ç†åˆ†é…</p><h3 id="ä¸ƒã€Nacoså¼€æœºè‡ªå¯åŠ¨é…ç½®"><a href="#ä¸ƒã€Nacoså¼€æœºè‡ªå¯åŠ¨é…ç½®" class="headerlink" title="ä¸ƒã€Nacoså¼€æœºè‡ªå¯åŠ¨é…ç½®*"></a>ä¸ƒã€Nacoså¼€æœºè‡ªå¯åŠ¨é…ç½®*</h3><h4 id="1-ç¼–å†™å¼€æœºå¯åŠ¨æ–‡ä»¶"><a href="#1-ç¼–å†™å¼€æœºå¯åŠ¨æ–‡ä»¶" class="headerlink" title="1.ç¼–å†™å¼€æœºå¯åŠ¨æ–‡ä»¶"></a>1.ç¼–å†™å¼€æœºå¯åŠ¨æ–‡ä»¶</h4><ul><li>æ·»åŠ nacos.serviceæ–‡ä»¶</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">vim /lib/systemd/system/nacos.service<br></code></pre></td></tr></table></figure><ul><li>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell">[Unit]<br>Description=nacos<br>After=network.target<br><br>[Service]<br>Type=forking<br>ExecStart=/usr/local/nacos/bin/startup.sh -m standalone<br>ExecReload=/usr/local/nacos/bin/shutdown.sh<br>ExecStop=/usr/local/nacos/bin/shutdown.sh<br>PrivateTmp=true<br><br>[Install]<br>WantedBy=multi-user.target<br></code></pre></td></tr></table></figure><h4 id="2-ä¿®æ”¹nacosçš„startup-sh"><a href="#2-ä¿®æ”¹nacosçš„startup-sh" class="headerlink" title="2.ä¿®æ”¹nacosçš„startup.sh"></a>2.ä¿®æ”¹nacosçš„startup.sh</h4><ul><li>ä¿®æ”¹JAVA_HOMEè·¯å¾„å¹¶æ³¨é”€ä¹‹åçš„3è¡Œé…ç½®ï¼Œå¦‚ä¸‹ï¼š</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs sh">vim /usr/local/nacos/bin/start.sh<br><br><span class="hljs-comment">#æ‰¾åˆ° JAVA_HOME è®¾ç½®ç»å¯¹è·¯å¾„</span><br>[ ! -e <span class="hljs-string">&quot;<span class="hljs-variable">$JAVA_HOME</span>/bin/java&quot;</span> ] &amp;&amp; JAVA_HOME=/usr/local/jdk1.8.0_191 <br><span class="hljs-comment">#[ ! -e &quot;$JAVA_HOME/bin/java&quot; ] &amp;&amp; JAVA_HOME=/usr/java</span><br><span class="hljs-comment">#[ ! -e &quot;$JAVA_HOME/bin/java&quot; ] &amp;&amp; JAVA_HOME=/opt/taobao/java</span><br><span class="hljs-comment">#[ ! -e &quot;$JAVA_HOME/bin/java&quot; ] &amp;&amp; unset JAVA_HOME</span><br></code></pre></td></tr></table></figure><h4 id="3-è®¾ç½®å¼€æœºå¯åŠ¨"><a href="#3-è®¾ç½®å¼€æœºå¯åŠ¨" class="headerlink" title="3.è®¾ç½®å¼€æœºå¯åŠ¨"></a>3.è®¾ç½®å¼€æœºå¯åŠ¨</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sh">systemctl daemon-reload        <span class="hljs-comment">#é‡æ–°åŠ è½½æœåŠ¡é…ç½®</span><br>systemctl <span class="hljs-built_in">enable</span> nacos.service   <span class="hljs-comment">#è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨</span><br>systemctl start nacos.service    <span class="hljs-comment">#å¯åŠ¨nacosæœåŠ¡</span><br>systemctl stop nacos.service    <span class="hljs-comment">#åœæ­¢nacosæœåŠ¡</span><br>systemctl status nacos.service   <span class="hljs-comment">#æŸ¥è¯¢nacosæœåŠ¡çŠ¶æ€</span><br></code></pre></td></tr></table></figure><div>    <script src="//cdn.jsdelivr.net/npm/@waline/client"></script><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>å¾®æœåŠ¡</category>
      
      <category>Spring Cloud Alibaba</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¾®æœåŠ¡</tag>
      
      <tag>Spring Cloud Alibaba</tag>
      
      <tag>Nacos</tag>
      
      <tag>Nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Spring Cloud Alibaba</title>
    <link href="/2022/10/07/Spring%20Cloud%20Alibaba/"/>
    <url>/2022/10/07/Spring%20Cloud%20Alibaba/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€ç³»ç»Ÿæ¶æ„æ¼”å˜-å¾®æœåŠ¡"><a href="#ä¸€ã€ç³»ç»Ÿæ¶æ„æ¼”å˜-å¾®æœåŠ¡" class="headerlink" title="ä¸€ã€ç³»ç»Ÿæ¶æ„æ¼”å˜-å¾®æœåŠ¡"></a>ä¸€ã€ç³»ç»Ÿæ¶æ„æ¼”å˜-å¾®æœåŠ¡</h3><p>åœ¨<a href="https://i-xiaoxin.github.io/2022/09/21/dubbo%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">dubboå¾®æœåŠ¡åŸºç¡€çŸ¥è¯†</a> ä¸­é˜è¿°äº†webç³»ç»Ÿæ¶æ„ä»å•ä½“æ¶æ„-&gt;åˆ†å¸ƒå¼æ¶æ„-&gt;SOAæ¶æ„ï¼ŒSOAä¹Ÿæ˜¯é¢å‘æœåŠ¡ï¼Œä½†æ˜¯å¾®æœåŠ¡æ˜¯è¿›ä¸€æ­¥æ¼”åŒ–æŠ½å–æ‹†åˆ†</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/20220329175414733.png"></p><blockquote><p>å¾®æœåŠ¡æ¶æ„æ˜¯ä¸€ç§åº”ç”¨æ¶æ„ç±»å‹ï¼Œå…¶ä¸­åº”ç”¨ä¼šå¼€å‘ä¸ºä¸€ç³»åˆ—æœåŠ¡ã€‚å®ƒæä¾›äº†ç‹¬ç«‹å¼€å‘ã€éƒ¨ç½²å’Œç»´æŠ¤å¾®æœåŠ¡æ¶æ„å›¾å’ŒæœåŠ¡çš„æ¡†æ¶ã€‚</p></blockquote><p>å¾®æœåŠ¡æ¶æ„ç‰¹å¾ï¼š</p><ul><li><p>é¢å‘æœåŠ¡ï¼šå¾®æœåŠ¡å¯¹å¤–æš´éœ²Restfulç­‰è½»é‡åè®®çš„æ¥å£</p></li><li><p>å•ä¸€èŒè´£ï¼šå¾®æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´å°ï¼Œåšåˆ°å•ä¸€èŒè´£</p></li></ul><h3 id="äºŒã€Spring-Cloudæ¦‚è¿°"><a href="#äºŒã€Spring-Cloudæ¦‚è¿°" class="headerlink" title="äºŒã€Spring Cloudæ¦‚è¿°"></a>äºŒã€Spring Cloudæ¦‚è¿°</h3><h4 id="2-1-Spring-Cloudæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-1-Spring-Cloudæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2.1 Spring Cloudæ˜¯ä»€ä¹ˆï¼Ÿ"></a>2.1 Spring Cloudæ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>â€‹Spring Cloudæ˜¯ä¸€ç³»åˆ—æ¡†æ¶çš„æœ‰åºé›†åˆå¦‚æœåŠ¡å‘ç°æ³¨å†Œã€é…ç½®ä¸­å¿ƒã€æ¶ˆæ¯æ€»çº¿ã€è´Ÿè½½å‡è¡¡ã€ç†”æ–­å™¨ã€æ•°æ®ç›‘æ§ç­‰ã€‚</p><h4 id="2-2-Spring-Cloud-å’Œ-Spring-Bootçš„å…³ç³»"><a href="#2-2-Spring-Cloud-å’Œ-Spring-Bootçš„å…³ç³»" class="headerlink" title="2.2 Spring Cloud å’Œ Spring Bootçš„å…³ç³»"></a>2.2 Spring Cloud å’Œ Spring Bootçš„å…³ç³»</h4><p>Spring boot æ˜¯ Spring çš„ä¸€å¥—<strong>å¿«é€Ÿé…ç½®è„šæ‰‹æ¶</strong>ï¼Œå¯ä»¥åŸºäºspring boot å¿«é€Ÿå¼€å‘å•ä¸ªå¾®æœåŠ¡ï¼›</p><p>Spring Cloudæ˜¯ä¸€ä¸ªåŸºäºSpringBootå®ç°çš„å¾®æœåŠ¡å¼€å‘æ–¹æ¡ˆï¼›</p><p>Spring bootå¯ä»¥ç¦»å¼€Spring Cloudç‹¬ç«‹ä½¿ç”¨å¼€å‘é¡¹ç›®ï¼Œä½†æ˜¯Spring Cloudç¦»ä¸å¼€Springbootï¼Œå±äºä¾èµ–çš„å…³ç³»ã€‚</p><h4 id="2-3-Spring-Cloud-Alibabaæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#2-3-Spring-Cloud-Alibabaæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="2.3 Spring Cloud Alibabaæ˜¯ä»€ä¹ˆï¼Ÿ"></a>2.3 Spring Cloud Alibabaæ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>Spring Cloud Alibaba è‡´åŠ›äºæä¾›å¾®æœåŠ¡å¼€å‘çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆã€‚æ­¤é¡¹ç›®åŒ…å«å¼€å‘åˆ†å¸ƒå¼åº”ç”¨æœåŠ¡çš„å¿…éœ€ç»„ä»¶ï¼Œæ–¹ä¾¿å¼€å‘è€…é€šè¿‡ Spring Cloud ç¼–ç¨‹æ¨¡å‹è½»æ¾ä½¿ç”¨è¿™äº›ç»„ä»¶æ¥å¼€å‘åˆ†å¸ƒå¼åº”ç”¨æœåŠ¡ã€‚</p><p>ä¾æ‰˜ Spring Cloud Alibabaï¼Œå¼€å‘è€…åªéœ€è¦æ·»åŠ ä¸€äº›æ³¨è§£å’Œå°‘é‡é…ç½®ï¼Œå°±å¯ä»¥å°† Spring Cloud åº”ç”¨æ¥å…¥é˜¿é‡Œåˆ†å¸ƒå¼åº”ç”¨è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡é˜¿é‡Œä¸­é—´ä»¶æ¥è¿…é€Ÿæ­å»ºåˆ†å¸ƒå¼åº”ç”¨ç³»ç»Ÿã€‚</p><h4 id="2-4-Spring-Bootå’ŒSpring-Cloudçš„ç‰ˆæœ¬å…³ç³»è¯´æ˜"><a href="#2-4-Spring-Bootå’ŒSpring-Cloudçš„ç‰ˆæœ¬å…³ç³»è¯´æ˜" class="headerlink" title="2.4 Spring Bootå’ŒSpring Cloudçš„ç‰ˆæœ¬å…³ç³»è¯´æ˜"></a>2.4 Spring Bootå’ŒSpring Cloudçš„ç‰ˆæœ¬å…³ç³»è¯´æ˜</h4><blockquote><p><a href="https://github.com/alibaba/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E">Spring Cloud Alibaba ç‰ˆæœ¬é€‚é…ä¾èµ–å…³ç³»</a></p></blockquote><p>é€‚é… Spring Boot ä¸º 2.4, Spring Cloud Hoxton ç‰ˆæœ¬åŠä»¥ä¸‹çš„ Spring Cloud Alibaba ç‰ˆæœ¬å¦‚ä¸‹è¡¨ï¼ˆæœ€æ–°ç‰ˆæœ¬ç”¨*æ ‡è®°ï¼‰ï¼š</p><table><thead><tr><th>Spring Cloud Alibaba Version</th><th>Spring Cloud Version</th><th>Spring Boot Version</th></tr></thead><tbody><tr><td>2.2.9.RELEASE*</td><td>Spring Cloud Hoxton.SR12</td><td>2.3.12.RELEASE</td></tr><tr><td>2.2.8.RELEASE</td><td>Spring Cloud Hoxton.SR12</td><td>2.3.12.RELEASE</td></tr><tr><td>2.2.7.RELEASE</td><td>Spring Cloud Hoxton.SR12</td><td>2.3.12.RELEASE</td></tr><tr><td>2.2.6.RELEASE</td><td>Spring Cloud Hoxton.SR9</td><td>2.3.2.RELEASE</td></tr><tr><td>2.1.4.RELEASE</td><td>Spring Cloud Greenwich.SR6</td><td>2.1.13.RELEASE</td></tr><tr><td>2.2.1.RELEASE</td><td>Spring Cloud Hoxton.SR3</td><td>2.2.5.RELEASE</td></tr><tr><td>2.2.0.RELEASE</td><td>Spring Cloud Hoxton.RELEASE</td><td>2.2.X.RELEASE</td></tr><tr><td>2.1.2.RELEASE</td><td>Spring Cloud Greenwich</td><td>2.1.X.RELEASE</td></tr><tr><td>2.0.4.RELEASE(åœæ­¢ç»´æŠ¤ï¼Œå»ºè®®å‡çº§)</td><td>Spring Cloud Finchley</td><td>2.0.X.RELEASE</td></tr><tr><td>1.5.1.RELEASE(åœæ­¢ç»´æŠ¤ï¼Œå»ºè®®å‡çº§)</td><td>Spring Cloud Edgware</td><td>1.5.X.RELEASE</td></tr></tbody></table><p>Spring Cloud Alibaba ç‰ˆæœ¬åŠå…¶è‡ªèº«æ‰€é€‚é…çš„å„ç»„ä»¶å¯¹åº”ç‰ˆæœ¬å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th>Spring Cloud Alibaba Version</th><th>Sentinel Version</th><th>Nacos Version</th><th>RocketMQ Version</th><th>Dubbo Version</th><th>Seata Version</th></tr></thead><tbody><tr><td>2.2.9.RELEASE</td><td>1.8.5</td><td>2.1.0</td><td>4.9.4</td><td>~</td><td>1.5.2</td></tr><tr><td>2021.0.4.0</td><td>1.8.5</td><td>2.0.4</td><td>4.9.4</td><td>~</td><td>1.5.2</td></tr><tr><td>2.2.8.RELEASE</td><td>1.8.4</td><td>2.1.0</td><td>4.9.3</td><td>~</td><td>1.5.1</td></tr><tr><td>2021.0.1.0</td><td>1.8.3</td><td>1.4.2</td><td>4.9.2</td><td>~</td><td>1.4.2</td></tr><tr><td>2.2.7.RELEASE</td><td>1.8.1</td><td>2.0.3</td><td>4.6.1</td><td>2.7.13</td><td>1.3.0</td></tr><tr><td>2.2.6.RELEASE</td><td>1.8.1</td><td>1.4.2</td><td>4.4.0</td><td>2.7.8</td><td>1.3.0</td></tr><tr><td>2021.1 or 2.2.5.RELEASE or 2.1.4.RELEASE or 2.0.4.RELEASE</td><td>1.8.0</td><td>1.4.1</td><td>4.4.0</td><td>2.7.8</td><td>1.3.0</td></tr><tr><td>2.2.3.RELEASE or 2.1.3.RELEASE or 2.0.3.RELEASE</td><td>1.8.0</td><td>1.3.3</td><td>4.4.0</td><td>2.7.8</td><td>1.3.0</td></tr><tr><td>2.2.1.RELEASE or 2.1.2.RELEASE or 2.0.2.RELEASE</td><td>1.7.1</td><td>1.2.1</td><td>4.4.0</td><td>2.7.6</td><td>1.2.0</td></tr><tr><td>2.2.0.RELEASE</td><td>1.7.1</td><td>1.1.4</td><td>4.4.0</td><td>2.7.4.1</td><td>1.0.0</td></tr><tr><td>2.1.1.RELEASE or 2.0.1.RELEASE or 1.5.1.RELEASE</td><td>1.7.0</td><td>1.1.4</td><td>4.4.0</td><td>2.7.3</td><td>0.9.0</td></tr><tr><td>2.1.0.RELEASE or 2.0.0.RELEASE or 1.5.0.RELEASE</td><td>1.6.3</td><td>1.1.1</td><td>4.4.0</td><td>2.7.3</td><td>0.7.1</td></tr></tbody></table><h3 id="ä¸‰ã€Spring-Cloud-Alibaba-ç»„ä»¶"><a href="#ä¸‰ã€Spring-Cloud-Alibaba-ç»„ä»¶" class="headerlink" title="ä¸‰ã€Spring Cloud Alibaba ç»„ä»¶"></a>ä¸‰ã€Spring Cloud Alibaba ç»„ä»¶</h3><p><a href="https://github.com/alibaba/Sentinel">Sentinel</a>ï¼šæŠŠæµé‡ä½œä¸ºåˆ‡å…¥ç‚¹ï¼Œä»æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ç­‰å¤šä¸ªç»´åº¦ä¿æŠ¤æœåŠ¡çš„ç¨³å®šæ€§ã€‚</p><p><a href="https://github.com/alibaba/Nacos">Nacos</a>ï¼šä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚</p><p><a href="https://rocketmq.apache.org/">RocketMQ</a>ï¼šä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿï¼ŒåŸºäºé«˜å¯ç”¨åˆ†å¸ƒå¼é›†ç¾¤æŠ€æœ¯ï¼Œæä¾›ä½å»¶æ—¶çš„ã€é«˜å¯é çš„æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…æœåŠ¡ã€‚</p><p><a href="https://github.com/seata/seata">Seata</a>ï¼šé˜¿é‡Œå·´å·´å¼€æºäº§å“ï¼Œä¸€ä¸ªæ˜“äºä½¿ç”¨çš„é«˜æ€§èƒ½å¾®æœåŠ¡åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆã€‚</p><p><a href="https://www.aliyun.com/product/oss">Alibaba Cloud OSS</a>: é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼ˆObject Storage Serviceï¼Œç®€ç§° OSSï¼‰ï¼Œæ˜¯é˜¿é‡Œäº‘æä¾›çš„æµ·é‡ã€å®‰å…¨ã€ä½æˆæœ¬ã€é«˜å¯é çš„äº‘å­˜å‚¨æœåŠ¡ã€‚æ‚¨å¯ä»¥åœ¨ä»»ä½•åº”ç”¨ã€ä»»ä½•æ—¶é—´ã€ä»»ä½•åœ°ç‚¹å­˜å‚¨å’Œè®¿é—®ä»»æ„ç±»å‹çš„æ•°æ®ã€‚</p><p><a href="https://cn.aliyun.com/aliware/schedulerx">Alibaba Cloud SchedulerX</a>: é˜¿é‡Œä¸­é—´ä»¶å›¢é˜Ÿå¼€å‘çš„ä¸€æ¬¾åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦äº§å“ï¼Œæä¾›ç§’çº§ã€ç²¾å‡†ã€é«˜å¯é ã€é«˜å¯ç”¨çš„å®šæ—¶ï¼ˆåŸºäº Cron è¡¨è¾¾å¼ï¼‰ä»»åŠ¡è°ƒåº¦æœåŠ¡ã€‚</p><p><a href="https://www.aliyun.com/product/sms">Alibaba Cloud SMS</a>: è¦†ç›–å…¨çƒçš„çŸ­ä¿¡æœåŠ¡ï¼Œå‹å¥½ã€é«˜æ•ˆã€æ™ºèƒ½çš„äº’è”åŒ–é€šè®¯èƒ½åŠ›ï¼Œå¸®åŠ©ä¼ä¸šè¿…é€Ÿæ­å»ºå®¢æˆ·è§¦è¾¾é€šé“ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://github.com/alibaba/spring-cloud-alibaba/blob/2021.x/README-zh.md">[1]Spring Cloud Alibaba-GitHub</a></p><p><a href="https://spring-cloud-alibaba-group.github.io/github-pages/hoxton/zh-cn/index.html#_%E4%BB%8B%E7%BB%8D">[2]Spring Cloud Alibaba å‚è€ƒæ–‡æ¡£</a></p><div>    <script src="//cdn.jsdelivr.net/npm/@waline/client"></script><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>å¾®æœåŠ¡</category>
      
      <category>Spring Cloud</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å¾®æœåŠ¡</tag>
      
      <tag>Spring Cloud Alibaba</tag>
      
      <tag>Spring Cloud</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Echartsåˆä½“éªŒ</title>
    <link href="/2022/10/06/Echarts%E5%88%9D%E4%BD%93%E9%AA%8C/"/>
    <url>/2022/10/06/Echarts%E5%88%9D%E4%BD%93%E9%AA%8C/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€Echartså‰è¨€"><a href="#ä¸€ã€Echartså‰è¨€" class="headerlink" title="ä¸€ã€Echartså‰è¨€"></a>ä¸€ã€Echartså‰è¨€</h3><blockquote><p>ECharts æ˜¯ä¸€ä¸ªä½¿ç”¨ JavaScript å®ç°çš„å¼€æºå¯è§†åŒ–åº“ï¼Œæ¶µç›–å„è¡Œä¸šå›¾è¡¨ï¼Œæ»¡è¶³å„ç§éœ€æ±‚ã€‚</p><p>ECharts éµå¾ª Apache-2.0 å¼€æºåè®®ï¼Œå…è´¹å•†ç”¨ã€‚</p><p>EChartsï¼Œå¯ä»¥æµç•…çš„è¿è¡Œåœ¨ PC å’Œç§»åŠ¨è®¾å¤‡ä¸Šï¼Œå…¼å®¹å½“å‰ç»å¤§éƒ¨åˆ†æµè§ˆå™¨ï¼ˆIE9&#x2F;10&#x2F;11ï¼ŒChromeï¼ŒFirefoxï¼ŒSafariç­‰ï¼‰ï¼Œåº•å±‚ä¾èµ–çŸ¢é‡å›¾å½¢åº“ <a href="https://github.com/ecomfe/zrender">ZRender</a>ï¼Œæä¾›ç›´è§‚ï¼Œäº¤äº’ä¸°å¯Œï¼Œå¯é«˜åº¦ä¸ªæ€§åŒ–å®šåˆ¶çš„æ•°æ®å¯è§†åŒ–å›¾è¡¨ã€‚</p></blockquote><h3 id="äºŒã€è·å–Apache-ECharts"><a href="#äºŒã€è·å–Apache-ECharts" class="headerlink" title="äºŒã€è·å–Apache ECharts"></a>äºŒã€è·å–Apache ECharts</h3><blockquote><p>Apache ECharts æ”¯æŒå¤šç§ä¸‹è½½æ–¹å¼ï¼Œæˆ‘ä»¬ä»¥ä» <a href="https://www.jsdelivr.com/package/npm/echarts">jsDelivr</a> CDN ä¸Šè·å–ä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•å¿«é€Ÿå®‰è£…ã€‚</p><p>åœ¨ <a href="https://www.jsdelivr.com/package/npm/echarts">https://www.jsdelivr.com/package/npm/echarts</a> é€‰æ‹© <code>dist/echarts.js</code>ï¼Œç‚¹å‡»å¹¶ä¿å­˜ä¸º <code>echarts.js</code> æ–‡ä»¶ã€‚</p></blockquote><h3 id="ä¸‰ã€å¼•å…¥-Apache-ECharts"><a href="#ä¸‰ã€å¼•å…¥-Apache-ECharts" class="headerlink" title="ä¸‰ã€å¼•å…¥ Apache ECharts"></a>ä¸‰ã€å¼•å…¥ Apache ECharts</h3><blockquote><p>åœ¨<code>static</code>ç›®å½•ä¸‹ä¿å­˜ <code>echarts.js</code> æ–‡ä»¶å¹¶æ–°å»ºä¸€ä¸ª <code>index.html</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼•å…¥åˆšåˆšä¸‹è½½çš„ ECharts æ–‡ä»¶ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;echarts.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="å››ã€ç»˜åˆ¶ä¸€ä¸ªå›¾è¡¨"><a href="#å››ã€ç»˜åˆ¶ä¸€ä¸ªå›¾è¡¨" class="headerlink" title="å››ã€ç»˜åˆ¶ä¸€ä¸ªå›¾è¡¨"></a>å››ã€ç»˜åˆ¶ä¸€ä¸ªå›¾è¡¨</h3><blockquote><p>åœ¨ç»˜å›¾å‰æˆ‘ä»¬éœ€è¦ä¸º ECharts å‡†å¤‡ä¸€ä¸ªå®šä¹‰äº†é«˜å®½çš„ DOM å®¹å™¨ã€‚åœ¨<code>index.html</code> æ–‡ä»¶çš„ <code>&lt;/head&gt;</code> ä¹‹åï¼Œæ·»åŠ ï¼š</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- ä¸º ECharts å‡†å¤‡ä¸€ä¸ªå®šä¹‰äº†å®½é«˜çš„ DOM --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;main&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 600px;height:400px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p>ç„¶åå°±å¯ä»¥é€šè¿‡ <a href="https://echarts.apache.org//api.html#echarts.init">echarts.init</a> æ–¹æ³•åˆå§‹åŒ–ä¸€ä¸ª echarts å®ä¾‹å¹¶é€šè¿‡ <a href="https://echarts.apache.org//api.html#echartsInstance.setOption">setOption</a> æ–¹æ³•ç”Ÿæˆä¸€ä¸ªç®€å•çš„æŸ±çŠ¶å›¾ï¼Œä¸‹é¢æ˜¯å®Œæ•´ä»£ç ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ECharts<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼•å…¥åˆšåˆšä¸‹è½½çš„ ECharts æ–‡ä»¶ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;echarts.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- ä¸º ECharts å‡†å¤‡ä¸€ä¸ªå®šä¹‰äº†å®½é«˜çš„ DOM --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;main&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 600px;height:400px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹</span></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> myChart = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;main&#x27;</span>));</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> option = &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">title</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;ECharts å…¥é—¨ç¤ºä¾‹&#x27;</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">tooltip</span>: &#123;&#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">legend</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">data</span>: [<span class="hljs-string">&#x27;é”€é‡&#x27;</span>]</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">xAxis</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">data</span>: [<span class="hljs-string">&#x27;è¡¬è¡«&#x27;</span>, <span class="hljs-string">&#x27;ç¾Šæ¯›è¡«&#x27;</span>, <span class="hljs-string">&#x27;é›ªçººè¡«&#x27;</span>, <span class="hljs-string">&#x27;è£¤å­&#x27;</span>, <span class="hljs-string">&#x27;é«˜è·Ÿé‹&#x27;</span>, <span class="hljs-string">&#x27;è¢œå­&#x27;</span>]</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">yAxis</span>: &#123;&#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">series</span>: [</span><br><span class="language-javascript">          &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;é”€é‡&#x27;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">data</span>: [<span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">36</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>]</span><br><span class="language-javascript">          &#125;</span><br><span class="language-javascript">        ]</span><br><span class="language-javascript">      &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚</span></span><br><span class="language-javascript">      myChart.<span class="hljs-title function_">setOption</span>(option);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><blockquote><p>vueé¡¹ç›®ä¸­ä½¿ç”¨ç¤ºä¾‹å®Œæ•´ä»£ç </p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- ä¸º ECharts å‡†å¤‡ä¸€ä¸ªå…·å¤‡å¤§å°ï¼ˆå®½é«˜ï¼‰çš„ DOM --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;chart&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height:600px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getEchartData</span>();</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">getEchartData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> myChart = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$echarts</span>.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">chart</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$ajax</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;/report/getMemberReport&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;</span><br><span class="language-javascript">          myChart.<span class="hljs-title function_">setOption</span>(&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">title</span>: &#123;</span><br><span class="language-javascript">              <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;ä¼šå‘˜æ•°é‡&#x27;</span></span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">tooltip</span>: &#123;&#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">legend</span>: &#123;</span><br><span class="language-javascript">              <span class="hljs-attr">data</span>: [<span class="hljs-string">&#x27;ä¼šå‘˜æ•°é‡&#x27;</span>]</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">xAxis</span>: &#123;</span><br><span class="language-javascript">              <span class="hljs-attr">data</span>: res.<span class="hljs-property">data</span>.<span class="hljs-property">monthList</span> <span class="hljs-comment">//åŠ¨æ€æ•°æ®</span></span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">yAxis</span>: &#123;</span><br><span class="language-javascript">              <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;value&#x27;</span></span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">series</span>: [&#123;</span><br><span class="language-javascript">              <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;ä¼šå‘˜æ•°é‡&#x27;</span>,</span><br><span class="language-javascript">              <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;line&#x27;</span>,</span><br><span class="language-javascript">              <span class="hljs-attr">data</span>: res.<span class="hljs-property">data</span>.<span class="hljs-property">memberCount</span></span><br><span class="language-javascript">            &#125;]</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><script src="//cdn.jsdelivr.net/npm/@waline/client"></script><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>Echartsç¤ºä¾‹<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>Echarts-Github<a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue</tag>
      
      <tag>Echarts</tag>
      
      <tag>å‰ç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>logback.xml</title>
    <link href="/2022/09/28/logback%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/"/>
    <url>/2022/09/28/logback%E8%AE%BE%E7%BD%AE%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h3 id="Logback"><a href="#Logback" class="headerlink" title="Logback"></a>Logback</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å®šä¹‰æ—¥å¿—æ–‡ä»¶çš„å­˜å‚¨åœ°å€ å‹¿åœ¨ LogBack çš„é…ç½®ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;LOG_HOME&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;catalina.base:-.&#125;/logs/&quot;</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!-- æ§åˆ¶å°è¾“å‡º --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Stdout&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- æ—¥å¿—è¾“å‡ºç¼–ç  --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">layout</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.classic.PatternLayout&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--æ ¼å¼åŒ–è¾“å‡ºï¼š%dè¡¨ç¤ºæ—¥æœŸï¼Œ%threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ%-5levelï¼šçº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦%msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ%næ˜¯æ¢è¡Œç¬¦--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">layout</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- æŒ‰ç…§æ¯å¤©ç”Ÿæˆæ—¥å¿—æ–‡ä»¶ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;RollingFile&quot;</span>  <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--æ—¥å¿—æ–‡ä»¶è¾“å‡ºçš„æ–‡ä»¶å--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">FileNamePattern</span>&gt;</span>$&#123;LOG_HOME&#125;/server.%d&#123;yyyy-MM-dd&#125;.log<span class="hljs-tag">&lt;/<span class="hljs-name">FileNamePattern</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">MaxHistory</span>&gt;</span>30<span class="hljs-tag">&lt;/<span class="hljs-name">MaxHistory</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">layout</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.classic.PatternLayout&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--æ ¼å¼åŒ–è¾“å‡ºï¼š%dè¡¨ç¤ºæ—¥æœŸï¼Œ%threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ%-5levelï¼šçº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦%msgï¼šæ—¥å¿—æ¶ˆæ¯ï¼Œ%næ˜¯æ¢è¡Œç¬¦--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg%n<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">layout</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--æ—¥å¿—æ–‡ä»¶æœ€å¤§çš„å¤§å°--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">triggeringPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">MaxFileSize</span>&gt;</span>10MB<span class="hljs-tag">&lt;/<span class="hljs-name">MaxFileSize</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">triggeringPolicy</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--myibatis log configure--&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- æ—¥å¿—è¾“å‡ºçº§åˆ« --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;DEBUG&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;Stdout&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;RollingFile&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span><br><br><br><br>    <span class="hljs-comment">&lt;!--æ—¥å¿—å¼‚æ­¥åˆ°æ•°æ®åº“ --&gt;</span><br>    <span class="hljs-comment">&lt;!--     &lt;appender name=&quot;DB&quot; class=&quot;ch.qos.logback.classic.db.DBAppender&quot;&gt;</span><br><span class="hljs-comment">            æ—¥å¿—å¼‚æ­¥åˆ°æ•°æ®åº“</span><br><span class="hljs-comment">            &lt;connectionSource class=&quot;ch.qos.logback.core.db.DriverManagerConnectionSource&quot;&gt;</span><br><span class="hljs-comment">               è¿æ¥æ± </span><br><span class="hljs-comment">               &lt;dataSource class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;</span><br><span class="hljs-comment">                  &lt;driverClass&gt;com.mysql.jdbc.Driver&lt;/driverClass&gt;</span><br><span class="hljs-comment">                  &lt;url&gt;jdbc:mysql://127.0.0.1:3306/databaseName&lt;/url&gt;</span><br><span class="hljs-comment">                  &lt;user&gt;root&lt;/user&gt;</span><br><span class="hljs-comment">                  &lt;password&gt;root&lt;/password&gt;</span><br><span class="hljs-comment">                &lt;/dataSource&gt;</span><br><span class="hljs-comment">            &lt;/connectionSource&gt;</span><br><span class="hljs-comment">      &lt;/appender&gt; --&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="Logbackæ—¥å¿—è‰²å½©ç¼–ç "><a href="#Logbackæ—¥å¿—è‰²å½©ç¼–ç " class="headerlink" title="Logbackæ—¥å¿—è‰²å½©ç¼–ç "></a>Logbackæ—¥å¿—è‰²å½©ç¼–ç </h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml">Demo<br><span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%red(%d&#123;yyyy-MM-dd HH:mm:ss&#125;) %green([%thread]) %highlight(%-5level) %boldMagenta(%logger) - %cyan(%msg%n)<br><span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="æ”¯æŒçš„å½©è‰²ç¼–ç "><a href="#æ”¯æŒçš„å½©è‰²ç¼–ç " class="headerlink" title="æ”¯æŒçš„å½©è‰²ç¼–ç "></a>æ”¯æŒçš„å½©è‰²ç¼–ç </h4><ul><li><div color=black>%black é»‘è‰²</div></li><li><div color=red>%red çº¢è‰²</div></li><li><div color=green>%green ç»¿è‰²</div></li><li><p>%yellow é»„è‰²</p></li><li><div color=blue>%blue è“è‰²</div></li><li><div color=magenta>%magenta æ´‹çº¢è‰²</div></li><li><div color=cyan>%cyan é’è‰²</div></li><li><p>%white ç™½è‰²</p></li><li><div color=gray>%gray ç°è‰²</div></li></ul><h4 id="ä»¥ä¸‹ä¸ºå¯¹åº”åŠ ç²—çš„é¢œè‰²ä»£ç "><a href="#ä»¥ä¸‹ä¸ºå¯¹åº”åŠ ç²—çš„é¢œè‰²ä»£ç " class="headerlink" title="ä»¥ä¸‹ä¸ºå¯¹åº”åŠ ç²—çš„é¢œè‰²ä»£ç "></a>ä»¥ä¸‹ä¸ºå¯¹åº”åŠ ç²—çš„é¢œè‰²ä»£ç </h4><ul><li>%boldRed</li><li>%boldGreen</li><li>%boldYellow</li><li>%boldBlue</li><li>%boldMagenta</li><li>%boldCyan</li><li>%boldWhite</li><li>%highlight é«˜äº®è‰²</li></ul><div>    <script src="//cdn.jsdelivr.net/npm/@waline/client"></script><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>Utils</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Spring</tag>
      
      <tag>Utils</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>é©¬äº‘ï¼šæœªæ¥å·²æ¥</title>
    <link href="/2022/09/27/%E9%A9%AC%E4%BA%91%EF%BC%9A%E6%9C%AA%E6%9D%A5%E5%B7%B2%E6%9D%A5-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/09/27/%E9%A9%AC%E4%BA%91%EF%BC%9A%E6%9C%AA%E6%9D%A5%E5%B7%B2%E6%9D%A5-%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="é©¬äº‘ï¼šæœªæ¥å·²æ¥"><a href="#é©¬äº‘ï¼šæœªæ¥å·²æ¥" class="headerlink" title="é©¬äº‘ï¼šæœªæ¥å·²æ¥"></a>é©¬äº‘ï¼šæœªæ¥å·²æ¥</h1><p>è¿™æœ¬ä¹¦æ˜¯é©¬äº‘ 20 å¹´åˆ›ä¸šç»éªŒçš„æ€»ç»“å’Œæ€è€ƒï¼Œå¾ˆå—ç›Šã€‚ä¸€èµ·æ¥çœ‹çœ‹æˆåŠŸçš„ä¼ä¸šå®¶æ˜¯æ€ä¹ˆçœ‹é—®é¢˜çš„å§ã€‚</p><h2 id="æ–‡æ®µæ‘˜å½•"><a href="#æ–‡æ®µæ‘˜å½•" class="headerlink" title="æ–‡æ®µæ‘˜å½•"></a>æ–‡æ®µæ‘˜å½•</h2><h3 id="æœªæ¥çš„ä¸‰åå¹´"><a href="#æœªæ¥çš„ä¸‰åå¹´" class="headerlink" title="æœªæ¥çš„ä¸‰åå¹´"></a>æœªæ¥çš„ä¸‰åå¹´</h3><p>çœŸæ­£å†²å‡»ä¼ ç»Ÿè¡Œä¸šã€å†²å‡»å°±ä¸šçš„æ˜¯<strong>æˆ‘ä»¬æ˜¨å¤©çš„æ€æƒ³ï¼Œæ˜¯æˆ‘ä»¬å¯¹æœªæ¥çš„æ— çŸ¥ï¼Œå¯¹æœªæ¥çš„ææƒ§</strong>ã€‚æ‰€ä»¥ï¼Œæˆ‘å¹¶ä¸è§‰å¾—ä»Šå¤©æˆ‘ä»¬æ¯ä¸ªäººè¦æ‹…å¿ƒä»€ä¹ˆï¼Œæˆ‘çœŸæ­£æ‹…å¿ƒçš„æ˜¯æˆ‘ä»¬å¯¹æ˜¨å¤©çš„ä¾èµ–ã€‚ä¸–ç•Œçš„å˜åŒ–è¿œè¿œè¶…è¿‡å¤§å®¶çš„æƒ³è±¡ï¼Œæœªæ¥ 30 å¹´æ˜¯äººç±»ç¤¾ä¼šå¤©ç¿»åœ°è¦†çš„ 30 å¹´ã€‚</p><p>ä¸æ˜¯ç°ä»£çš„æŠ€æœ¯å†²å‡»äº†ä½ ï¼Œè€Œæ˜¯ä¼ ç»Ÿæ€æƒ³ã€ä¿å®ˆæ€æƒ³ã€æ˜¨å¤©çš„è§‚å¿µå†²å‡»äº†ä½ ï¼›ä¸æ˜¯ç”µå­å•†åŠ¡å†²å‡»äº†ä¼ ç»Ÿå•†ä¸šï¼Œè€Œæ˜¯ä½ ä¸æŠŠæ¡æœªæ¥çš„æ€æƒ³å†²å‡»äº†ä½ çš„å•†ä¸šã€‚</p><p>ä»Šå¤©ï¼ŒåŸºäºå¤§æ•°æ®ã€äº‘è®¡ç®—çš„æ–°çš„ç”µå­å•†åŠ¡å‘å±•èµ·æ¥äº†ï¼Œçº¯ç”µå•†æ—¶ä»£å¾ˆå¿«å°±ä¼šç»“æŸã€‚æœªæ¥ 10 å¹´ã€20 å¹´ï¼Œå°†æ²¡æœ‰ç”µå­å•†åŠ¡è¿™ä¸€è¯´æ³•ï¼Œåªæœ‰â€œ<strong>æ–°é›¶å”®</strong>â€è¿™ä¸€è¯´æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´<strong>çº¿ä¸Šçº¿ä¸‹å’Œç‰©æµå¿…é¡»ç»“åˆåœ¨ä¸€èµ·</strong>ï¼Œè¯ç”Ÿä¸€ç§æ–°çš„é›¶å”®æ¨¡å¼ã€‚çº¿ä¸‹çš„ä¼ä¸šå¿…é¡»èµ°åˆ°çº¿ä¸Šå»ï¼Œçº¿ä¸Šçš„ä¼ä¸šå¿…é¡»èµ°åˆ°çº¿ä¸‹æ¥ï¼Œçº¿ä¸Šçº¿ä¸‹ä¸ç°ä»£ç‰©æµç»“åˆåœ¨ä¸€èµ·ã€‚ç‰©æµå…¬å¸çš„æœ¬è´¨ä¸å†æ˜¯è°æ¯”è°åšå¾—æ›´å¿«ï¼Œè€Œæ˜¯è®©ç‰©æµç®¡ç†å¾—æ›´å¥½ï¼Œè®©ä¼ä¸šåº“å­˜é™åˆ°é›¶ã€‚è¿™æ‰æ˜¯ç‰©æµçš„æœ¬è´¨ã€‚</p><p><strong>æ–°é›¶å”®ã€æ–°åˆ¶é€ ã€æ–°é‡‘èã€æ–°æŠ€æœ¯ã€æ–°èƒ½æº</strong>ï¼Œè¿™â€œäº”ä¸ªæ–°â€ï¼Œå°†ä¼šå†²å‡»å¾ˆå¤šè¡Œä¸šï¼Œç”šè‡³äº§ç”Ÿå·¨å¤§çš„æ‘§æ¯æ€§çš„å½±å“ã€‚</p><p>ç›®å‰æˆ‘ä»¬çš„å¤§å­¦åªä¼ æˆçŸ¥è¯†ï¼Œæˆ‘è®¤ä¸ºâ€œæ•™ã€è‚²ã€å­¦ã€ä¹ â€æ˜¯ä¸ä¸€æ ·çš„æ¦‚å¿µï¼Œæ•™æ˜¯ä¼ æˆçŸ¥è¯†ï¼Œè‚²æ˜¯ä¼ æˆæ–‡åŒ–ï¼Œå­¦çš„æ˜¯çŸ¥è¯†ï¼Œä¹ çš„æ˜¯æ™ºæ…§ã€‚</p><h3 id="é•¿åŸã€è´¸æ˜“å’Œæˆ˜äº‰"><a href="#é•¿åŸã€è´¸æ˜“å’Œæˆ˜äº‰" class="headerlink" title="é•¿åŸã€è´¸æ˜“å’Œæˆ˜äº‰"></a>é•¿åŸã€è´¸æ˜“å’Œæˆ˜äº‰</h3><p>åœ¨é˜¿é‡Œå·´å·´ï¼Œæœ‰ä¸€å¥è¯ï¼š</p><blockquote><p>If not me, then who? If not now, then whenï¼Ÿ</p></blockquote><p>æ„æ€æ˜¯ï¼šå¦‚æœä¸æ˜¯æˆ‘ï¼Œé‚£æ˜¯è°ï¼Ÿå¦‚æœä¸æ˜¯ç°åœ¨ï¼Œé‚£æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ</p><h3 id="DT-æ—¶ä»£è¦è®©åˆ«äººæ›´åŠ å¼ºå¤§"><a href="#DT-æ—¶ä»£è¦è®©åˆ«äººæ›´åŠ å¼ºå¤§" class="headerlink" title="DT æ—¶ä»£è¦è®©åˆ«äººæ›´åŠ å¼ºå¤§"></a>DT æ—¶ä»£è¦è®©åˆ«äººæ›´åŠ å¼ºå¤§</h3><blockquote><p>DTï¼ˆData technologyï¼‰æ—¶ä»£ï¼Œå®ƒæ˜¯<code>ä»¥æœåŠ¡å¤§ä¼—ã€æ¿€å‘ç”Ÿäº§åŠ›ä¸ºä¸»çš„æŠ€æœ¯ã€‚</code> DTæ˜¯æ•°æ®å¤„ç†æŠ€æœ¯ï¼ˆData Technologyï¼‰çš„è‹±æ–‡ç¼©å†™ã€‚</p></blockquote><p>æˆ‘è§‰å¾—ï¼Œä»»ä½•äº‹æƒ…éƒ½è¦<strong>è¯•ç€ç«™åœ¨æœªæ¥çš„è§’åº¦</strong>æ¥çœ‹ï¼Œè€Œä¸æ˜¯ä»…ä»…ä»¥ä½ ä»Šå¤©å…·å¤‡çš„èƒ½åŠ›å»çœ‹ã€‚è¿™ä¸ªä¸–ç•Œæ­£åœ¨å‘ç”Ÿå¾ˆå¤§çš„å˜åŒ–ï¼Œæˆ‘ç›¸ä¿¡ï¼Œæœªæ¥ 30 å¹´æ˜¯äººç±»ç¤¾ä¼šæœ€ç²¾å½©çš„ 30 å¹´ï¼Œæ˜¯ä»¤äººæœŸå¾…çš„ 30 å¹´ï¼Œä¹Ÿæ˜¯ä»¤äººææƒ§çš„ 30 å¹´ï¼</p><p>ä¸ç®¡ä½ è‡ªå·±æœ‰å¤šå¼ºå¤§ï¼Œéƒ½è¦æ—¶åˆ»æ€è€ƒæ€æ ·è®©ä½ çš„å‘˜å·¥æ›´å¼ºå¤§ï¼Œè®©ä½ çš„å®¢æˆ·æ›´å¼ºå¤§ï¼Œè®©ä½ çš„åˆä½œä¼™ä¼´æ›´å¼ºå¤§ï¼Œè¿™æ ·æ•´åˆèµ·æ¥çš„ç³»ç»Ÿæ‰èƒ½æ‹¥æœ‰æ›´å¼ºçš„ç«äº‰åŠ›ã€‚</p><h3 id="DT-æ—¶ä»£æ˜¯çœŸæ­£çš„æ™ºæ…§æ—¶ä»£"><a href="#DT-æ—¶ä»£æ˜¯çœŸæ­£çš„æ™ºæ…§æ—¶ä»£" class="headerlink" title="DT æ—¶ä»£æ˜¯çœŸæ­£çš„æ™ºæ…§æ—¶ä»£"></a>DT æ—¶ä»£æ˜¯çœŸæ­£çš„æ™ºæ…§æ—¶ä»£</h3><p>å¾ˆå¤šä¸œè¥¿æˆ‘ä»¬å¯èƒ½éƒ½ä¸æ‡‚ï¼Œä½†æˆ‘ä»¬å°Šé‡â€œä¸æ‡‚â€ã€‚å¾ˆå¤šäº‹æƒ…ï¼Œæ­£å› ä¸ºæˆ‘ä»¬ä¸æ‡‚ï¼Œæ‰è®©æˆ‘ä»¬å¥½å¥‡ï¼Œæ‰è®©æˆ‘ä»¬æ¢ç´¢ã€‚</p><p>æˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°å¤§å®¶è¯´å¾—æœ€å¤šçš„è¯å°±æ˜¯ï¼ŒBAT æŠŠä¸­å›½æ‰€æœ‰çš„åˆ›æ–°ã€åˆ›æ„ã€åˆ›ä¸šçš„æœºä¼šæ‹¿èµ°äº†ã€‚è¿™è®©æˆ‘æƒ³èµ· 20 å¹´ä»¥å‰ï¼Œæˆ‘æ€ªæ¯”å°”Â·ç›–èŒ¨ï¼Œæˆ‘æ€ª IBMï¼Œæˆ‘è®¤ä¸ºè¿™äº›å…¬å¸æŠŠæˆ‘ä»¬çš„æœºä¼šæ‹¿èµ°äº†ã€‚ä½†äº‹å®ä¸Šï¼Œè¿™ 20 å¹´æ¥ï¼Œè¿˜æ˜¯æœ‰æ— æ•°çš„åˆ›ä¸šè€…æŠŠæ¡ä½äº†æœºä¼šã€‚</p><p>åªæœ‰æˆ‘ä»¬æ¯ä¸ªäººç›¸ä¿¡è‡ªå·±æ‰€è¯´çš„ï¼Œç›¸ä¿¡è‡ªå·±æ‰€è®¤ä¸ºçš„ï¼Œç›¸ä¿¡è‡ªå·±æ‰€åšçš„ï¼Œæˆ‘ä»¬æ‰ä¼šæœ‰æœªæ¥ã€‚æœºä¼šæ— å¤„ä¸åœ¨ã€‚ä»ç°åœ¨å¾€å‰æ¨ 20 å¹´ï¼Œå®é™…ä¸Šæ˜¯äº’è”ç½‘æŠ€æœ¯çªé£çŒ›è¿›å‘å±•çš„ 20 å¹´ï¼Œæœªæ¥çš„ 30 å¹´å°†æ˜¯äº’è”ç½‘æŠ€æœ¯èå…¥å…¨ç¤¾ä¼šæ–¹æ–¹é¢é¢çš„ 30 å¹´ï¼Œè¿™ 30 å¹´æ‰çœŸæ­£è•´å«ç€åˆ›ä¸šçš„å·¨å¤§æœºä¼šã€‚</p><h3 id="å½“æˆ‘ä»¬è°ˆè®º-EWTPï¼Œæˆ‘ä»¬åœ¨è°ˆè®ºå…¨çƒåŒ–"><a href="#å½“æˆ‘ä»¬è°ˆè®º-EWTPï¼Œæˆ‘ä»¬åœ¨è°ˆè®ºå…¨çƒåŒ–" class="headerlink" title="å½“æˆ‘ä»¬è°ˆè®º EWTPï¼Œæˆ‘ä»¬åœ¨è°ˆè®ºå…¨çƒåŒ–"></a>å½“æˆ‘ä»¬è°ˆè®º EWTPï¼Œæˆ‘ä»¬åœ¨è°ˆè®ºå…¨çƒåŒ–</h3><blockquote><p>EWTP: Electronic World Trade Platformï¼Œä¸–ç•Œç”µå­è´¸æ˜“å¹³å°ã€‚</p></blockquote><p>æˆ‘è®¤ä¸ºï¼Œå¯¹ä¸­å°ä¼ä¸šçš„åˆ¶è£æ— å¼‚äºå¯¹å¹³æ°‘çš„è½°ç‚¸ã€‚æˆ‘ä»¬åº”è¯¥è®©è´¸æ˜“å›åˆ°è´¸æ˜“ä¸­ï¼Œè´¸æ˜“æœ¬èº«ä¸åº”è¯¥æ‰¿æ‹…æ›´å¤šçš„æ”¿æ²»å› ç´ ï¼Œåº”è¯¥æ›´å¤šåœ°ç”±ä¼ä¸šã€ç”± NGOï¼ˆéæ”¿åºœç»„ç»‡ï¼‰å»å¹³è¡¡å„æ–¹çš„åˆ©ç›Šï¼Œä»¥æ­¤æ¥å»ºç«‹ä¸€ä¸ªæ–°çš„äº’æƒ äº’åˆ©çš„è´¸æ˜“è§„åˆ™ã€‚</p><h3 id="ä¸€å®¶ä¼Ÿå¤§çš„å…¬å¸ï¼Œå¿…é¡»è§£å†³ç¤¾ä¼šé—®é¢˜"><a href="#ä¸€å®¶ä¼Ÿå¤§çš„å…¬å¸ï¼Œå¿…é¡»è§£å†³ç¤¾ä¼šé—®é¢˜" class="headerlink" title="ä¸€å®¶ä¼Ÿå¤§çš„å…¬å¸ï¼Œå¿…é¡»è§£å†³ç¤¾ä¼šé—®é¢˜"></a>ä¸€å®¶ä¼Ÿå¤§çš„å…¬å¸ï¼Œå¿…é¡»è§£å†³ç¤¾ä¼šé—®é¢˜</h3><p><strong>æœºä¼šåœ¨å“ªé‡Œï¼Ÿæœºä¼šå°±åœ¨æœ‰äººæŠ±æ€¨çš„åœ°æ–¹</strong>ï¼Œæˆ‘è¿™æ ·å‘Šè¯‰è‡ªå·±ï¼Œä¹Ÿå‘Šè¯‰å¹´è½»äººã€‚åœ¨ä¸­å›½ï¼Œå½“äººä»¬æŠ±æ€¨çš„æ—¶å€™ï¼Œæœºä¼šå°±å‡ºç°äº†ã€‚å¤„ç†äººä»¬çš„ä¸æ»¡ï¼Œè§£å†³å­˜åœ¨çš„é—®é¢˜ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬çš„æœºä¼šã€‚å¦‚æœä½ åƒå…¶ä»–äººä¸€æ ·å»æŠ±æ€¨ï¼Œä½ ä¹Ÿå°±æ²¡ä»€ä¹ˆå¸Œæœ›äº†ã€‚æ‰€ä»¥ï¼Œå½“æˆ‘å¬åˆ°åˆ«äººæŠ±æ€¨æ—¶ï¼Œæˆ‘å°±ä¼šè§‰å¾—å¾ˆå…´å¥‹ï¼Œå› ä¸ºæˆ‘çœ‹åˆ°äº†æœºä¼šï¼Œæˆ‘ä¼šæ€è€ƒè‡ªå·±å¯ä»¥ä¸ºä»–ä»¬åšäº›ä»€ä¹ˆã€‚</p><p>æœªæ¥åœ¨ä¸­å›½ï¼Œæœ‰å¾ˆå¤šäººæƒ³è‡´å¯Œã€‚å¸®åŠ©ä»–äººè‡´å¯Œï¼Œç„¶åä½ å¯ä»¥ä»ä¸­åˆ†åˆ°ä¸€æ¯ç¾¹ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§è‡´å¯Œçš„åŠæ³•ã€‚ä¸ºä»€ä¹ˆæ·˜å®ã€é˜¿é‡Œå·´å·´å¢é•¿å¾—é‚£ä¹ˆå¿«ï¼Ÿæˆ‘ä»¬çš„ç†å¿µä¹‹ä¸€æ˜¯ï¼š<strong>æ°¸è¿œä¸è¦å°è¯•æ”¹å˜æˆ–è¯´æœä¸€ä¸ªæˆåŠŸçš„äºº</strong>ï¼Œè¦æ”¹å˜æˆ–è¯´æœé‚£äº›å¸Œæœ›ä»¥æ›´å®¹æ˜“çš„æ–¹å¼æˆåŠŸçš„äººã€‚</p><h3 id="70-åå¸¦é¢†é˜¿é‡Œè¿›å…¥æœªæ¥åå¹´"><a href="#70-åå¸¦é¢†é˜¿é‡Œè¿›å…¥æœªæ¥åå¹´" class="headerlink" title="70 åå¸¦é¢†é˜¿é‡Œè¿›å…¥æœªæ¥åå¹´"></a>70 åå¸¦é¢†é˜¿é‡Œè¿›å…¥æœªæ¥åå¹´</h3><p>æˆ‘ä»¬åšä¿¡ï¼šæœªæ¥ 30 å¹´æ‰æ˜¯äº’è”ç½‘æŠ€æœ¯çœŸæ­£æ·±åˆ»æ”¹å˜ç¤¾ä¼šå„æ–¹é¢çš„æ—¶ä»£ï¼Œäº‘è®¡ç®—ã€å¤§æ•°æ®ã€äººå·¥æ™ºèƒ½ã€æ™ºæ…§åŸå¸‚ã€ç”Ÿç‰©å·¥ç¨‹ç­‰å°†ä¼šè®©æ— æ•°çš„æ¢¦æƒ³æˆçœŸã€‚è¿™æ˜¯æˆ‘ä»¬çš„æ—¶ä»£ï¼Œæ›´æ˜¯å¹´è½»äººçš„æ—¶ä»£ã€‚</p><h3 id="å¸®ç¾å›½çš„ä¸­å°ä¼ä¸šå®ç°â€œä¸­å›½æ¢¦â€"><a href="#å¸®ç¾å›½çš„ä¸­å°ä¼ä¸šå®ç°â€œä¸­å›½æ¢¦â€" class="headerlink" title="å¸®ç¾å›½çš„ä¸­å°ä¼ä¸šå®ç°â€œä¸­å›½æ¢¦â€"></a>å¸®ç¾å›½çš„ä¸­å°ä¼ä¸šå®ç°â€œä¸­å›½æ¢¦â€</h3><p><strong>æ”¹å˜ä¸–ç•Œçš„ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯ä½ ç›¸ä¿¡è‡ªå·±å¯ä»¥æ”¹å˜ä¸–ç•Œçš„æ¢¦æƒ³</strong>ã€‚æˆ‘ä»¬çŸ¥é“è¿™æ¡è·¯æ¼«é•¿ä¸”ä¸æ˜“ã€‚æˆ‘ä»¥å‰è¯´è¿‡ï¼Œè¿‡å» 20 å¹´åœ¨ä¸­å›½åšäº’è”ç½‘ç”Ÿæ„å¾ˆä¸å®¹æ˜“ã€‚ä»Šå¤©å¾ˆå›°éš¾ï¼Œæ˜å¤©æ›´å›°éš¾ï¼Œåå¤©å¾ˆç¾å¥½ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸åŠªåŠ›çš„è¯ï¼Œç»å¤§å¤šæ•°äººä¼šæ­»åœ¨æ˜å¤©æ™šä¸Šã€‚</p><h3 id="1-äº¿ä¸ªå°±ä¸šæœºä¼šï¼Œ1000-ä¸‡å®¶ä¼ä¸šï¼Œ20-äº¿æ¶ˆè´¹è€…"><a href="#1-äº¿ä¸ªå°±ä¸šæœºä¼šï¼Œ1000-ä¸‡å®¶ä¼ä¸šï¼Œ20-äº¿æ¶ˆè´¹è€…" class="headerlink" title="1 äº¿ä¸ªå°±ä¸šæœºä¼šï¼Œ1000 ä¸‡å®¶ä¼ä¸šï¼Œ20 äº¿æ¶ˆè´¹è€…"></a>1 äº¿ä¸ªå°±ä¸šæœºä¼šï¼Œ1000 ä¸‡å®¶ä¼ä¸šï¼Œ20 äº¿æ¶ˆè´¹è€…</h3><p>é˜¿é‡ŒåšæŒåš<strong>å¹³å°</strong>ï¼Œæˆ‘ä»¬çš„ç”µå­å•†åŠ¡æœåŠ¡æ˜¯ä¸€ä¸ªå¹³å°ï¼Œæˆ‘ä»¬è‡ªå·±ä¸ä¹°ï¼Œä¹Ÿä¸å–ï¼Œæˆ‘ä»¬è‡ªå·±æ›´ä¸é€ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰€æœ‰çš„å®¢æˆ·å› ä¸ºæˆ‘ä»¬çš„åŠªåŠ›ï¼Œä¹°ä¸œè¥¿çš„ä»·æ ¼æ›´ä¾¿å®œï¼Œå–ä¸œè¥¿çš„æ•ˆç‡æ›´é«˜ï¼Œé€ä¸œè¥¿çš„é€Ÿåº¦æ›´å¿«ã€‚è¿™æ‰æ˜¯æˆ‘ä»¬å¸Œæœ›åšçš„ç”µå­å•†åŠ¡å¹³å°ã€‚</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨æ•´ä¸ªäº’è”ç½‘é‡‘èä¸­ï¼Œæœ€é‡è¦çš„æ˜¯æ•°æ®ï¼Œæ˜¯ä¿¡ç”¨ä½“ç³»ã€‚æˆ‘ä»¬å¸Œæœ› 10 å¹´ä»¥åçš„ä¸­å°ä¼ä¸šï¼Œå†ä¹Ÿä¸ä¼šå› ä¸ºè´·ä¸åˆ°æ¬¾è€Œé™·äºå›°é¡¿ã€‚æˆ‘ä»¬è¿™å‡ å¹´çš„åŠªåŠ›ï¼Œå°±æ˜¯ä¸ºäº†<strong>å»ºç«‹ä¸€ä¸ªåŸºäºä¿¡ç”¨å’Œå¤§æ•°æ®çš„äº’è”ç½‘é‡‘èä½“ç³»</strong>ï¼Œä¸ºæœªæ¥ä¸­å›½ä¹ƒè‡³å…¨ä¸–ç•Œçš„ä¸­å°ä¼ä¸šæœåŠ¡ã€‚</p><p>ç»å¤§éƒ¨åˆ†åˆ›ä¸šå…¬å¸åˆæœŸçš„å‘˜å·¥éƒ½æ˜¯å¾ˆå·®çš„ã€‚å› ä¸ºæ²¡æœ‰äººç›¸ä¿¡è¿™äº›å…¬å¸ï¼Œé¡¶å°–é«˜æ‰‹ä¸å¯èƒ½åŠ å…¥åˆåˆ›å…¬å¸ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåˆåˆ›å…¬å¸ä¼šæœ‰ä¸€ä¸¤ä¸ªäººæ˜¯ä¼˜ç§€çš„ï¼Œç»å¤§éƒ¨åˆ†éƒ½æ˜¯èµ„è´¨å¹³å¹³ã€‚æ‰€ä»¥ï¼Œä¸è¦ç›¸ä¿¡é‚£äº›ç¥è¯ï¼Œä¼˜ç§€çš„äººæ‰ä¸æ˜¯æ‹›æ¥çš„ï¼Œæ˜¯è‡ªå·±åŸ¹å…»ã€è®­ç»ƒå‡ºæ¥çš„ã€‚ä»»ä½•ä¸€å®¶å…¬å¸çš„ä¼˜ç§€äººæ‰ï¼Œéƒ½æ˜¯è¦èµ·æ—©è´ªé»‘ï¼Œéƒ½æ˜¯è¦æ—©ä¸Šå¤©ä¸äº®å°±å»ä¸Šç­ï¼Œæ·±æ›´åŠå¤œæ‰å›æ¥ï¼Œéƒ½æ˜¯è¦æŒ¤å…¬å…±æ±½è½¦ï¼Œéƒ½æ˜¯è¦æŒ¤åœ°é“çš„ã€‚å¹´è½»äººéƒ½æ˜¯è¿™ä¹ˆç‚¼å‡ºæ¥çš„ã€‚</p><p>æ— è®ºæ˜¯åœ¨æ˜¨å¤©çš„é˜¿é‡Œã€ä»Šå¤©çš„é˜¿é‡Œï¼Œè¿˜æ˜¯åœ¨æœªæ¥çš„é˜¿é‡Œï¼Œæˆ‘ä»¬éƒ½æ˜¯è¦èµ°è¿™æ¡è·¯çš„ã€‚æ¯ä¸ªäººéƒ½å¿…é¡»è¿™ä¹ˆè¾›è‹¦ï¼Œå› ä¸ºæˆ‘ä»¬çš„æœªæ¥æ˜¯è¾›è‹¦æ‰“æ‹¼å‡ºæ¥çš„ï¼Œå› ä¸ºæˆ‘ä»¬ä¸æ˜¯å«ç€é‡‘é’¥åŒ™å‡ºç”Ÿçš„ã€‚æˆ‘ä»¬çš„å‘˜å·¥ï¼Œæ²¡æœ‰äººæœ‰èµ„æ ¼å«ç€é‡‘é’¥åŒ™è€Œæ¥ã€‚å³ä½¿æ˜¯ç”Ÿåœ¨å¯Œè±ªå®¶é‡Œï¼Œä½ ä¹Ÿå¾—è¾›è‹¦æ‰“æ‹¼ï¼Œæ›´ä½•å†µæˆ‘ä»¬å¹¶ä¸æ˜¯ã€‚</p><p>æˆ‘ä»¬å¸Œæœ›è´Ÿè´£é›†å›¢è¿è¥çš„ä¸€çº¿æ€»è£ä»¬éƒ½æ˜¯ 70 å¹´ä»£å‡ºç”Ÿçš„ï¼Œä¸»åŠ›éƒ¨é˜Ÿæ˜¯ 80 å¹´ä»£å’Œ 90 å¹´ä»£å‡ºç”Ÿçš„äººã€‚æˆ‘ä»¬ä¸¥æ ¼è®­ç»ƒä»–ä»¬ï¼Œè®©ä»–ä»¬èµ·æ—©ï¼Œè®©ä»–ä»¬è´ªé»‘ï¼Œè®©ä»–ä»¬å¿«ä¹ï¼Œè®©ä»–ä»¬æˆé•¿ï¼Œè®©ä»–ä»¬æœ‰é’±ä¹°å¾—èµ·æˆ¿å­ã€ä¹°å¾—èµ·è½¦ï¼Œè®©ä»–ä»¬æ°¸è¿œèƒ½å¤Ÿæ‰¾åˆ°æœ€å¥½çš„å¥³æœ‹å‹å’Œç”·æœ‹å‹ï¼Œè¿™æ˜¯æˆ‘ä»¬å¸Œæœ›çš„ã€‚</p><h3 id="æ²¡æœ‰-KPI-è€ƒæ ¸ï¼Œç†æƒ³å°±å˜æˆç©ºæƒ³"><a href="#æ²¡æœ‰-KPI-è€ƒæ ¸ï¼Œç†æƒ³å°±å˜æˆç©ºæƒ³" class="headerlink" title="æ²¡æœ‰ KPI è€ƒæ ¸ï¼Œç†æƒ³å°±å˜æˆç©ºæƒ³"></a>æ²¡æœ‰ KPI è€ƒæ ¸ï¼Œç†æƒ³å°±å˜æˆç©ºæƒ³</h3><p>æƒ³è¦èµ°å¾—å¿«ï¼Œé‚£å°±ä¸€ä¸ªäººèµ°ï¼›æƒ³è¦èµ°å¾—è¿œï¼Œé‚£å°±ä¸€ç¾¤äººä¸€èµ·èµ°ã€‚è¦ä¸€ç¾¤äººä¸€èµ·èµ°ï¼Œå°±ä¸€å®šè¦æœ‰ç»„ç»‡ã€‚</p><h3 id="æœºä¼šå°±åœ¨è¢«æŠ±æ€¨çš„åœ°æ–¹"><a href="#æœºä¼šå°±åœ¨è¢«æŠ±æ€¨çš„åœ°æ–¹" class="headerlink" title="æœºä¼šå°±åœ¨è¢«æŠ±æ€¨çš„åœ°æ–¹"></a>æœºä¼šå°±åœ¨è¢«æŠ±æ€¨çš„åœ°æ–¹</h3><p>å¦‚ä»Šçš„ä¸–ç•Œï¼Œæ— å¤„ä¸å……æ»¡ç€æŠ±æ€¨ã€‚å¾®è½¯ã€IBMã€æ€ç§‘åˆ†æ®å¸‚åœºæ—¶ï¼Œ20 å¤šå²çš„æˆ‘ä¹ŸæŠ±æ€¨è¿‡å®ƒä»¬å·¨å¤§çš„å¸‚åœºå æœ‰ç‡ã€‚ç°åœ¨ï¼Œæˆ‘ä¸å†åŸ‹æ€¨ï¼Œå› ä¸ºæˆ‘ä»¬ä¹Ÿé•¿æˆäº†å·¨äººã€‚æˆ‘è¦è¯´çš„æ˜¯ï¼šå¤§éƒ¨åˆ†äººéƒ½åœ¨æŠ±æ€¨çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯æœºä¼šæ‰€åœ¨çš„åœ°æ–¹ã€‚è¿™æ˜¯æˆ‘ç¬ƒä¿¡çš„ä¸€ç‚¹ã€‚</p><h3 id="ä¼ä¸šå®¶è¦æ€è€ƒåå¹´ä¹‹åçš„äº‹"><a href="#ä¼ä¸šå®¶è¦æ€è€ƒåå¹´ä¹‹åçš„äº‹" class="headerlink" title="ä¼ä¸šå®¶è¦æ€è€ƒåå¹´ä¹‹åçš„äº‹"></a>ä¼ä¸šå®¶è¦æ€è€ƒåå¹´ä¹‹åçš„äº‹</h3><p>åšä¼ä¸šï¼Œæ›´å…³é”®çš„ä¸€ç‚¹æ˜¯ï¼šä¸€å®šè¦æ€è€ƒ 10 å¹´ä»¥åçš„äº‹æƒ…ã€‚ä»Šå¤©å¼€å§‹åšï¼Œæ˜å¤©å°±ä¼šèµ¢çš„äº‹æƒ…å·²ç»ä¸å¤šäº†ã€‚åªæœ‰<strong>ä»å®é™…å‡ºå‘ï¼Œå¯¹æœªæ¥è¿›è¡Œé¢„æµ‹</strong>ï¼Œæˆ‘ä»¬æ‰æœ‰æœºä¼šã€‚</p><p><strong>è¦æœ‰æˆ˜ç•¥ï¼Œæˆ˜ç•¥æ˜¯åŸºäºå¯¹æœªæ¥çš„åˆ¤æ–­ï¼Œæˆ˜ç•¥ä»æ„¿æ™¯æ¥ï¼Œæ„¿æ™¯ä»ä½¿å‘½æ¥</strong>ã€‚æ‰€ä»¥ï¼Œä½¿å‘½ã€æ„¿æ™¯ã€æˆ˜ç•¥ã€ç»„ç»‡ã€æ–‡åŒ–ã€äººæ‰è¿™ä¸€æ•´å¥—ä½“ç³»çš„å»ºè®¾éƒ½è¦å®Œå–„å’Œå¼ºå¤§ï¼Œä½ æ‰æœ‰å¯èƒ½åšå¥½ã€‚</p><p>è¦èµ°å¾—ä¹…ï¼Œè¿˜éœ€è¦æœ‰ç»„ç»‡ã€‚è¦å»ºç«‹å¼ºå¤§çš„ç»„ç»‡ï¼Œå»ºç«‹ä¸€ç§ç»„ç»‡æ–‡åŒ–ï¼Œå› ä¸ºåªæœ‰å¼ºå¤§çš„ç»„ç»‡å’Œæ–‡åŒ–æ‰èƒ½å¸å¼•ä¼˜ç§€çš„äººæ‰ã€‚æ–‡åŒ–å¼ºï¼Œåˆ™ä¼ä¸šå¼ºã€‚</p><h3 id="åˆ›æ–°åº”å½“æˆä¸ºä¼ä¸šå®¶çš„äº‹ä¸š"><a href="#åˆ›æ–°åº”å½“æˆä¸ºä¼ä¸šå®¶çš„äº‹ä¸š" class="headerlink" title="åˆ›æ–°åº”å½“æˆä¸ºä¼ä¸šå®¶çš„äº‹ä¸š"></a>åˆ›æ–°åº”å½“æˆä¸ºä¼ä¸šå®¶çš„äº‹ä¸š</h3><p>ç°åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªçœŸæ­£çš„å•†ä¸šå˜é©çš„æ—¶ä»£ã€‚å•†ä¸šå˜é©ï¼Œæœ‰çš„äººæŠŠå®ƒçœ‹ä½œæœºä¼šï¼Œæœ‰çš„äººæŠŠå®ƒå½“ä½œç¾éš¾ã€‚å…¶å®ï¼Œæœºä¼šåœ¨æ²¡æœ‰å½¢æˆçš„æ—¶å€™ï¼Œæ‰æ˜¯çœŸæ­£çš„æœºä¼šï¼Œä¸€æ—¦æœºä¼šå½¢æˆï¼Œå¾€å¾€å°±æ˜¯ç¾éš¾çš„å¼€å§‹ã€‚</p><h3 id="å¤§æ•°æ®è¦èµ‹äºˆæŠ€æœ¯ä»¥çµé­‚"><a href="#å¤§æ•°æ®è¦èµ‹äºˆæŠ€æœ¯ä»¥çµé­‚" class="headerlink" title="å¤§æ•°æ®è¦èµ‹äºˆæŠ€æœ¯ä»¥çµé­‚"></a>å¤§æ•°æ®è¦èµ‹äºˆæŠ€æœ¯ä»¥çµé­‚</h3><p>è®©æŠ€æœ¯å¯Œæœ‰ç”Ÿå‘½åŠ›ï¼Œè®©æ•°æ®å¸¦æœ‰çµé­‚ï¼Œè®©æ•°æ®ä¸ºç¤¾ä¼šçš„å‘å±•æ³¨å…¥æ­£èƒ½é‡â€”â€”è¿™å°±æ˜¯æˆ‘ä»¬æœ´ç´ ã€ç®€å•çš„åˆè¡·ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬æƒ³ä¹Ÿæ²¡æƒ³ï¼Œä¸€è·¯æŠ•èµ„ï¼Œæœ€åæˆ‘ä»¬æˆåŠŸçªå›´ã€‚<strong>æ­£å› ä¸ºæˆ‘ä¸æ‡‚æŠ€æœ¯ï¼Œæ‰€ä»¥æ‰ç‰¹åˆ«å°Šé‡æŠ€æœ¯ã€æ•¬ç•æŠ€æœ¯</strong>ã€‚</p><p>é˜¿é‡Œå·´å·´ä¸ºä»€ä¹ˆèƒ½æ´»ç€ï¼Ÿå…¶å®ï¼Œé˜¿é‡Œå·´å·´è¿™å®¶å…¬å¸æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„å‡ºå‘ç‚¹ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸€ç›´åœ¨<strong>æ€è€ƒ</strong>ï¼Œ<strong>æ˜¯ä¸ºäº†ä»Šå¤©æ´»ç€ï¼Œè¿˜æ˜¯ä¸ºäº†æœªæ¥æ´»ç€</strong>ï¼Ÿ</p><p>ä»Šå¤©åšæ˜å¤©å°±ä¼šæˆåŠŸçš„äº‹æƒ…ä¸€å®šè½®ä¸åˆ°æˆ‘ä»¬ï¼Œä»Šå¹´åšæ˜å¹´å°±ä¼šå‘è´¢çš„äº‹æƒ…ä¹Ÿè‚¯å®šè½®ä¸åˆ°æˆ‘ä»¬ã€‚<strong>æˆ‘ä»¬åªèƒ½åšä»Šå¹´åšåå¹´ä»¥åå¯èƒ½æˆåŠŸçš„äº‹æƒ…</strong>ã€‚<strong>ä»è¿™ä¸€ç‚¹å‡ºå‘ï¼Œä»Šå¤©å¼€å§‹å‡†å¤‡ï¼Œç„¶ååŠªåŠ›åå¹´</strong>ã€‚åå¹´ä»¥åï¼Œå¦‚æœè¿™ä»¶äº‹æƒ…çœŸçš„å‘ç”Ÿäº†ï¼Œé‚£ä¹ˆä½ çš„æœºä¼šå°±æ¥äº†ã€‚æ‰€ä»¥ï¼Œåˆ†æã€é¢„åˆ¤æœªæ¥æ˜¯é˜¿é‡Œå·´å·´è¿™å®¶å…¬å¸å’Œæˆ‘ä»¬è¿™äº›äººè¦åšçš„äº‹æƒ…ã€‚</p><p>ä¹ æƒ¯äºè¢«å®‰æ’å¥½äººç”Ÿçš„äººï¼Œä¸å¯èƒ½ä¼šæˆåŠŸã€‚</p><p>ç¾å›½çš„å•†ä¸šç¯å¢ƒéå¸¸å¥½ï¼Œæ²ƒå°”ç›çš„è¶…å¸‚å‡ ä¹éå¸ƒä¸‰ã€å››çº¿åŸå¸‚ï¼Œæ‰€ä»¥ç”µå­å•†åŠ¡å¾ˆéš¾æ’è¿›å»ï¼Œåªæ˜¯é›¶å”®ä¸šçš„è¡¥å……ã€‚ä¸­å›½çš„è¶…å¸‚ã€å•†åœºä¸å¤ªå¥½ï¼Œæ‰€ä»¥ç»™ç”µå­å•†åŠ¡å¸¦æ¥äº†å‘å±•ç©ºé—´ã€‚<strong>æœ‰æ—¶å€™ï¼Œæ˜¨å¤©çš„é•¿å°±æ˜¯ä»Šå¤©çš„çŸ­</strong>ã€‚ä»Šå¤©ï¼Œå¤§å®¶ç»ˆäºç«™åœ¨åŒä¸€èµ·è·‘çº¿ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬å¸Œæœ›åœ¨å¤§æ•°æ®æ—¶ä»£èƒ½å¤Ÿè¶…è¶Šç¾å›½ã€‚</p><h3 id="æ˜å¤©å¼€å§‹ï¼Œç”Ÿæ´»å°†æ˜¯æˆ‘çš„å·¥ä½œ"><a href="#æ˜å¤©å¼€å§‹ï¼Œç”Ÿæ´»å°†æ˜¯æˆ‘çš„å·¥ä½œ" class="headerlink" title="æ˜å¤©å¼€å§‹ï¼Œç”Ÿæ´»å°†æ˜¯æˆ‘çš„å·¥ä½œ"></a>æ˜å¤©å¼€å§‹ï¼Œç”Ÿæ´»å°†æ˜¯æˆ‘çš„å·¥ä½œ</h3><p>å½“æ‰€æœ‰äººä¸ç›¸ä¿¡è¿™ä¸ªä¸–ç•Œã€æ‰€æœ‰äººä¸ç›¸ä¿¡æœªæ¥ã€æ‰€æœ‰äººä¸ç›¸ä¿¡åˆ«äººçš„æ—¶å€™ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ç›¸ä¿¡ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ç›¸ä¿¡ 10 å¹´ä»¥åçš„ä¸­å›½ä¼šæ›´å¥½ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ç›¸ä¿¡æˆ‘ä»¬çš„åŒäº‹ä¼šæ¯”æˆ‘ä»¬åšå¾—æ›´å¥½ï¼Œä¸­å›½çš„å¹´è½»äººä¼šæ¯”æˆ‘ä»¬åšå¾—æ›´å¥½ã€‚</p><p>ä»Šå¤©ï¼Œè¿˜æœ‰ä¸å°‘å¹´è½»äººè§‰å¾—ï¼Œåƒè°·æ­Œã€ç™¾åº¦ã€è…¾è®¯ã€é˜¿é‡Œè¿™æ ·çš„å…¬å¸å æ®äº†æ‰€æœ‰çš„æœºä¼šã€‚10 å¹´ä»¥å‰ï¼Œå½“æˆ‘ä»¬çœ‹åˆ°è®¸å¤šä¼Ÿå¤§çš„å…¬å¸æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæ›¾ç»ä¸ºæ­¤è¿·æƒ˜ï¼Œé—®è‡ªå·±æ˜¯å¦è¿˜æœ‰æœºä¼šã€‚10 å¹´çš„åšæŒã€æ‰§ç€ï¼Œè®©æˆ‘ä»¬èµ°åˆ°äº†ä»Šå¤©ã€‚å‡å¦‚è¿™ä¸æ˜¯ä¸€ä¸ªå˜åŒ–çš„æ—¶ä»£ï¼Œå¹´è½»äººå°±æ²¡æœ‰æœºä¼šã€‚</p><p>å¾ˆå¤šäººè®¨åŒå˜åŒ–ï¼Œä½†æ˜¯æ­£å› ä¸ºæˆ‘ä»¬æŠŠæ¡ä½äº†å˜åŒ–ï¼Œæˆ‘ä»¬æ‰çœ‹åˆ°äº†æœªæ¥ã€‚æœªæ¥ 30 å¹´ï¼Œè¿™ä¸ªä¸–ç•Œã€è¿™ä¸ªä¸­å›½ï¼Œå°†ä¼šæœ‰æ›´å¤šçš„å˜åŒ–ï¼Œè¿™ç§å˜åŒ–å¯¹æ¯ä¸ªäººæ¥è¯´éƒ½æ˜¯ä¸€ä¸ªæœºä¼šã€‚æˆ‘ä»¬æ²¡æœ‰åŠæ³•æ”¹å˜æ˜¨å¤©ï¼Œä½†æ˜¯ 30 å¹´åçš„ä»Šå¤©ï¼Œæ˜¯æˆ‘ä»¬ä»Šå¤©è¿™å¸®äººå†³å®šçš„ã€‚æ”¹å˜è‡ªå·±ï¼Œä»ç‚¹æ»´åšèµ·ï¼ŒåšæŒ 10 å¹´ï¼</p><p>è°ä¹Ÿæ²¡æŠŠæ¡è®©ä½ çº¢äº”å¹´ï¼Œè°ä¹Ÿä¸èƒ½æ–­è¨€ä½ ä¸ä¼šè´¥ã€ä½ ä¸ä¼šè€ã€ä½ ä¸ä¼šç³Šæ¶‚ã€‚æƒ³è¦ä¸è´¥ã€ä¸è€ã€ä¸ç³Šæ¶‚çš„å”¯ä¸€åŠæ³•å°±æ˜¯ç›¸ä¿¡å¹´è½»äººï¼Œç›¸ä¿¡ä»–ä»¬ï¼Œå°±æ˜¯ç›¸ä¿¡æœªæ¥ã€‚</p><h3 id="å°‘ä¸€äº›æŠ±æ€¨ï¼Œå¤šä¸€äº›åšæŒ"><a href="#å°‘ä¸€äº›æŠ±æ€¨ï¼Œå¤šä¸€äº›åšæŒ" class="headerlink" title="å°‘ä¸€äº›æŠ±æ€¨ï¼Œå¤šä¸€äº›åšæŒ"></a>å°‘ä¸€äº›æŠ±æ€¨ï¼Œå¤šä¸€äº›åšæŒ</h3><p>æˆ‘æƒ³è·Ÿå¤§å®¶åˆ†äº«çš„æ˜¯ï¼Œå¦‚æœä½ å»åˆ›ä¸šï¼Œå°±è¦<strong>å¤šèŠ±ç‚¹æ—¶é—´å»æ€è€ƒåˆ«äººä¸ºä»€ä¹ˆå¤±è´¥</strong>ï¼Œä¸è¦å»ç¢ç£¨åˆ«äººä¸ºä»€ä¹ˆæˆåŠŸã€‚<strong>æˆåŠŸæœ‰å¾ˆå¤šåŸå› ï¼Œä½†å¾€å¾€ä¸å¯å¤åˆ¶ï¼Œè€Œå¤±è´¥æ°æ°æ˜¯ä½ å¯ä»¥ä¸å»é‡å¤çš„</strong>ã€‚</p><p>å…¨ä¸–ç•Œçš„åˆ›ä¸šè€…éƒ½æœ‰ä¸€æœ¬è‹¦éš¾çš„ç»ï¼Œå¤§æœ‰å¤§çš„éš¾å¤„ï¼Œå°æœ‰å°çš„ç—›è‹¦ï¼Œä½†æ˜¯è¦ä¿æŒè‰¯å¥½çš„å¿ƒæ€ã€‚æœ‰äººè®²é©¬äº‘å¾ˆæœ‰æ™ºæ…§ã€‚å“ªæ¥çš„æ™ºæ…§ï¼Ÿæ™ºæ…§çš„äººè‚¯å®šéƒ½æ˜¯å€’è¿‡éœ‰çš„äººã€‚æ‰€æœ‰è¢«äººä»¬è®¤è¯†çš„æ™ºæ…§è€…ï¼Œéƒ½æ˜¯ç»å—è¿‡å·¨å¤§çš„ç”Ÿç†ã€å¿ƒç†ç—›è‹¦çš„äººï¼</p><p>æˆ‘æœ‰äº›å¿ƒå¾—æƒ³åˆ†äº«ç»™æ‰€æœ‰å¹´è½»äººï¼š</p><ul><li>ç¬¬ä¸€ï¼Œè¦ä¹è§‚åœ°çœ‹å¾…æœªæ¥ï¼›</li><li>ç¬¬äºŒï¼Œå°‘ä¸€äº›æŠ±æ€¨ï¼Œè®¤çœŸæ£€æŸ¥è‡ªå·±çš„é—®é¢˜ï¼›</li><li>ç¬¬ä¸‰ï¼Œè¦æœ‰è¶…è¶Šå¸¸äººçš„åšæŒã€‚</li></ul><p>æ²¡æœ‰è¿™äº›ç´ è´¨ï¼Œä½ æ˜¯èµ°ä¸è¿œçš„ã€‚</p><h3 id="å¤šå­¦ä¸€ç‚¹åˆ«äººæ€ä¹ˆå¤±è´¥"><a href="#å¤šå­¦ä¸€ç‚¹åˆ«äººæ€ä¹ˆå¤±è´¥" class="headerlink" title="å¤šå­¦ä¸€ç‚¹åˆ«äººæ€ä¹ˆå¤±è´¥"></a>å¤šå­¦ä¸€ç‚¹åˆ«äººæ€ä¹ˆå¤±è´¥</h3><p>æˆ‘ä»¬ä¸è¦â€œæ™šä¸Šæƒ³æƒ³åƒæ¡è·¯ï¼Œæ—©ä¸Šèµ·æ¥èµ°åŸè·¯â€ã€‚å¾ˆå¤šå¹´è½»äººï¼Œæ™šä¸Šæƒ³è¦åšè¿™åšé‚£ï¼Œæ—©ä¸Šèµ·æ¥å°±éª‘è½¦ä¸Šç­å»äº†ã€‚æˆ‘è§‰å¾—ï¼Œæ”¹å˜è¦ä»ç°åœ¨å¼€å§‹ï¼Œè¡ŒåŠ¨æ˜¯ä¸€åˆ‡æ”¹å˜çš„æºæ³‰ã€‚</p><p>ä½ ä»Šå¤©åˆ›ä¸šï¼Œè¦æ€è€ƒ 10 å¹´åä¼šå‘ç”Ÿä»€ä¹ˆäº‹ï¼Œè¦é—®è‡ªå·±ä¸º 10 å¹´åçš„ç¤¾ä¼šè§£å†³ä»€ä¹ˆé—®é¢˜ã€‚å¦‚æœä½ æƒ³ä»Šå¤©åˆ›ä¸šæ˜å¤©å°±æˆåŠŸï¼Œé‚£è¿™ä¸ªæœºä¼šä¸€å®šä¸ä¼šå±äºä½ ã€‚å‡­ä»€ä¹ˆä½ ä»Šå¤©åšæ˜å¤©å°±æˆåŠŸï¼Ÿå¦‚æœä½ æƒ³ä»Šå¤©åšï¼Œ10 å¹´åæˆåŠŸï¼Œé‚£ä½ å°±è¦å¤šæŠŠæ¡ã€å¤šæ€è€ƒè¿™æ ·çš„æœºä¼šã€‚</p><h3 id="åšä¼ä¸šå°±åƒæ‰“ä»—"><a href="#åšä¼ä¸šå°±åƒæ‰“ä»—" class="headerlink" title="åšä¼ä¸šå°±åƒæ‰“ä»—"></a>åšä¼ä¸šå°±åƒæ‰“ä»—</h3><p>å°‘å¬åˆ«äººè¯´ï¼Œè‡ªå·±å»æ€è€ƒï¼Œæ‰¾ä¸€äº›å¿—åŒé“åˆçš„äººï¼Œç»™è‡ªå·±ä¸€ä¸ªå†³å¿ƒï¼ŒåšæŒäº”å¹´ã€åå¹´ï¼Œä¸€å®šè¦æŠŠå®ƒåšå‡ºæ¥ã€‚</p><p>10 å¤šå¹´æ¥ï¼Œæˆ‘æ™šä¸Šç»å¸¸æƒ³ï¼Œä¸å¹²äº†ï¼Œæ²¡æ„æ€ï¼Œä½†æ—©ä¸Šèµ·æ¥è¿˜æ˜¯ç»§ç»­åšæŒã€‚æˆåŠŸå…¶å®å°±æ˜¯å†åšæŒä¸€ä¼šå„¿ã€‚æœ‰æ—¶å€™ï¼Œå¤§å®¶éƒ½åå¯¹çš„äº‹æƒ…ï¼Œè¯´ä¸å®šæ˜¯æœºä¼šï¼›å¤§å®¶éƒ½è¯´å¯¹çš„äº‹æƒ…ï¼Œåè€Œè¦å¾ˆå°å¿ƒã€‚å¤§å®¶éƒ½è®¤ä¸ºå¾ˆå®¹æ˜“çš„äº‹æƒ…ï¼Œæ‹·è´å¾—ä¹Ÿå¿«ï¼›åªæœ‰å¤§å®¶éƒ½è§‰å¾—ä¸å¤ªé è°±çš„äº‹æƒ…ï¼Œæˆ‘æ‰è§‰å¾—æœ‰æˆã€‚æ€•ç«äº‰ï¼Œå°±åˆ«åšä¼ä¸šï¼›ç•éš¾ï¼Œæ€•è¢«äººéª‚ï¼Œå°±åˆ«åˆ›ä¸šã€‚</p><h3 id="æ²¡æœ‰äººçœ‹è¿‡æˆ‘æµæ³ªï¼Œå› ä¸ºæˆ‘æ²¡æœ‰æ—¶é—´æµæ³ª"><a href="#æ²¡æœ‰äººçœ‹è¿‡æˆ‘æµæ³ªï¼Œå› ä¸ºæˆ‘æ²¡æœ‰æ—¶é—´æµæ³ª" class="headerlink" title="æ²¡æœ‰äººçœ‹è¿‡æˆ‘æµæ³ªï¼Œå› ä¸ºæˆ‘æ²¡æœ‰æ—¶é—´æµæ³ª"></a>æ²¡æœ‰äººçœ‹è¿‡æˆ‘æµæ³ªï¼Œå› ä¸ºæˆ‘æ²¡æœ‰æ—¶é—´æµæ³ª</h3><p>æˆ‘ä¸å¤ªç›¸ä¿¡è¿™ä¸ªä¸–ç•Œä¸Šæœ‰ç‰¹åˆ«äº†ä¸èµ·çš„äººï¼Œæˆ‘ä»¬éƒ½æ˜¯å¾ˆå¹³å‡¡çš„äººã€‚æˆ‘åªæ˜¯çœ‹åˆ°äº†ä¸€ä¸ªæœºä¼šï¼Œæƒ³åˆ°äº†ä¸€äº›ä¸œè¥¿ï¼Œç„¶ååšæŒåšè€Œå·²ã€‚æˆ‘èƒ½æƒ³å¾—æ¯”è¾ƒè¿œï¼Œæ˜¯å› ä¸ºè¿‘çš„æœºä¼šéƒ½ä¸æ˜¯æˆ‘ä»¬çš„ï¼Œæˆ‘ä»¬åªèƒ½æƒ³å¾—è¿œï¼›å¦‚æœè·‘å¾—æ…¢ï¼Œå°±æ›´æ²¡æœ‰æœºä¼šäº†ï¼Œæ‰€ä»¥åªèƒ½è·‘å¾—å¿«ã€‚</p><p>ä»¥åï¼Œå¦‚æœå¤§å®¶æœ‰äº†å­©å­ï¼Œä½ çš„å­©å­çœŸä¸ä¼šè¯»ä¹¦ï¼Œé‚£å°±é”»ç‚¼ä»–çš„æƒ…å•†ï¼Œè®©ä»–çš„æƒ…å•†é«˜ä¸€ç‚¹ï¼Œæƒ…å•†é«˜çš„äººä¹Ÿæœ‰æœºä¼šï¼›è®©ä»–æœ‰å›¢é˜Ÿæ„è¯†ï¼Œæ‡‚å¾—æ„Ÿæ©ã€æ‡‚å¾—æ•¬ç•ã€‚</p><h3 id="è§£å†³å¥½è¿™-7000-ä¸‡äººçš„é—®é¢˜ï¼Œä¸­å›½å°†è¯ç”Ÿæ›´å¤šä¼ä¸šå®¶"><a href="#è§£å†³å¥½è¿™-7000-ä¸‡äººçš„é—®é¢˜ï¼Œä¸­å›½å°†è¯ç”Ÿæ›´å¤šä¼ä¸šå®¶" class="headerlink" title="è§£å†³å¥½è¿™ 7000 ä¸‡äººçš„é—®é¢˜ï¼Œä¸­å›½å°†è¯ç”Ÿæ›´å¤šä¼ä¸šå®¶"></a>è§£å†³å¥½è¿™ 7000 ä¸‡äººçš„é—®é¢˜ï¼Œä¸­å›½å°†è¯ç”Ÿæ›´å¤šä¼ä¸šå®¶</h3><p>åœ¨æˆ‘çœ‹æ¥ï¼Œå­©å­ä¸ä¸€å®šåªæœ‰è¯»ä¹¦è¿™ä¸€æ¡è·¯ï¼Œä¸å–„äºè¯»ä¹¦çš„å­©å­ä¸ä¸€å®šå°±æ²¡æœ‰æœªæ¥ã€‚æˆ‘å°±æ˜¯ä¸€ä¸ªä¸ä¼šè¯»ä¹¦çš„äººã€‚ä¸ä¼šè¯»ä¹¦æ²¡å…³ç³»ï¼Œä½†ä¸€å®šè¦ä¼šç©ï¼Œä½ å¯ä»¥ä½“è‚²å¾ˆå¥½ã€éŸ³ä¹å¾ˆå¥½ï¼Œæˆ–è€…ç¾æœ¯å¾ˆå¥½ï¼Œè¿™äº›éƒ½æ˜¯ä½¿äººè‡ªä¿¡çš„èƒ½åŠ›ã€‚</p><p>ä»€ä¹ˆæ˜¯æœºä¼šï¼Ÿæœºä¼šå°±æ˜¯è§£å†³éº»çƒ¦ã€‚å“ªé‡Œæœ‰æŠ±æ€¨ï¼Œå“ªé‡Œå°±æœ‰æœºä¼šã€‚åªè¦å»è§£å†³è¿™äº›å›°éš¾ï¼Œè§£å†³è¿™äº›æŠ±æ€¨ï¼Œå°±æœ‰æœºä¼šã€‚</p><h3 id="æ¶ˆç­é˜¿é‡Œå®¹æ˜“ï¼Œæ¶ˆç­å‡è´§éš¾"><a href="#æ¶ˆç­é˜¿é‡Œå®¹æ˜“ï¼Œæ¶ˆç­å‡è´§éš¾" class="headerlink" title="æ¶ˆç­é˜¿é‡Œå®¹æ˜“ï¼Œæ¶ˆç­å‡è´§éš¾"></a>æ¶ˆç­é˜¿é‡Œå®¹æ˜“ï¼Œæ¶ˆç­å‡è´§éš¾</h3><p>æ¶ˆç­é˜¿é‡Œå·´å·´å®¹æ˜“ï¼Œæ¶ˆç­å‡è´§éš¾ã€‚å¦‚æœæŠŠå¤©çŒ«ã€æ·˜å®å…³äº†ï¼Œä¸­å›½ä»æ­¤æ— å‡è´§ï¼Œé‚£æˆ‘ä»¬é©¬ä¸Šå°±å…³ã€‚é—®é¢˜æ˜¯å…³äº†æ²¡ç”¨ã€‚éº»å©†ç…§é•œå­ï¼ŒæŠŠé•œå­æ‘”äº†ï¼Œéº»å­ä¸€æ ·è¿˜åœ¨è„¸ä¸Šã€‚<strong>äº’è”ç½‘å°±æ˜¯ä¸­å›½ç¤¾ä¼šçš„ä¸€é¢é•œå­ï¼Œæ·˜å®å°±æ˜¯â€œä¸­å›½åˆ¶é€ â€çš„ä¸€é¢é•œå­</strong>ã€‚</p><h3 id="æµ™å•†åº”å½“åšå®ˆâ€œå››ä¸ªä¸â€"><a href="#æµ™å•†åº”å½“åšå®ˆâ€œå››ä¸ªä¸â€" class="headerlink" title="æµ™å•†åº”å½“åšå®ˆâ€œå››ä¸ªä¸â€"></a>æµ™å•†åº”å½“åšå®ˆâ€œå››ä¸ªä¸â€</h3><p>ä¸­å›½å¾ˆå¤šå¥½çš„ä¼ä¸šéƒ½ä¸æ˜¯è¯´ç­‰å‡ºäº†æŸä¸€ä¸ªæ–‡ä»¶æ‰å»åšçš„ã€‚äº‹å®ä¸Šï¼Œä¸€æ—¦ä¸­å¤®ä¸‹å‘æ–‡ä»¶è¯´è¦å‘å±•æŸä¸ªäº§ä¸šï¼Œä½ è¿›å»åæ­»çš„æ¦‚ç‡åè€Œæ˜¯ 90%ã€‚å› ä¸ºåƒå†›ä¸‡é©¬è¿‡ç‹¬æœ¨æ¡¥ï¼Œä½ ä¸€å®šä¼šæ­»ï¼Œæ‰€ä»¥ä¼ä¸šå®¶çš„çœ¼å…‰åˆ¤æ–­æ˜¯æå…¶å…³é”®çš„ã€‚</p><p>åŠæ³•æ˜¯è¦æƒ³å‡ºæ¥çš„ã€‚å› ä¸ºä½ æŠŠé—¨å µä½äº†ï¼Œå‘˜å·¥å°±ä¼šæƒ³å°½ä¸€åˆ‡åŠæ³•åœ¨æŠ€æœ¯ä¸Šå®Œå–„ï¼Œåœ¨äº§å“ä¸Šå®Œå–„ï¼Œåœ¨åˆ¶åº¦ä¸Šåˆ›æ–°ï¼Œå¦åˆ™ä»–ä»¬åšèµ·æ¥å°±å¾ˆç®€å•ï¼ŒåŠ äººã€åŠ åŸææ–™å°±æ˜¯äº†ï¼Œå¯é‚£å°±ä¹±å¥—äº†ã€‚</p><p>ä»Šå¤©ï¼Œå¤§å®¶æ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœä½ åœ¨åå¹´ä»¥å‰ï¼Œä»€ä¹ˆäº‹æƒ…ä»Šå¤©åšä¼šä¸ä¸€æ ·ï¼ŸåŒæ ·çš„é“ç†ï¼Œä½ ç«™åœ¨åå¹´ä»¥åæ€è€ƒç°åœ¨ï¼Œæˆ‘è¿™å®¶ä¼ä¸šå¿…é¡»åšä»€ä¹ˆäº‹æƒ…ï¼Œåå¹´ä»¥åæ‰æœ‰æœºä¼šï¼Ÿä½ è¶Šä¸çŸ¥é“æ˜å¹´æ€ä¹ˆè¿‡çš„æ—¶å€™ï¼Œè¶Šè¦æ€è€ƒäº”å¹´ä»¥åã€åå¹´ä»¥åã€‚</p><h3 id="å…¬ç›Šçš„æœ¬è´¨æ˜¯å”¤é†’å–„è‰¯"><a href="#å…¬ç›Šçš„æœ¬è´¨æ˜¯å”¤é†’å–„è‰¯" class="headerlink" title="å…¬ç›Šçš„æœ¬è´¨æ˜¯å”¤é†’å–„è‰¯"></a>å…¬ç›Šçš„æœ¬è´¨æ˜¯å”¤é†’å–„è‰¯</h3><p>å…¬ç›Šéœ€è¦é’±ï¼Œä½†å…‰æœ‰é’±æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚å› ä¸ºå…¬ç›Šå’Œæ…ˆå–„è¿˜æ˜¯æœ‰ç‚¹å·®å¼‚çš„ï¼Œæ…ˆå–„åœ¨äºç»™äºˆï¼Œè€Œå…¬ç›Šåœ¨äºå‚ä¸ï¼Œåœ¨äºç‚¹ç‚¹æ»´æ»´çš„è¡ŒåŠ¨ã€‚æ…ˆå–„å¯èƒ½ä»¥ç»™é’±ä¸ºä¸»ï¼Œè€Œå…¬ç›Šéœ€è¦ä½ èŠ±å‡ºçš„æ˜¯æ—¶é—´ã€æ¿€æƒ…ã€æ™ºæ…§ä»¥åŠæ‰€æœ‰ä½ å¯èƒ½æ‹¿ä¸å‡ºæ¥çš„ä¸œè¥¿ã€‚ä½ æœªå¿…æœ‰èƒ½åŠ›å»åšæ…ˆå–„ï¼Œä½†æˆ‘ä»¬æ¯ä¸ªäººéƒ½åº”è¯¥å¯ä»¥å»åšå…¬ç›Šï¼Œå‚ä¸å…¬ç›Šã€‚</p><p>äººä»¬ç»å¸¸åœ¨é—®ï¼Œäººä¹‹åˆæ€§æœ¬å–„ï¼Œè¿˜æ˜¯äººä¹‹åˆæ€§æœ¬æ¶ï¼Ÿæˆ‘ä¸€ç›´è§‰å¾—ï¼Œä»å¤ªæå“²å­¦æ¥è®²ï¼Œäººåˆšå‡ºç”Ÿçš„æ—¶å€™ï¼Œæ˜¯ 50% çš„å–„å’Œ 50% çš„æ¶åˆåœ¨ä¸€èµ·ï¼Œæ˜¯æ•™è‚²ã€æ˜¯æ–‡åŒ–ã€æ˜¯ä¿¡ä»°æŠŠæˆ‘ä»¬çš„å–„ç´¯ç§¯äº†èµ·æ¥ï¼Œä½¿å–„è¶…è¿‡äº†æ¶ã€‚ä½†æ˜¯ï¼Œç”±äºä¸–ç•Œä¸Šå„ç§å„æ ·çš„åŸå› ï¼Œæ¶çš„ä¸œè¥¿ã€åçš„ä¸œè¥¿å¾€å¾€ä¼šæ·¹æ²¡æˆ‘ä»¬çš„å–„è‰¯ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æ“¦æ´—æˆ‘ä»¬è‡ªå·±çš„è‰¯å¿ƒï¼Œæ“¦æ´—æˆ‘ä»¬è‡ªå·±çš„å–„å¿ƒï¼Œè€Œå”¤é†’æˆ‘ä»¬æ“¦æ´—è‡ªå·±å–„å¿ƒçš„æœ€å¥½æ–¹æ³•ï¼Œå°±æ˜¯å‚ä¸ç‚¹ç‚¹æ»´æ»´çš„å…¬ç›Šè¡ŒåŠ¨ã€‚</p><h3 id="åšä¹¡æ‘æ•™å¸ˆçš„ä»£è¨€äºº"><a href="#åšä¹¡æ‘æ•™å¸ˆçš„ä»£è¨€äºº" class="headerlink" title="åšä¹¡æ‘æ•™å¸ˆçš„ä»£è¨€äºº"></a>åšä¹¡æ‘æ•™å¸ˆçš„ä»£è¨€äºº</h3><p>æˆ‘ä¸€ç›´è§‰å¾—åšæ…ˆå–„æ˜¯éšç§ï¼Œæ˜¯è‡ªå·±çš„äº‹ï¼›è€Œåšå…¬ç›Šæœ€ä¸»è¦çš„ç›®çš„æ˜¯å”¤é†’äººä»¬çš„è‰¯çŸ¥ï¼Œè®©äººä»¬éƒ½æ¥å‚ä¸ã€‚æ‰€ä»¥ï¼Œæˆ‘è§‰å¾—è¦ä½è°ƒæ…ˆå–„ï¼Œé«˜è°ƒå…¬ç›Šã€‚</p><p>ç›¸ä¿¡ï¼Œäººåªè¦æœ‰å­¦ä¹ èƒ½åŠ›ï¼Œè·å–çŸ¥è¯†åªæ˜¯ä¸ªæ—¶é—´é—®é¢˜ã€‚æ‰€ä»¥ï¼Œæˆ‘å¸Œæœ›æˆ‘ä»¬çš„ä¹¡æ‘æ•™å¸ˆèƒ½å¤Ÿåœ¨â€œè‚²â€æ–¹é¢å¤šä¸‹åŠŸå¤«ã€‚</p><h3 id="ä¸­å›½çš„â€œæ•™â€å’Œâ€œè‚²â€"><a href="#ä¸­å›½çš„â€œæ•™â€å’Œâ€œè‚²â€" class="headerlink" title="ä¸­å›½çš„â€œæ•™â€å’Œâ€œè‚²â€"></a>ä¸­å›½çš„â€œæ•™â€å’Œâ€œè‚²â€</h3><p>äººä¹‹åˆæ€§æœ¬å–„ï¼Œè¿˜æ˜¯äººä¹‹åˆæ€§æœ¬æ¶ï¼Ÿæˆ‘æƒ³äººç”Ÿä¸‹æ¥ï¼Œå¯èƒ½ä¸€åŠæ˜¯å¥½çš„ï¼Œä¸€åŠæ˜¯åçš„ã€‚ä½†æ˜¯ï¼Œå› ä¸ºæœ‰äº†æ•™è‚²ï¼Œäººèº«ä¸Šå¥½çš„è¿™ä¸€é¢ä¸æ–­åœ°è¢«å”¤é†’ï¼Œä¸æ–­åœ°è¢«æ‰©å¤§ï¼Œè€Œåçš„ä¸œè¥¿è¢«éåˆ¶ã€‚æŠŠäººçš„å–„æ„ã€æ™ºæ…§å”¤é†’ï¼Œè¿™æ˜¯è€å¸ˆçš„å·¥ä½œã€‚åœ¨æˆ‘ä»¬çš„äººç”Ÿä¸­ï¼Œå¯¹æˆ‘ä»¬å½±å“æœ€å¤§çš„äººï¼Œé™¤äº†çˆ¶æ¯ä¹‹å¤–ï¼Œå¯èƒ½å°±æ˜¯è€å¸ˆäº†ã€‚</p><p>æ•°å­¦å¾ˆé‡è¦ï¼Œè¯­æ–‡ä¹Ÿå¾ˆé‡è¦ï¼Œä½†ä»…ä»…å­¦ä¹ è¿™äº›æ˜¯ä¸å¤Ÿçš„ã€‚è¦è®©ä¸€ä¸ªå­©å­çœŸæ­£æˆä¸ºä¸€ä¸ªäººï¼Œè€Œä¸æ˜¯å­¦ä¹ çš„æœºå™¨ï¼Œä¸€å®šè¦è®©ä»–å­¦å¥½éŸ³ä¹ã€ä½“è‚²ã€ç¾æœ¯è¿™äº›å¯ä»¥ä¸°å¯Œã€è¡¨è¾¾æˆ‘ä»¬æƒ…æ„Ÿçš„ä¸œè¥¿ã€‚</p><h3 id="åŒ—äº¬å¯¹è¯æ‰å…‹ä¼¯æ ¼"><a href="#åŒ—äº¬å¯¹è¯æ‰å…‹ä¼¯æ ¼" class="headerlink" title="åŒ—äº¬å¯¹è¯æ‰å…‹ä¼¯æ ¼"></a>åŒ—äº¬å¯¹è¯æ‰å…‹ä¼¯æ ¼</h3><p>å¾ˆå¤šäººéƒ½æ„Ÿåˆ°éå¸¸æ‹…å¿§ï¼Œè¯´æœºå™¨å·²ç»æ‰“è´¥äº†äººç±»ï¼Œé‚£äººç±»åˆ°åº•è¯¥æ€ä¹ˆåŠï¼Ÿæˆ‘è®¤ä¸ºï¼Œä»ç”µè„‘è¢«å‘æ˜å‡ºæ¥çš„ç¬¬ä¸€å¤©èµ·ï¼Œäººç±»å°±åº”è¯¥æ„è¯†åˆ°ï¼šå¦‚æœäººç±»æƒ³è·Ÿç”µè„‘ç«äº‰è°æ›´èªæ˜ï¼Œé‚£ä¹ˆäººç±»å°±è¯¥æ”¾å¼ƒã€‚æˆ‘è®¤ä¸ºæœºå™¨ä¼šå˜å¾—è¶Šæ¥è¶Šå¼ºå¤§ï¼Œæœºå™¨ä¼šæ¯”äººç±»æ›´ç²¾äºè®¡ç®—ï¼Œä½†æ˜¯æœºå™¨æ°¸è¿œä¸ä¼šåƒäººç±»é‚£æ ·æœ‰æ™ºæ…§ã€‚</p><p>çŸ¥è¯†è®©äººèªæ˜ï¼Œèªæ˜çš„äººçŸ¥é“è‡ªå·±éœ€è¦ä»€ä¹ˆï¼›ç»å†æŒ«æŠ˜è®©äººæ›´å…·æ™ºæ…§ï¼Œæ™ºæ…§çš„äººæ‰çŸ¥é“ä»€ä¹ˆæ—¶å€™å»æ”¾å¼ƒã€‚ä» IT æ—¶ä»£åˆ° DT æ—¶ä»£ï¼ŒIT è®©äººæ›´åƒæœºå™¨ï¼ŒDT è®©æœºå™¨æ›´åƒäººã€‚æˆ‘ä»¬å·²ç„¶è¿›å…¥ä¸€ä¸ªæ–°ä¸–ç•Œï¼Œå¿…é¡»åœ¨æœªæ¥ 30 å¹´é‡Œå……æ»¡æ™ºæ…§åœ°æ”¾å¼ƒä¸€äº›ä¸œè¥¿ï¼Œä¸ç„¶æˆ‘ä»¬ä¼šæœ‰éº»çƒ¦ã€‚</p><p>åˆ›ä¸šè€…åº”è¯¥å…³æ³¨è‡ªå·±èƒ½è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œè€Œä¸æ˜¯æƒ³ç€æ€ä¹ˆå»å¼€åŠä¸€å®¶å…¬å¸ã€‚</p><h3 id="æ—§é‡‘å±±å¯¹è¯ç¡…è°·ç²¾è‹±"><a href="#æ—§é‡‘å±±å¯¹è¯ç¡…è°·ç²¾è‹±" class="headerlink" title="æ—§é‡‘å±±å¯¹è¯ç¡…è°·ç²¾è‹±"></a>æ—§é‡‘å±±å¯¹è¯ç¡…è°·ç²¾è‹±</h3><p>è¿™ä¸ªä¸–ç•Œåœ¨å˜åŒ–ï¼Œå¦‚æœä½ æ¯«æ— è¡ŒåŠ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜åŒ–å°†è·Ÿä½ æ¯«æ— å…³ç³»ï¼›åä¹‹ï¼Œä½ å°±èƒ½æˆä¸ºè¿™ä¸ªå˜åŒ–çš„å—ç›Šè€…ã€‚</p><p>é˜¿é‡Œå·´å·´è¿™å®¶å…¬å¸æœ€æ‚²å‰§çš„ä¸€ç‚¹æ˜¯ CEO å®Œå…¨ä¸æ‡‚æŠ€æœ¯ï¼Œæœ€å¹¸è¿çš„åœ°æ–¹ä¹Ÿæ˜¯ CEO ä¸æ‡‚æŠ€æœ¯ã€‚å› ä¸ºä¸æ‡‚æŠ€æœ¯ï¼Œæ‰€ä»¥æˆ‘ä¿¡ä»»å‘˜å·¥ï¼Œä¿¡ä»»å·¥ç¨‹å¸ˆã€‚<strong>å¤–è¡Œæ˜¯å¯ä»¥é¢†å¯¼å†…è¡Œçš„ï¼Œå…³é”®åœ¨äºè¦å­¦ä¼šå°Šé‡å†…è¡Œ</strong>ã€‚</p><p>å·´è²ç‰¹æ˜¯é é’±æˆåŠŸï¼Œæˆ‘ä»¬æ˜¯é äººã€é ç»„ç»‡ã€é äº’è”ç½‘æˆåŠŸï¼Œåœ¨å®Œå…¨ä¸åŒçš„é¢†åŸŸï¼Œæœ‰ä¸åŒçš„ç©æ³•ã€‚ä½ è·Ÿä¹”ä¸¹æ‰“ç¯®çƒï¼Œä¸€ç‚¹æ„æ€éƒ½æ²¡æœ‰ï¼Œè¦è·Ÿä»–ä¸‹å›´æ£‹ã€‚</p><h3 id="äºšå¸ƒåŠ›å¯¹è¯å•†ç•Œç²¾è‹±"><a href="#äºšå¸ƒåŠ›å¯¹è¯å•†ç•Œç²¾è‹±" class="headerlink" title="äºšå¸ƒåŠ›å¯¹è¯å•†ç•Œç²¾è‹±"></a>äºšå¸ƒåŠ›å¯¹è¯å•†ç•Œç²¾è‹±</h3><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä»¥ä¸ºè‡ªå·±çŸ¥é“å¾ˆå¤šä¸œè¥¿ï¼Œä»¥ä¸ºè‡ªå·±æ‡‚ï¼Œå¦‚æœå¯¹æœªæ¥æ²¡æœ‰æ•¬ç•ä¹‹å¿ƒï¼Œå¯¹æ˜¨å¤©æ²¡æœ‰æ„Ÿæ©ä¹‹æƒ…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯èƒ½ä¼šæ°¸è¿œè·Œè·Œæ’æ’ã€ç£•ç£•ç»Šç»Šã€‚</p><p>æˆ‘ä»¬è¦<strong>å¿˜æ‰çŸ­æœŸ</strong>ï¼Œå¦‚æœä½ åšä¼ä¸šæ˜¯ä¸ºäº†æ˜å¹´ï¼Œä¸ºäº†ä¸‹ä¸ªå­£åº¦ï¼Œé‚£ä½ åªæ˜¯ä¸ªèŒä¸šç»ç†äººï¼ŒèŒä¸šç»ç†äººè€ƒè™‘çš„æ˜¯ä¸‹ä¸ªå­£åº¦çš„äº‹æƒ…ã€‚åšä¼ä¸šè¦è€ƒè™‘çš„æ˜¯ 5 å¹´ã€10 å¹´ã€20 å¹´çš„äº‹æƒ…ã€‚å¦‚æœä» 20 å¹´çš„è§’åº¦æ¥è®²ï¼Œç»æµæœ‰å‡ ä¸ªè½®å›ã€‚</p><p>æˆ‘å¯¹æœªæ¥æ˜¯å……æ»¡ä¿¡å¿ƒçš„ï¼Œä½†å¯¹ä»Šå¤©ã€æ˜å¤©ï¼Œæˆ‘èƒ†å°è°¨æ…ï¼Œå¦‚å±¥è–„å†°ã€‚ä»Šå¤©å¾ˆæ®‹é…·ï¼Œæ˜å¤©æ›´æ®‹é…·ï¼Œåå¤©å¾ˆç¾å¥½ï¼Œä½†æ˜¯ç»å¤§éƒ¨åˆ†äººæ­»åœ¨æ˜å¤©æ™šä¸Šï¼Œè§ä¸åˆ°åå¤©çš„å¤ªé˜³ã€‚ç›¸ä¿¡è¿™ä¸€ç‚¹ï¼Œä½ å°±ä¼šèµ°å‡ºå»ã€‚</p><p>ä¸€ä¸ªè‘£äº‹ä¼šå¿…é¡»æœ‰ 30 å¹´ã€50 å¹´çš„æ€è€ƒï¼Œä¸€ä¸ª CEO å¿…é¡»æœ‰ 5 ï½ 10 å¹´çš„æ€è€ƒï¼Œä¸€ä¸ªå‰¯æ€»è£å¿…é¡»æœ‰ 3 å¹´çš„æ€è€ƒï¼Œä¸€ä¸ªç»ç†å¿…é¡»å¯¹æœªæ¥ä¸€å‘¨æœ‰æ€è€ƒï¼Œä¸€ä¸ªå‘˜å·¥å¿…é¡»å¯¹æ˜å¤©æœ‰æ€è€ƒï¼Œè¿™æ˜¯ä¸€ä¸ªä½“ç³»ã€‚</p><h3 id="è¾¾æ²ƒæ–¯å¯¹è¯æŸ¥ç†Â·ç½—æ–¯"><a href="#è¾¾æ²ƒæ–¯å¯¹è¯æŸ¥ç†Â·ç½—æ–¯" class="headerlink" title="è¾¾æ²ƒæ–¯å¯¹è¯æŸ¥ç†Â·ç½—æ–¯"></a>è¾¾æ²ƒæ–¯å¯¹è¯æŸ¥ç†Â·ç½—æ–¯</h3><p>æˆ‘ä¸è®¤ä¸ºä¸–ç•Œä¸Šæœ‰å¾ˆå¤šäººè¢«æ‹’ç»è¿‡ 30 æ¬¡ã€‚æˆ‘æ‰€æœ‰çš„åªæ˜¯åšæŒï¼Œåƒé˜¿ç”˜ä¸€æ ·ï¼Œæˆ‘ä¸æŠ±æ€¨ï¼Œæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚å¦‚æœä¸€ä¸ªäººå¤±è´¥åè€æ˜¯æŠ±æ€¨åˆ«äººï¼Œé‚£ä¹ˆè¿™ä¸ªäººæ°¸è¿œä¸ä¼šæˆåŠŸï¼›å¦‚æœä»–ä¸€ç›´åçœè‡ªå·±ï¼Œé‚£ä¹ˆä»–å°±æœ‰å¸Œæœ›ã€‚</p><div>    <a target="_blank" href="https://github.com/yanglbme/reading/blob/main/docs/other/2019-07-28.md">       è½¬è½½from<img src="https://img.shields.io/badge/yanglbme-%E9%A9%AC%E4%BA%91%EF%BC%9A%E6%9C%AA%E6%9D%A5%E5%B7%B2%E6%9D%A5-brightgreen?logo=github" />    </a></div>]]></content>
    
    
    <categories>
      
      <category>Book</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Read</tag>
      
      <tag>Book</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysqlæ—¥æœŸç±»æ—¶é—´æ ¼å¼åŒ–è¯¦è§£</title>
    <link href="/2022/09/27/Mysql%E6%97%A5%E6%9C%9F%E7%B1%BB%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%AF%A6%E8%A7%A3/"/>
    <url>/2022/09/27/Mysql%E6%97%A5%E6%9C%9F%E7%B1%BB%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%AF%A6%E8%A7%A3/</url>
    
    <content type="html"><![CDATA[<h3 id="MySQLæ—¶é—´æ ¼å¼åŒ–å‡½æ•°date-format-ç”¨æ³•è¯¦è§£"><a href="#MySQLæ—¶é—´æ ¼å¼åŒ–å‡½æ•°date-format-ç”¨æ³•è¯¦è§£" class="headerlink" title="MySQLæ—¶é—´æ ¼å¼åŒ–å‡½æ•°date_format()ç”¨æ³•è¯¦è§£"></a>MySQLæ—¶é—´æ ¼å¼åŒ–å‡½æ•°date_format()ç”¨æ³•è¯¦è§£</h3><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">DATE_FORMAT(<span class="hljs-type">date</span>,format)<br></code></pre></td></tr></table></figure><h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><ul><li><p><em><code>date</code></em></p><p>  å¿…éœ€çš„ã€‚éœ€è¦æ ¼å¼åŒ–çš„æ—¥æœŸã€‚</p></li><li><p><em><code>format</code></em></p><p>  å¿…éœ€çš„ã€‚æ ¼å¼åŒ–æ¨¡å¼å­—ç¬¦ä¸²ã€‚</p></li></ul><h3 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h3><p><code>DATE_FORMAT()</code> å‡½æ•°æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼æ ¼å¼åŒ–æ—¥æœŸæ—¶é—´å¹¶è¿”å›æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²ã€‚</p><p>å¦‚æœå…¶ä¸­ä»»ä½•ä¸€ä¸ªå‚æ•°ä¸º <code>NULL</code>ï¼Œ<code>DATE_FORMAT()</code> å‡½æ•°å°†è¿”å› <code>NULL</code>ã€‚</p><h3 id="DATE-FORMAT-ç¤ºä¾‹"><a href="#DATE-FORMAT-ç¤ºä¾‹" class="headerlink" title="DATE_FORMAT() ç¤ºä¾‹"></a><code>DATE_FORMAT()</code> ç¤ºä¾‹</h3><h4 id="ç¤ºä¾‹-1-æ ¼å¼åŒ–æ—¥æœŸ"><a href="#ç¤ºä¾‹-1-æ ¼å¼åŒ–æ—¥æœŸ" class="headerlink" title="ç¤ºä¾‹ 1: æ ¼å¼åŒ–æ—¥æœŸ"></a>ç¤ºä¾‹ 1: æ ¼å¼åŒ–æ—¥æœŸ</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span><br>    DATE_FORMAT(<span class="hljs-string">&#x27;2022-02-28&#x27;</span>, <span class="hljs-string">&#x27;%Y&#x27;</span>),<br>    DATE_FORMAT(<span class="hljs-string">&#x27;2014-02-28&#x27;</span>, <span class="hljs-string">&#x27;%W&#x27;</span>),<br>    DATE_FORMAT(<span class="hljs-string">&#x27;2022-02-01&#x27;</span>, <span class="hljs-string">&#x27;%M %d, %Y&#x27;</span>),<br>    DATE_FORMAT(<span class="hljs-string">&#x27;2022-02-01&#x27;</span>, <span class="hljs-string">&#x27;%M %e %Y&#x27;</span>),<br>    DATE_FORMAT(<span class="hljs-string">&#x27;2022-02-28&#x27;</span>, <span class="hljs-string">&#x27;%W, %M %e, %Y&#x27;</span>),<br>    <br># è¾“å‡ºç»“æœ<br> DATE_FORMAT(<span class="hljs-string">&#x27;2022-02-28&#x27;</span>, <span class="hljs-string">&#x27;%Y&#x27;</span>): <span class="hljs-number">2022</span><br> DATE_FORMAT(<span class="hljs-string">&#x27;2014-02-28&#x27;</span>, <span class="hljs-string">&#x27;%W&#x27;</span>): Friday<br> DATE_FORMAT(<span class="hljs-string">&#x27;2022-02-01&#x27;</span>, <span class="hljs-string">&#x27;%M %d, %Y&#x27;</span>): February <span class="hljs-number">01</span>, <span class="hljs-number">2022</span><br> DATE_FORMAT(<span class="hljs-string">&#x27;2022-02-01&#x27;</span>, <span class="hljs-string">&#x27;%M %e %Y&#x27;</span>): February <span class="hljs-number">1</span> <span class="hljs-number">2022</span><br> DATE_FORMAT(<span class="hljs-string">&#x27;2022-02-28&#x27;</span>, <span class="hljs-string">&#x27;%W, %M %e, %Y&#x27;</span>): Monday, February <span class="hljs-number">28</span>, <span class="hljs-number">2022</span><br></code></pre></td></tr></table></figure><h4 id="ç¤ºä¾‹-2-æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´"><a href="#ç¤ºä¾‹-2-æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´" class="headerlink" title="ç¤ºä¾‹ 2: æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´"></a>ç¤ºä¾‹ 2: æ ¼å¼åŒ–æ—¥æœŸå’Œæ—¶é—´</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> NOW(), DATE_FORMAT(NOW(), <span class="hljs-string">&#x27;%Y%m%d%H%i%S&#x27;</span>),<br><br># è¾“å‡ºç»“æœ<br>NOW(): <span class="hljs-number">2022</span><span class="hljs-number">-04</span><span class="hljs-number">-12</span> <span class="hljs-number">03</span>:<span class="hljs-number">18</span>:<span class="hljs-number">38</span><br>DATE_FORMAT(NOW(), <span class="hljs-string">&#x27;%Y%m%d%H%i%S&#x27;</span>): <span class="hljs-number">20220412031838</span><br></code></pre></td></tr></table></figure><h3 id="å‚æ•°ç¬¦å·"><a href="#å‚æ•°ç¬¦å·" class="headerlink" title="å‚æ•°ç¬¦å·"></a>å‚æ•°ç¬¦å·</h3><table><thead><tr><th>ç¬¦å·</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>%a</code></td><td>æ˜ŸæœŸçš„ç¼©å†™ (<code>Sun</code>..<code>Sat</code>)</td></tr><tr><td><code>%b</code></td><td>æœˆä»½çš„ç¼©å†™ (<code>Jan</code>..<code>Dec</code>)</td></tr><tr><td><code>%c</code></td><td>æœˆä»½æ•°å­— (<code>0</code>..<code>12</code>)</td></tr><tr><td><code>%D</code></td><td>å¸¦æœ‰è‹±è¯­å‰ç¼€çš„æœˆä»½ä¸­çš„æ¯å¤© (<code>0th</code>, <code>1st</code>, <code>2nd</code>, <code>3rd</code>, â€¦)</td></tr><tr><td><code>%d</code></td><td>æœˆä»½ä¸­çš„æ¯å¤©çš„ä¸¤ä½æ•°å­—è¡¨ç¤º (<code>00</code>..<code>31</code>)</td></tr><tr><td><code>%e</code></td><td>æœˆä»½ä¸­çš„æ¯å¤©çš„æ•°å­—è¡¨ç¤º (<code>0</code>..<code>31</code>)</td></tr><tr><td><code>%f</code></td><td>å¾®ç§’ (<code>000000</code>..<code>999999</code>)</td></tr><tr><td><code>%H</code></td><td>å°æ—¶ (<code>00</code>..<code>23</code>)</td></tr><tr><td><code>%h</code></td><td>å°æ—¶ (<code>01</code>..<code>12</code>)</td></tr><tr><td><code>%I</code></td><td>å°æ—¶ (<code>01</code>..<code>12</code>)</td></tr><tr><td><code>%i</code></td><td>åˆ†é’Ÿ (<code>00</code>..<code>59</code>)</td></tr><tr><td><code>%j</code></td><td>ä¸€å¹´ä¸­çš„æ¯å¤© (<code>001</code>..<code>366</code>)</td></tr><tr><td><code>%k</code></td><td>å°æ—¶ (<code>0</code>..<code>23</code>)</td></tr><tr><td><code>%l</code></td><td>å°æ—¶ (<code>1</code>..<code>12</code>)</td></tr><tr><td><code>%M</code></td><td>æœˆä»½åç§° (<code>January</code>..<code>December</code>)</td></tr><tr><td><code>%m</code></td><td>ä¸¤ä½æ•°å­—æœˆä»½ (<code>00</code>..<code>12</code>)</td></tr><tr><td><code>%p</code></td><td><code>AM</code> æˆ–è€… <code>PM</code></td></tr><tr><td><code>%r</code></td><td>åäºŒå°æ—¶åˆ¶æ—¶é—´ (<em><code>hh:mm:ss</code></em> åè·Ÿ <code>AM</code> æˆ– <code>PM</code>)</td></tr><tr><td><code>%S</code></td><td>ç§’ (<code>00</code>..<code>59</code>)</td></tr><tr><td><code>%s</code></td><td>ç§’ (<code>00</code>..<code>59</code>)</td></tr><tr><td><code>%T</code></td><td>äºŒåå››å°æ—¶åˆ¶æ—¶é—´ (<em><code>hh:mm:ss</code></em>)</td></tr><tr><td><code>%U</code></td><td>ä¸€å¹´ä¸­çš„æ˜ŸæœŸ (<code>00</code>..<code>53</code>), æ¯å‘¨çš„å¼€å§‹æ˜¯æ˜ŸæœŸå¤©; <a href="https://www.sjkjc.com/mysql-ref/week/"><code>WEEK()</code></a> å‡½æ•°ä¸­çš„ mode 0</td></tr><tr><td><code>%u</code></td><td>ä¸€å¹´ä¸­çš„æ˜ŸæœŸ (<code>00</code>..<code>53</code>), æ¯å‘¨çš„å¼€å§‹æ˜¯æ˜ŸæœŸä¸€; <a href="https://www.sjkjc.com/mysql-ref/week/"><code>WEEK()</code></a> å‡½æ•°ä¸­çš„ mode 1</td></tr><tr><td><code>%V</code></td><td>ä¸€å¹´ä¸­çš„æ˜ŸæœŸ (<code>01</code>..<code>53</code>), æ¯å‘¨çš„å¼€å§‹æ˜¯æ˜ŸæœŸå¤©; <a href="https://www.sjkjc.com/mysql-ref/week/"><code>WEEK()</code></a> å‡½æ•°ä¸­çš„ mode 2, ç”¨äº <code>%X</code></td></tr><tr><td><code>%v</code></td><td>ä¸€å¹´ä¸­çš„æ˜ŸæœŸ (<code>01</code>..<code>53</code>), æ¯å‘¨çš„å¼€å§‹æ˜¯æ˜ŸæœŸä¸€; <a href="https://www.sjkjc.com/mysql-ref/week/"><code>WEEK()</code></a> å‡½æ•°ä¸­çš„ mode 3, ç”¨äº <code>%x</code></td></tr><tr><td><code>%W</code></td><td>æ˜ŸæœŸçš„åç§° (<code>Sunday</code>..<code>Saturday</code>)</td></tr><tr><td><code>%w</code></td><td>æ˜ŸæœŸä¸­çš„æ¯å¤© (<code>0</code>&#x3D;æ˜ŸæœŸå¤©..<code>6</code>&#x3D;æ˜ŸæœŸå…­)</td></tr><tr><td><code>%X</code></td><td>ä¸€å¹´ä¸­çš„æ˜ŸæœŸï¼Œæ¯å‘¨çš„å¼€å§‹æ˜¯æ˜ŸæœŸå¤©ï¼Œå››ä½æ•°å­—ï¼Œç”¨äº <code>%V</code></td></tr><tr><td><code>%x</code></td><td>ä¸€å¹´ä¸­çš„æ˜ŸæœŸï¼Œæ¯å‘¨çš„å¼€å§‹æ˜¯æ˜ŸæœŸä¸€ï¼Œå››ä½æ•°å­—ï¼Œç”¨äº <code>%v</code></td></tr><tr><td><code>%Y</code></td><td>å››ä½æ•°å­—å¹´ä»½</td></tr><tr><td><code>%y</code></td><td>ä¸¤ä½æ•°å­—å¹´ä»½</td></tr><tr><td><code>%%</code></td><td>è½¬ä¹‰ <code>%</code></td></tr><tr><td><code>%x</code></td><td><em><code>x</code></em>, ä¸Šé¢ä¸ºåˆ—ä¸¾çš„å…¶ä»–å­—ç¬¦</td></tr></tbody></table><p>1.<a href="https://www.runoob.com/sql/sql-dates.html">èœé¸ŸSQLæ•™ç¨‹å‚è€ƒ</a></p><p>2.<a href="https://www.sjkjc.com/mysql-ref/date_format/">MySQL æ•™ç¨‹DATE_FORMAT() å‡½æ•°å‚è€ƒ</a></p>]]></content>
    
    
    <categories>
      
      <category>Mysql</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mysql</tag>
      
      <tag>Date_format</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mysqlä¹‹count()ã€count(1)ã€count(åˆ—å)åŒºåˆ«</title>
    <link href="/2022/09/27/Mysql%E4%B9%8Bcount()%E3%80%81count(1)%E3%80%81count(%E5%88%97%E5%90%8D)%E5%8C%BA%E5%88%AB/"/>
    <url>/2022/09/27/Mysql%E4%B9%8Bcount()%E3%80%81count(1)%E3%80%81count(%E5%88%97%E5%90%8D)%E5%8C%BA%E5%88%AB/</url>
    
    <content type="html"><![CDATA[<h3 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h3><p>count(*)åŒ…æ‹¬äº†æ‰€æœ‰çš„åˆ—ï¼Œç›¸å½“äºè¡Œæ•°ï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ï¼Œ<code>ä¸ä¼šå¿½ç•¥åˆ—å€¼ä¸ºNULL</code></p><p>count(1)åŒ…æ‹¬äº†å¿½ç•¥æ‰€æœ‰åˆ—ï¼Œç”¨1ä»£è¡¨ä»£ç è¡Œï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ï¼Œ<code>ä¸ä¼šå¿½ç•¥åˆ—å€¼ä¸ºNULL</code></p><p>count(åˆ—å)åªåŒ…æ‹¬åˆ—åé‚£ä¸€åˆ—ï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ï¼Œ<code>ä¼šå¿½ç•¥åˆ—å€¼ä¸ºç©º</code>ï¼ˆç©ºå­—ç¬¦ä¸²&#x2F;0&#x2F;nullï¼‰çš„è®¡æ•°ï¼Œå³æŸä¸ªå­—æ®µå€¼ä¸ºNULLæ—¶ï¼Œä¸ç»Ÿè®¡ã€‚</p><blockquote><p>count(1)ï¼Œå…¶å®å°±æ˜¯è®¡ç®—ä¸€å…±æœ‰å¤šå°‘ç¬¦åˆæ¡ä»¶çš„è¡Œã€‚</p><p>1å¹¶ä¸æ˜¯è¡¨ç¤ºç¬¬ä¸€ä¸ªå­—æ®µï¼Œè€Œæ˜¯è¡¨ç¤ºä¸€ä¸ªå›ºå®šå€¼ã€‚å…¶å®å°±å¯ä»¥æƒ³æˆè¡¨ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªå­—æ®µï¼Œè¿™ä¸ªå­—æ®µå°±æ˜¯å›ºå®šå€¼1ï¼Œcount(1)ï¼Œå°±æ˜¯è®¡ç®—ä¸€å…±æœ‰å¤šå°‘ä¸ª1ã€‚</p></blockquote><h3 id="æ•ˆç‡"><a href="#æ•ˆç‡" class="headerlink" title="æ•ˆç‡"></a>æ•ˆç‡</h3><p class="note note-success">    <b>count(column)</b>ä¹Ÿæ˜¯ä¼šéå†æ•´å¼ è¡¨ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯å®ƒä¼šæ‹¿åˆ° column çš„å€¼ä»¥ååˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œç„¶åå†è¿›è¡Œç´¯åŠ ï¼Œé‚£ä¹ˆå¦‚æœé’ˆå¯¹ä¸»é”®éœ€è¦è§£æå†…å®¹ï¼Œå¦‚æœæ˜¯äºŒçº§ç´¢å¼•éœ€è¦å†æ¬¡æ ¹æ®ä¸»é”®è·å–å†…å®¹ï¼Œåˆ™è¦å¤šä¸€æ¬¡ IO æ“ä½œï¼Œæ‰€ä»¥ <b>count(column)</b>çš„æ€§èƒ½è‚¯å®šä¸å¦‚å‰ä¸¤è€…ï¼Œå¦‚æœæŒ‰ç…§æ•ˆç‡æ¯”è¾ƒçš„è¯ï¼š<b>count(*)=count(1)>count(primary key)>count(éä¸»é”®column)</b>ã€‚</p><h3 id="count-1-and-count"><a href="#count-1-and-count" class="headerlink" title="count(1) and count(*)"></a>count(1) and count(*)</h3><p>å½“è¡¨çš„æ•°æ®é‡å¤§äº›æ—¶ï¼Œå¯¹è¡¨ä½œåˆ†æä¹‹åï¼Œä½¿ç”¨count(1)è¿˜è¦æ¯”ä½¿ç”¨count()ç”¨æ—¶å¤šäº†ï¼ä»æ‰§è¡Œè®¡åˆ’æ¥çœ‹ï¼Œcount(1)å’Œcount()çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯åœ¨è¡¨åšè¿‡åˆ†æä¹‹åï¼Œcount(1)ä¼šæ¯”count(<em>)çš„ç”¨æ—¶å°‘äº›ï¼ˆ1wä»¥å†…æ•°æ®é‡ï¼‰ï¼Œä¸è¿‡å·®ä¸äº†å¤šå°‘ã€‚<br>å¦‚æœcount(1)æ˜¯èšç´¢å¼•,id,é‚£è‚¯å®šæ˜¯count(1)å¿«ã€‚ä½†æ˜¯å·®çš„å¾ˆå°çš„ã€‚å› ä¸ºcount(),è‡ªåŠ¨ä¼šä¼˜åŒ–æŒ‡å®šåˆ°é‚£ä¸€ä¸ªå­—æ®µã€‚æ‰€ä»¥æ²¡å¿…è¦å»count(1)ï¼Œç”¨count()ï¼Œsqlä¼šå¸®ä½ å®Œæˆä¼˜åŒ–çš„ å› æ­¤ï¼šcount(1)å’Œcount(</em>)åŸºæœ¬æ²¡æœ‰å·®åˆ«ï¼</p><h3 id="å®ä¾‹åˆ†æ"><a href="#å®ä¾‹åˆ†æ" class="headerlink" title="å®ä¾‹åˆ†æ"></a>å®ä¾‹åˆ†æ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs sql">mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> counttest(name <span class="hljs-type">char</span>(<span class="hljs-number">1</span>), age <span class="hljs-type">char</span>(<span class="hljs-number">2</span>));<br>Query OK, <span class="hljs-number">0</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.03</span> sec)<br><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> counttest <span class="hljs-keyword">values</span><br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> (<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;14&#x27;</span>),(<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;15&#x27;</span>), (<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;15&#x27;</span>),<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> (<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-keyword">NULL</span>), (<span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;16&#x27;</span>),<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> (<span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;17&#x27;</span>),<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> (<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-keyword">null</span>),<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span>(<span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br>Query OK, <span class="hljs-number">8</span> <span class="hljs-keyword">rows</span> affected (<span class="hljs-number">0.01</span> sec)<br>Records: <span class="hljs-number">8</span>  Duplicates: <span class="hljs-number">0</span>  Warnings: <span class="hljs-number">0</span><br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> counttest;<br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span><br><span class="hljs-operator">|</span> name <span class="hljs-operator">|</span> age  <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span><br><span class="hljs-operator">|</span> a    <span class="hljs-operator">|</span> <span class="hljs-number">14</span>   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> a    <span class="hljs-operator">|</span> <span class="hljs-number">15</span>   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> a    <span class="hljs-operator">|</span> <span class="hljs-number">15</span>   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> b    <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> b    <span class="hljs-operator">|</span> <span class="hljs-number">16</span>   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> c    <span class="hljs-operator">|</span> <span class="hljs-number">17</span>   <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> d    <span class="hljs-operator">|</span> <span class="hljs-keyword">NULL</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> e    <span class="hljs-operator">|</span>      <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+------+</span><br><span class="hljs-number">8</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br>mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">select</span> name, <span class="hljs-built_in">count</span>(name), <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>), <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>), <span class="hljs-built_in">count</span>(age), <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span>(age))<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">from</span> counttest<br>    <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">group</span> <span class="hljs-keyword">by</span> name;<br><span class="hljs-operator">+</span><span class="hljs-comment">------+-------------+----------+----------+------------+----------------------+</span><br><span class="hljs-operator">|</span> name <span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(name) <span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(<span class="hljs-number">1</span>) <span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>) <span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(age) <span class="hljs-operator">|</span> <span class="hljs-built_in">count</span>(<span class="hljs-keyword">distinct</span>(age)) <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+-------------+----------+----------+------------+----------------------+</span><br><span class="hljs-operator">|</span> a    <span class="hljs-operator">|</span>           <span class="hljs-number">3</span> <span class="hljs-operator">|</span>        <span class="hljs-number">3</span> <span class="hljs-operator">|</span>        <span class="hljs-number">3</span> <span class="hljs-operator">|</span>          <span class="hljs-number">3</span> <span class="hljs-operator">|</span>                    <span class="hljs-number">2</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> b    <span class="hljs-operator">|</span>           <span class="hljs-number">2</span> <span class="hljs-operator">|</span>        <span class="hljs-number">2</span> <span class="hljs-operator">|</span>        <span class="hljs-number">2</span> <span class="hljs-operator">|</span>          <span class="hljs-number">1</span> <span class="hljs-operator">|</span>                    <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> c    <span class="hljs-operator">|</span>           <span class="hljs-number">1</span> <span class="hljs-operator">|</span>        <span class="hljs-number">1</span> <span class="hljs-operator">|</span>        <span class="hljs-number">1</span> <span class="hljs-operator">|</span>          <span class="hljs-number">1</span> <span class="hljs-operator">|</span>                    <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> d    <span class="hljs-operator">|</span>           <span class="hljs-number">1</span> <span class="hljs-operator">|</span>        <span class="hljs-number">1</span> <span class="hljs-operator">|</span>        <span class="hljs-number">1</span> <span class="hljs-operator">|</span>          <span class="hljs-number">0</span> <span class="hljs-operator">|</span>                    <span class="hljs-number">0</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">|</span> e    <span class="hljs-operator">|</span>           <span class="hljs-number">1</span> <span class="hljs-operator">|</span>        <span class="hljs-number">1</span> <span class="hljs-operator">|</span>        <span class="hljs-number">1</span> <span class="hljs-operator">|</span>          <span class="hljs-number">1</span> <span class="hljs-operator">|</span>                    <span class="hljs-number">1</span> <span class="hljs-operator">|</span><br><span class="hljs-operator">+</span><span class="hljs-comment">------+-------------+----------+----------+------------+----------------------+</span><br><span class="hljs-number">5</span> <span class="hljs-keyword">rows</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<span class="hljs-keyword">COPY</span><br><br></code></pre></td></tr></table></figure><p>1<a href="https://blog.csdn.net/iFuMI/article/details/77920767">å‚è€ƒ1</a></p><p>2<a href="https://zhidao.baidu.com/question/1244677039964272939">å‚è€ƒ2</a></p><p>3<a href="https://www.ikeguang.com/article/713">å‚è€ƒ3</a></p>]]></content>
    
    
    <categories>
      
      <category>Mysql</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mysql</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>RedisåŸºç¡€çŸ¥è¯†</title>
    <link href="/2022/09/26/Redis%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2022/09/26/Redis%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="RedisåŸºç¡€çŸ¥è¯†"><a href="#RedisåŸºç¡€çŸ¥è¯†" class="headerlink" title="RedisåŸºç¡€çŸ¥è¯†"></a>RedisåŸºç¡€çŸ¥è¯†</h1><div align="center">     <a title="Github Total Stars" target="_blank" href="https://i-xiaoxin.github.io">        <img src="https://img.shields.io/github/stars/i-xiaoxin/i-xiaoxin.github.io?affiliations=OWNER&color=success&logo=github&style=plastic" />    </a>    <a title="Github Followers" target="_blank" href="https://i-xiaoxin.github.io">        <img src="https://img.shields.io/github/followers/i-xiaoxin?color=success&logo=github&style=plastic" />    </a>    <a title="Target " target="_blank" href="https://i-xiaoxin.github.io">        <img src="https://img.shields.io/github/languages/top/i-xiaoxin/i-xiaoxin.github.io?color=success&label=java&logo=github&style=plastic" />    </a></div><h2 id="1-Redis-ç®€ä»‹"><a href="#1-Redis-ç®€ä»‹" class="headerlink" title="1. Redis ç®€ä»‹"></a>1. Redis ç®€ä»‹</h2><p>â—† Redis ç®€ä»‹ï¼ˆNoSQLæ¦‚å¿µã€Redisæ¦‚å¿µï¼‰</p><p>â—† Redis çš„ä¸‹è½½ä¸å®‰è£…</p><p>â—† Redis çš„åŸºæœ¬æ“ä½œ</p><h3 id="1-1-NoSQLæ¦‚å¿µ"><a href="#1-1-NoSQLæ¦‚å¿µ" class="headerlink" title="1.1 NoSQLæ¦‚å¿µ"></a>1.1 NoSQLæ¦‚å¿µ</h3><h4 id="1-1-1-é—®é¢˜ç°è±¡"><a href="#1-1-1-é—®é¢˜ç°è±¡" class="headerlink" title="1.1.1 é—®é¢˜ç°è±¡"></a>1.1.1 é—®é¢˜ç°è±¡</h4><p>åœ¨è®²è§£NoSQLçš„æ¦‚å¿µä¹‹å‰å‘¢ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªç°è±¡ï¼š</p><p>ï¼ˆ1ï¼‰é—®é¢˜ç°è±¡</p><p>æ¯å¹´åˆ°äº†è¿‡å¹´æœŸé—´ï¼Œå¤§å®¶éƒ½ä¼šè‡ªè§‰è‡ªå‘çš„ç»„ç»‡ä¸€åœºæ´»åŠ¨ï¼Œå«åšæ˜¥è¿ï¼ä»¥å‰æˆ‘ä»¬ä¹°ç¥¨éƒ½æ˜¯åˆ°ç«è½¦ç«™æ’é˜Ÿï¼Œåæ¥å‘¢æœ‰äº†12306ï¼Œæœ‰äº†ä»–ä»¥åå°±æ›´æ–¹ä¾¿äº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç½‘ä¸Šä¹°ç¥¨ï¼Œä½†æ˜¯å¸¦æ¥çš„é—®é¢˜ï¼Œå¤§å®¶ä¹Ÿå¾ˆæ¸…æ¥šï¼Œæ˜¥èŠ‚æœŸé—´ä¹°ç¥¨è¿›ä¸å»ï¼Œè¿›å»äº†åˆ·ä¸ç€ç¥¨ã€‚ä»€ä¹ˆåŸå› å‘¢ï¼Œäººå¤ªå¤šäº†ï¼</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/12306-%E6%B7%98%E5%AE%9D.png"></p><p>é™¤äº†è¿™ç§åšé“è·¯çš„ï¼Œå®ƒç³»ç»Ÿåšçš„ä¸ä¸“ä¸šä»¥å¤–ï¼Œè¿˜æœ‰é©¬çˆ¸çˆ¸åšçš„æ·˜å®ï¼Œå®ƒé¢ä¸´ä¸€æ ·çš„é—®é¢˜ã€‚æ·˜å®ä¹Ÿå´©ï¼Œä¹Ÿæ˜¯ç”¨æˆ·é‡å¤ªå¤§ï¼ä½œä¸ºæˆ‘ä»¬æ•´ä¸ªç”µå•†ç•Œçš„ä¸œå“¥æ¥è¯´ï¼Œä»–ç¬¬ä¸€æ¬¡åšå›¾ä¹¦ä¿ƒé”€çš„æ—¶å€™ï¼Œä¹Ÿé‡åˆ°äº†æœåŠ¡å™¨å´©æ‰çš„è¿™æ ·ä¸€ä¸ªç°è±¡ï¼ŒåŸå› åŒæ ·æ˜¯å› ä¸ºç”¨æˆ·é‡å¤ªå¤§ï¼<img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E4%BA%AC%E4%B8%9C%E7%BF%BB%E8%BD%A6%E6%A1%88.png"></p><p>ï¼ˆ2ï¼‰ç°è±¡ç‰¹å¾</p><p>å†æ¥çœ‹è¿™å‡ ä¸ªç°è±¡ï¼Œæœ‰ä¸¤ä¸ªéå¸¸ç›¸ä¼¼çš„ç‰¹å¾ï¼š</p><p>ç¬¬ä¸€ï¼Œç”¨æˆ·æ¯”è¾ƒå¤šï¼Œæµ·é‡ç”¨æˆ·</p><p>ç¬¬äºŒï¼Œé«˜å¹¶å‘</p><p>è¿™ä¸¤ä¸ªç°è±¡å‡ºç°ä»¥åï¼Œå¯¹åº”çš„å°±ä¼šé€ æˆæˆ‘ä»¬çš„æœåŠ¡å™¨ç˜«ç—ªã€‚æ ¸å¿ƒæœ¬è´¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å¹¶ä¸æ˜¯æˆ‘ä»¬çš„åº”ç”¨æœåŠ¡å™¨ï¼Œè€Œæ˜¯æˆ‘ä»¬çš„å…³ç³»å‹æ•°æ®åº“ã€‚å…³ç³»å‹æ•°æ®åº“æ‰æ˜¯æœ€ç»ˆçš„ç½ªé­ç¥¸é¦–ï¼</p><p>ï¼ˆ3ï¼‰é€ æˆåŸå› </p><p>ä»€ä¹ˆæ ·çš„åŸå› å¯¼è‡´çš„æ•´ä¸ªç³»ç»Ÿå´©æ‰çš„å‘¢ï¼š</p><p>1.æ€§èƒ½ç“¶é¢ˆï¼šç£ç›˜IOæ€§èƒ½ä½ä¸‹</p><p>å…³ç³»å‹æ•°æ®åº“èœå­˜å–æ•°æ®çš„æ—¶å€™å’Œè¯»å–æ•°æ®çš„æ—¶å€™ä»–è¦èµ°ç£ç›˜IOã€‚ç£ç›˜è¿™ä¸ªæ€§èƒ½æœ¬èº«æ˜¯æ¯”è¾ƒä½çš„ã€‚</p><p>2.æ‰©å±•ç“¶é¢ˆï¼šæ•°æ®å…³ç³»å¤æ‚ï¼Œæ‰©å±•æ€§å·®ï¼Œä¸ä¾¿äºå¤§è§„æ¨¡é›†ç¾¤</p><p>æˆ‘ä»¬è¯´å…³ç³»å‹æ•°æ®åº“ï¼Œå®ƒé‡Œé¢è¡¨ä¸è¡¨ä¹‹é—´çš„å…³ç³»éå¸¸å¤æ‚ï¼Œä¸çŸ¥é“å¤§å®¶èƒ½ä¸èƒ½æƒ³è±¡ä¸€ç‚¹ï¼Œå°±æ˜¯ä¸€å¼ è¡¨ï¼Œé€šè¿‡å®ƒçš„å¤–é”®å…³è”äº†ä¸ƒå…«å¼ è¡¨ï¼Œè¿™ä¸ƒå…«å¼ è¡¨åˆé€šè¿‡å¥¹çš„å¤–ä»¶ï¼Œæ¯å¼ åˆå…³è”äº†å››äº”å¼ è¡¨ã€‚ä½ æƒ³æƒ³ï¼ŒæŸ¥è¯¢ä¸€ä¸‹ï¼Œä½ è¦æƒ³æ‹¿åˆ°æ•°æ®ï¼Œä½ å°±è¦ä»Aåˆ°Bã€Båˆ°Cã€Cåˆ°Dçš„ä¸€ç›´è¿™ä¹ˆå…³è”ä¸‹å»ï¼Œæœ€ç»ˆéå¸¸å½±å“æŸ¥è¯¢çš„æ•ˆç‡ã€‚åŒæ—¶ï¼Œä½ æƒ³æ‰©å±•ä¸‹ï¼Œä¹Ÿå¾ˆéš¾!</p><p>ï¼ˆ4ï¼‰è§£å†³æ€è·¯</p><p>é¢å¯¹è¿™æ ·çš„ç°è±¡ï¼Œæˆ‘ä»¬è¦æƒ³è§£å†³æ€ä¹ˆç‰ˆå‘¢ã€‚ä¸¤æ–¹é¢ï¼š</p><p>ä¸€ï¼Œé™ä½ç£ç›˜IOæ¬¡æ•°ï¼Œè¶Šä½è¶Šå¥½ã€‚</p><p>äºŒï¼Œå»é™¤æ•°æ®é—´å…³ç³»ï¼Œè¶Šç®€å•è¶Šå¥½ã€‚</p><p>é™ä½ç£ç›˜IOæ¬¡æ•°ï¼Œè¶Šä½è¶Šå¥½ï¼Œæ€ä¹ˆæï¼Ÿæˆ‘ä¸ç”¨ä½ ç£ç›˜ä¸å°±è¡Œäº†å—ï¼Ÿäºæ˜¯ï¼Œå†…å­˜å­˜å‚¨çš„æ€æƒ³å°±æå‡ºæ¥äº†ï¼Œæˆ‘æ•°æ®ä¸æ”¾åˆ°ä½ ç£ç›˜é‡Œè¾¹ï¼Œæ”¾å†…å­˜é‡Œï¼Œè¿™æ ·æ˜¯ä¸æ˜¯æ•ˆç‡å°±é«˜äº†ã€‚</p><p>ç¬¬äºŒï¼Œä½ çš„æ•°æ®å…³ç³»å¾ˆå¤æ‚ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿå¹²è„†ç®€å•ç‚¹ï¼Œæˆ‘æ–­å¼€ä½ çš„å…³ç³»ï¼Œæˆ‘ä¸å­˜å…³ç³»äº†ï¼Œæˆ‘åªå­˜æ•°æ®ï¼Œè¿™æ ·ä¸å°±æ²¡è¿™äº‹äº†å—ï¼Ÿ</p><p>æŠŠè¿™ä¸¤ä¸ªç‰¹å¾ä¸€åˆå¹¶ä¸€èµ·ï¼Œå°±å‡ºæ¥äº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼šNoSQL</p><h4 id="1-1-2-NoSQLçš„æ¦‚å¿µ"><a href="#1-1-2-NoSQLçš„æ¦‚å¿µ" class="headerlink" title="1.1.2 NoSQLçš„æ¦‚å¿µ"></a>1.1.2 NoSQLçš„æ¦‚å¿µ</h4><p>ï¼ˆ1ï¼‰æ¦‚å¿µ</p><p>NoSQLï¼šå³ Not-Only SQLï¼ˆ æ³›æŒ‡éå…³ç³»å‹çš„æ•°æ®åº“ï¼‰ï¼Œä½œä¸ºå…³ç³»å‹æ•°æ®åº“çš„è¡¥å……ã€‚ ä½œç”¨ï¼šåº”å¯¹åŸºäºæµ·é‡ç”¨æˆ·å’Œæµ·é‡æ•°æ®å‰æä¸‹çš„æ•°æ®å¤„ç†é—®é¢˜ã€‚</p><p>ä»–è¯´è¿™å¥è¯è¯´çš„éå¸¸å®¢æ°”ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯æˆ‘ä»¬æ•°æ®å­˜å‚¨è¦ç”¨SQLï¼Œä½†æ˜¯å‘¢å¯ä»¥ä¸ä»…ä»…ç”¨SQLï¼Œè¿˜å¯ä»¥ç”¨åˆ«çš„ä¸œè¥¿ï¼Œé‚£åˆ«çš„ä¸œè¥¿å«ä»€ä¹ˆå‘¢ï¼Ÿäºæ˜¯ä»–å®šä¹‰äº†ä¸€å¥è¯å«åšNoSQLã€‚è¿™ä¸ªæ„æ€å°±æ˜¯è¯´æˆ‘ä»¬å­˜å‚¨æ•°æ®ï¼Œå¯ä»¥ä¸å…‰ä½¿ç”¨SQLï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨éSQLçš„è¿™ç§å­˜å‚¨æ–¹æ¡ˆï¼Œè¿™å°±æ˜¯æ‰€è°“çš„NoSQLã€‚</p><p>ï¼ˆ2ï¼‰ç‰¹å¾</p><p>å¯æ‰©å®¹ï¼Œå¯ä¼¸ç¼©ã€‚SQLæ•°æ®å…³ç³»è¿‡äºå¤æ‚ï¼Œä½ æ‰©å®¹ä¸€ä¸‹éš¾åº¦å¾ˆé«˜ï¼Œé‚£æˆ‘ä»¬Nosql è¿™ç§çš„ï¼Œä¸å­˜å…³ç³»ï¼Œæ‰€ä»¥å®ƒçš„æ‰©å®¹å°±ç®€å•ä¸€äº›ã€‚</p><p>å¤§æ•°æ®é‡ä¸‹é«˜æ€§èƒ½ã€‚åŒ…æ•°æ®éå¸¸å¤šçš„æ—¶å€™ï¼Œå®ƒçš„æ€§èƒ½é«˜ï¼Œå› ä¸ºä½ ä¸èµ°ç£ç›˜IOï¼Œä½ èµ°çš„æ˜¯å†…å­˜ï¼Œæ€§èƒ½è‚¯å®šè¦æ¯”ç£ç›˜IOçš„æ€§èƒ½å¿«ä¸€äº›ã€‚</p><p>çµæ´»çš„æ•°æ®æ¨¡å‹ã€é«˜å¯ç”¨ã€‚ä»–è®¾è®¡äº†è‡ªå·±çš„ä¸€äº›æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œè¿™æ ·èƒ½ä¿è¯æ•ˆç‡ä¸Šæ¥è¯´æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œæœ€åä¸€ä¸ªé«˜å¯ç”¨ï¼Œæˆ‘ä»¬ç­‰åˆ°é›†ç¾¤å†…éƒ¨åˆ†å†å»å®ƒï¼</p><p>ï¼ˆ3ï¼‰å¸¸è§ Nosql æ•°æ®åº“</p><p>ç›®å‰å¸‚é¢ä¸Šå¸¸è§çš„Nosqläº§å“ï¼šRedisã€memcacheã€HBaseã€MongoDB</p><p>ï¼ˆ4ï¼‰åº”ç”¨åœºæ™¯-ç”µå•†ä¸ºä¾‹</p><p>æˆ‘ä»¬ä»¥ç”µå•†ä¸ºä¾‹ï¼Œæ¥çœ‹ä¸€çœ‹ä»–åœ¨è¿™é‡Œè¾¹èµ·åˆ°çš„ä½œç”¨ã€‚</p><p>ç¬¬ä¸€ç±»ï¼Œåœ¨ç”µå•†ä¸­æˆ‘ä»¬çš„åŸºç¡€æ•°æ®ä¸€å®šè¦å­˜å‚¨èµ·æ¥ï¼Œæ¯”å¦‚è¯´å•†å“åç§°ï¼Œä»·æ ¼ï¼Œç”Ÿäº§å‚å•†ï¼Œè¿™äº›éƒ½å±äºåŸºç¡€æ•°æ®ï¼Œè¿™äº›æ•°æ®æ”¾åœ¨MySQLæ•°æ®åº“ã€‚</p><p>ç¬¬äºŒç±»ï¼Œæˆ‘ä»¬å•†å“çš„é™„åŠ ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´ï¼Œä½ ä¹°äº†ä¸€ä¸ªå•†å“è¯„ä»·äº†ä¸€ä¸‹ï¼Œè¿™ä¸ªè¯„ä»·å®ƒä¸å±äºå•†å“æœ¬èº«ã€‚å°±åƒä½ ä¹°ä¸€ä¸ªè‹¹æœï¼Œâ€œè¿™ä¸ªè‹¹æœå¾ˆå¥½åƒâ€å°±æ˜¯è¯„è®ºï¼Œä½†æ˜¯ä½ èƒ½è¯´å¾ˆå¥½åƒæ˜¯è¿™ä¸ªå•†å“çš„å±æ€§å˜›ï¼Ÿä¸èƒ½è¿™ä¹ˆè¯´ï¼Œé‚£åªæ˜¯ä¸€ä¸ªäººå¯¹ä»–çš„è¯„è®ºè€Œå·²ã€‚è¿™ä¸€ç±»æ•°æ®å‘¢ï¼Œæˆ‘ä»¬æ”¾åœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹ï¼Œæˆ‘ä»¬æ”¾åˆ°MongoDBã€‚å®ƒä¹Ÿå¯ä»¥ç”¨æ¥åŠ å¿«æˆ‘ä»¬çš„è®¿é—®ï¼Œä»–å±äºNoSQLçš„ä¸€ç§ã€‚</p><p>ç¬¬ä¸‰ï¼Œå›¾ç‰‡å†…çš„ä¿¡æ¯ã€‚æ³¨æ„è¿™ç§ä¿¡æ¯ç›¸å¯¹æ¥è¯´æ¯”è¾ƒå›ºå®šï¼Œä»–æœ‰ä¸“ç”¨çš„å­˜å‚¨åŒºï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨æ–‡ä»¶ç³»ç»Ÿæ¥å­˜å‚¨ã€‚è‡³äºæ˜¯ä¸æ˜¯åˆ†å¸ƒå¼ï¼Œè¦çœ‹ä½ çš„ç³»ç»Ÿçš„ä¸€ä¸ªæ•´ä¸ª   ç“¶é¢ˆ   äº†ï¼Ÿå¦‚æœè¯´ä½ å‘ç°ä½ éœ€è¦åšåˆ†å¸ƒå¼ï¼Œé‚£å°±åšï¼Œä¸éœ€è¦çš„è¯ï¼Œä¸€å°ä¸»æœºå°±æå®šäº†ã€‚</p><p>ç¬¬å››ï¼Œæœç´¢å…³é”®å­—ã€‚ä¸ºäº†åŠ å¿«æœç´¢ï¼Œæˆ‘ä»¬ä¼šç”¨åˆ°ä¸€äº›æŠ€æœ¯ï¼Œæœ‰äº›äººå¯èƒ½äº†è§£è¿‡ï¼Œåƒåˆ†ESã€Luceneã€solréƒ½å±äºæœç´¢æŠ€æœ¯ã€‚é‚£è¯´çš„è¿™ä¹ˆçƒ­é—¹ï¼Œæˆ‘ä»¬çš„ç”µå•†è§£å†³æ–¹æ¡ˆä¸­è¿˜æ²¡å‡ºç°æˆ‘ä»¬çš„rediså•Šï¼æ³¨æ„ç¬¬äº”ç±»ä¿¡æ¯ã€‚</p><p>ç¬¬äº”ï¼Œçƒ­ç‚¹ä¿¡æ¯ã€‚è®¿é—®é¢‘åº¦æ¯”è¾ƒé«˜çš„ä¿¡æ¯ï¼Œè¿™ç§ä¸œè¥¿çš„ç¬¬äºŒç‰¹å¾å°±æ˜¯å®ƒå…·æœ‰æ³¢æ®µæ€§ã€‚æ¢å¥è¯è¯´ä»–ä¸æ˜¯ç¨³å®šçš„ï¼Œå®ƒå…·æœ‰ä¸€ä¸ªæ—¶æ•ˆæ€§çš„ã€‚é‚£ä¹ˆè¿™ç±»ä¿¡æ¯æ”¾å“ªå„¿äº†ï¼Œæ”¾åˆ°æˆ‘ä»¬çš„redisè¿™ä¸ªè§£å†³æ–¹æ¡ˆä¸­æ¥è¿›è¡Œå­˜å‚¨ã€‚</p><p>å…·ä½“çš„æˆ‘ä»¬ä»æˆ‘ä»¬çš„æ•´ä¸ªæ•°æ®å­˜å‚¨ç»“æ„çš„è®¾è®¡ä¸Šæ¥çœ‹ä¸€ä¸‹ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E7%94%B5%E5%95%86%E5%9C%BA%E6%99%AF%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88.png"></p><p>æˆ‘ä»¬çš„åŸºç¡€æ•°æ®éƒ½å­˜MySQL,åœ¨å®ƒçš„åŸºç¡€ä¹‹ä¸Šï¼Œæˆ‘ä»¬æŠŠå®ƒè¿åœ¨ä¸€å—å„¿ï¼ŒåŒæ—¶å¯¹å¤–æä¾›æœåŠ¡ã€‚å‘ä¸Šèµ°ï¼Œæœ‰ä¸€äº›ä¿¡æ¯åŠ è½½å®Œä»¥å,è¦æ”¾åˆ°æˆ‘ä»¬çš„MongoDBä¸­ã€‚è¿˜æœ‰ä¸€ç±»ä¿¡æ¯ï¼Œæˆ‘ä»¬æ”¾åˆ°æˆ‘ä»¬ä¸“ç”¨çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ˆæ¯”å¦‚å›¾ç‰‡ï¼‰ï¼Œå°±æ”¾åˆ°æˆ‘ä»¬çš„è¿™ä¸ªæœç´¢ä¸“ç”¨çš„ï¼Œå¦‚Luceneã€solråŠé›†ç¾¤é‡Œè¾¹ï¼Œæˆ–è€…ç”¨ESçš„è¿™ç§æŠ€æœ¯é‡Œè¾¹ã€‚é‚£ä¹ˆå‰©ä¸‹æ¥çš„çƒ­ç‚¹ä¿¡æ¯ï¼Œæ”¾åˆ°æˆ‘ä»¬çš„redisé‡Œé¢ã€‚</p><h3 id="1-2-Redisæ¦‚å¿µ"><a href="#1-2-Redisæ¦‚å¿µ" class="headerlink" title="1.2 Redisæ¦‚å¿µ"></a>1.2 Redisæ¦‚å¿µ</h3><h4 id="1-2-1-redisæ¦‚å¿µ"><a href="#1-2-1-redisæ¦‚å¿µ" class="headerlink" title="1.2.1 redisæ¦‚å¿µ"></a>1.2.1 redisæ¦‚å¿µ</h4><p>æ¦‚å¿µï¼šRedis (REmote DIctionary Server) æ˜¯ç”¨ C è¯­è¨€å¼€å‘çš„ä¸€ä¸ªå¼€æºçš„é«˜æ€§èƒ½é”®å€¼å¯¹ï¼ˆkey-valueï¼‰æ•°æ®åº“ã€‚</p><p>ç‰¹å¾ï¼š</p><p>ï¼ˆ1ï¼‰æ•°æ®é—´æ²¡æœ‰å¿…ç„¶çš„å…³è”å…³ç³»ï¼›</p><p>ï¼ˆ2ï¼‰å†…éƒ¨é‡‡ç”¨å•çº¿ç¨‹æœºåˆ¶è¿›è¡Œå·¥ä½œï¼›</p><p>ï¼ˆ3ï¼‰é«˜æ€§èƒ½ã€‚å®˜æ–¹æä¾›æµ‹è¯•æ•°æ®ï¼Œ50ä¸ªå¹¶å‘æ‰§è¡Œ100000 ä¸ªè¯·æ±‚,è¯»çš„é€Ÿåº¦æ˜¯110000 æ¬¡&#x2F;s,å†™çš„é€Ÿåº¦æ˜¯81000æ¬¡&#x2F;sã€‚</p><p>ï¼ˆ4ï¼‰å¤šæ•°æ®ç±»å‹æ”¯æŒ</p><p>å­—ç¬¦ä¸²ç±»å‹ï¼Œstring  list</p><p>åˆ—è¡¨ç±»å‹ï¼Œhash  set</p><p>æ•£åˆ—ç±»å‹ï¼Œzset&#x2F;sorted_set</p><p>é›†åˆç±»å‹</p><p>æœ‰åºé›†åˆç±»å‹</p><p>ï¼ˆ5ï¼‰æ”¯æŒæŒä¹…åŒ–ï¼Œå¯ä»¥è¿›è¡Œæ•°æ®ç¾éš¾æ¢å¤</p><h4 id="1-2-2-redisçš„åº”ç”¨åœºæ™¯"><a href="#1-2-2-redisçš„åº”ç”¨åœºæ™¯" class="headerlink" title="1.2.2 redisçš„åº”ç”¨åœºæ™¯"></a>1.2.2 redisçš„åº”ç”¨åœºæ™¯</h4><p>ï¼ˆ1ï¼‰ä¸ºçƒ­ç‚¹æ•°æ®åŠ é€ŸæŸ¥è¯¢ï¼ˆä¸»è¦åœºæ™¯ï¼‰ã€‚å¦‚çƒ­ç‚¹å•†å“ã€çƒ­ç‚¹æ–°é—»ã€çƒ­ç‚¹èµ„è®¯ã€æ¨å¹¿ç±»ç­‰é«˜è®¿é—®é‡ä¿¡æ¯ç­‰ã€‚</p><p>ï¼ˆ2ï¼‰å³æ—¶ä¿¡æ¯æŸ¥è¯¢ã€‚å¦‚å„ä½æ’è¡Œæ¦œã€å„ç±»ç½‘ç«™è®¿é—®ç»Ÿè®¡ã€å…¬äº¤åˆ°ç«™ä¿¡æ¯ã€åœ¨çº¿äººæ•°ä¿¡æ¯ï¼ˆèŠå¤©å®¤ã€ç½‘ç«™ï¼‰ã€è®¾å¤‡ä¿¡å·ç­‰ã€‚</p><p>ï¼ˆ3ï¼‰æ—¶æ•ˆæ€§ä¿¡æ¯æ§åˆ¶ã€‚å¦‚éªŒè¯ç æ§åˆ¶ã€æŠ•ç¥¨æ§åˆ¶ç­‰ã€‚</p><p>ï¼ˆ4ï¼‰åˆ†å¸ƒå¼æ•°æ®å…±äº«ã€‚å¦‚åˆ†å¸ƒå¼é›†ç¾¤æ¶æ„ä¸­çš„ session åˆ†ç¦»<br>æ¶ˆæ¯é˜Ÿåˆ—.</p><h3 id="1-3-Redis-çš„ä¸‹è½½ä¸å®‰è£…"><a href="#1-3-Redis-çš„ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="1.3 Redis çš„ä¸‹è½½ä¸å®‰è£…"></a>1.3 Redis çš„ä¸‹è½½ä¸å®‰è£…</h3><p>åæœŸæ‰€æœ‰èµ„æ–™åˆ†4ä¸­ä¸åŒè‰²å—æ˜¾ç¤ºï¼Œè¯¦æƒ…å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E7%BA%A6%E5%AE%9A%E6%A0%BC%E5%BC%8F.png"></p><h4 id="1-3-1-Redis-çš„ä¸‹è½½ä¸å®‰è£…"><a href="#1-3-1-Redis-çš„ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="1.3.1 Redis çš„ä¸‹è½½ä¸å®‰è£…"></a>1.3.1 Redis çš„ä¸‹è½½ä¸å®‰è£…</h4><p>å­¦ä¹ ç¯å¢ƒå‡åŸºäºCenter OS7å®‰è£…Redisã€‚</p><p>ï¼ˆ1)ä¸‹è½½Redis</p><p>ä¸‹è½½å®‰è£…åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget http://download.redis.io/releases/redis-5.0.0.tar.gz<br></code></pre></td></tr></table></figure><p>è§£å‹å®‰è£…åŒ…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">tar â€“xvf redis-5.0.0.tar.gz<br></code></pre></td></tr></table></figure><p>å®‰è£…c++ç¯å¢ƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">yum install gcc-c++<br></code></pre></td></tr></table></figure><p>ç¼–è¯‘ï¼ˆåœ¨è§£å‹çš„ç›®å½•ä¸­æ‰§è¡Œï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">make<br></code></pre></td></tr></table></figure><p>å®‰è£…ï¼ˆåœ¨è§£å‹çš„ç›®å½•ä¸­æ‰§è¡Œï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">make install PREFIX=/usr/local/redis<br></code></pre></td></tr></table></figure><p>æ‹·è´å¹¶ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cp</span> /usr/upload/redis-3.0.7/redis.conf /usr/local/redis/bin<br><br><span class="hljs-comment"># åå°å¯åŠ¨</span><br> vim /usr/local/redis/bin/redis.confï¼š<br>               daemonize <span class="hljs-built_in">yes</span><br></code></pre></td></tr></table></figure><p>å¯åŠ¨å’Œå…³é—­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#å¯åŠ¨</span><br>./redis-server redis.conf<br><span class="hljs-comment">#å…³é—­</span><br>./redis-cli -h 127.0.0.1 -p 6379 shutdown<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å®‰è£… Redis</p><p>redis-serverï¼ŒæœåŠ¡å™¨å¯åŠ¨å‘½ä»¤ å®¢æˆ·ç«¯å¯åŠ¨å‘½ä»¤</p><p>redis-cliï¼Œredisæ ¸å¿ƒé…ç½®æ–‡ä»¶</p><p>redis.confï¼ŒRDBæ–‡ä»¶æ£€æŸ¥å·¥å…·ï¼ˆå¿«ç…§æŒä¹…åŒ–æ–‡ä»¶ï¼‰</p><p>redis-check-dumpï¼ŒAOFæ–‡ä»¶ä¿®å¤å·¥å…·</p><p>redis-check-aof</p><h3 id="1-4-RedisæœåŠ¡å™¨å¯åŠ¨"><a href="#1-4-RedisæœåŠ¡å™¨å¯åŠ¨" class="headerlink" title="1.4 RedisæœåŠ¡å™¨å¯åŠ¨"></a>1.4 RedisæœåŠ¡å™¨å¯åŠ¨</h3><h4 id="1-4-1-RedisæœåŠ¡å™¨å¯åŠ¨"><a href="#1-4-1-RedisæœåŠ¡å™¨å¯åŠ¨" class="headerlink" title="1.4.1 RedisæœåŠ¡å™¨å¯åŠ¨"></a>1.4.1 RedisæœåŠ¡å™¨å¯åŠ¨</h4><p>å¯åŠ¨æœåŠ¡å™¨â€”â€”å‚æ•°å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">redis-server [--port port]<br></code></pre></td></tr></table></figure><p>èŒƒä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">redis-server --port 6379<br></code></pre></td></tr></table></figure><p>å¯åŠ¨æœåŠ¡å™¨â€”â€”é…ç½®æ–‡ä»¶å¯åŠ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">redis-server config_file_name<br></code></pre></td></tr></table></figure><p>èŒƒä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">redis-server redis.conf<br></code></pre></td></tr></table></figure><h4 id="1-4-2-Rediså®¢æˆ·ç«¯å¯åŠ¨"><a href="#1-4-2-Rediså®¢æˆ·ç«¯å¯åŠ¨" class="headerlink" title="1.4.2 Rediså®¢æˆ·ç«¯å¯åŠ¨"></a>1.4.2 Rediså®¢æˆ·ç«¯å¯åŠ¨</h4><p>å¯åŠ¨å®¢æˆ·ç«¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">redis-cli [-h host] [-p port]<br></code></pre></td></tr></table></figure><p>èŒƒ ä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">redis-cli â€“h 61.129.65.248 â€“p 6384<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæœåŠ¡å™¨å¯åŠ¨æŒ‡å®šç«¯å£ä½¿ç”¨çš„æ˜¯â€“portï¼Œå®¢æˆ·ç«¯å¯åŠ¨æŒ‡å®šç«¯å£ä½¿ç”¨çš„æ˜¯-pã€‚-çš„æ•°é‡ä¸åŒã€‚</p><h4 id="1-4-3-RedisåŸºç¡€ç¯å¢ƒè®¾ç½®çº¦å®š"><a href="#1-4-3-RedisåŸºç¡€ç¯å¢ƒè®¾ç½®çº¦å®š" class="headerlink" title="1.4.3 RedisåŸºç¡€ç¯å¢ƒè®¾ç½®çº¦å®š"></a>1.4.3 RedisåŸºç¡€ç¯å¢ƒè®¾ç½®çº¦å®š</h4><p>åˆ›å»ºé…ç½®æ–‡ä»¶å­˜å‚¨ç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> conf<br></code></pre></td></tr></table></figure><p>åˆ›å»ºæœåŠ¡å™¨æ–‡ä»¶å­˜å‚¨ç›®å½•ï¼ˆåŒ…å«æ—¥å¿—ã€æ•°æ®ã€ä¸´æ—¶é…ç½®æ–‡ä»¶ç­‰ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> data<br></code></pre></td></tr></table></figure><p>åˆ›å»ºå¿«é€Ÿè®¿é—®é“¾æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">ln</span> -s redis-5.0.0 redis<br></code></pre></td></tr></table></figure><h3 id="1-5-é…ç½®æ–‡ä»¶å¯åŠ¨ä¸å¸¸ç”¨é…ç½®"><a href="#1-5-é…ç½®æ–‡ä»¶å¯åŠ¨ä¸å¸¸ç”¨é…ç½®" class="headerlink" title="1.5 é…ç½®æ–‡ä»¶å¯åŠ¨ä¸å¸¸ç”¨é…ç½®"></a>1.5 é…ç½®æ–‡ä»¶å¯åŠ¨ä¸å¸¸ç”¨é…ç½®</h3><h4 id="1-5-1-æœåŠ¡å™¨ç«¯è®¾å®š"><a href="#1-5-1-æœåŠ¡å™¨ç«¯è®¾å®š" class="headerlink" title="1.5.1 æœåŠ¡å™¨ç«¯è®¾å®š"></a>1.5.1 æœåŠ¡å™¨ç«¯è®¾å®š</h4><p>è®¾ç½®æœåŠ¡å™¨ä»¥å®ˆæŠ¤è¿›ç¨‹çš„æ–¹å¼è¿è¡Œï¼Œå¼€å¯åæœåŠ¡å™¨æ§åˆ¶å°ä¸­å°†æ‰“å°æœåŠ¡å™¨è¿è¡Œä¿¡æ¯ï¼ˆåŒæ—¥å¿—å†…å®¹ç›¸åŒï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">daemonize <span class="hljs-built_in">yes</span>|no<br></code></pre></td></tr></table></figure><p>ç»‘å®šä¸»æœºåœ°å€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">bind</span> ip<br></code></pre></td></tr></table></figure><p>è®¾ç½®æœåŠ¡å™¨ç«¯å£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">port port<br></code></pre></td></tr></table></figure><p>è®¾ç½®æœåŠ¡å™¨æ–‡ä»¶ä¿å­˜åœ°å€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">dir</span> path<br></code></pre></td></tr></table></figure><h4 id="1-5-2-å®¢æˆ·ç«¯é…ç½®"><a href="#1-5-2-å®¢æˆ·ç«¯é…ç½®" class="headerlink" title="1.5.2  å®¢æˆ·ç«¯é…ç½®"></a>1.5.2  å®¢æˆ·ç«¯é…ç½®</h4><p> æœåŠ¡å™¨å…è®¸å®¢æˆ·ç«¯è¿æ¥æœ€å¤§æ•°é‡ï¼Œé»˜è®¤0ï¼Œè¡¨ç¤ºæ— é™åˆ¶ã€‚å½“å®¢æˆ·ç«¯è¿æ¥åˆ°è¾¾ä¸Šé™åï¼ŒRedisä¼šæ‹’ç»æ–°çš„è¿æ¥</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">maxclients count<br></code></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯é—²ç½®ç­‰å¾…æœ€å¤§æ—¶é•¿ï¼Œè¾¾åˆ°æœ€å¤§å€¼åå…³é—­å¯¹åº”è¿æ¥ã€‚å¦‚éœ€å…³é—­è¯¥åŠŸèƒ½ï¼Œè®¾ç½®ä¸º 0</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">timeout</span> seconds<br></code></pre></td></tr></table></figure><h4 id="1-5-3-æ—¥å¿—é…ç½®"><a href="#1-5-3-æ—¥å¿—é…ç½®" class="headerlink" title="1.5.3  æ—¥å¿—é…ç½®"></a>1.5.3  æ—¥å¿—é…ç½®</h4><p>è®¾ç½®æœåŠ¡å™¨ä»¥æŒ‡å®šæ—¥å¿—è®°å½•çº§åˆ«</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">loglevel debug|verbose|notice|warning<br></code></pre></td></tr></table></figure><p>æ—¥å¿—è®°å½•æ–‡ä»¶å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">logfile filename<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæ—¥å¿—çº§åˆ«å¼€å‘æœŸè®¾ç½®ä¸ºverboseå³å¯ï¼Œç”Ÿäº§ç¯å¢ƒä¸­é…ç½®ä¸ºnoticeï¼Œç®€åŒ–æ—¥å¿—è¾“å‡ºé‡ï¼Œé™ä½å†™æ—¥å¿—IOçš„é¢‘åº¦ã€‚</p><h3 id="1-6-RedisåŸºæœ¬æ“ä½œ"><a href="#1-6-RedisåŸºæœ¬æ“ä½œ" class="headerlink" title="1.6 RedisåŸºæœ¬æ“ä½œ"></a>1.6 RedisåŸºæœ¬æ“ä½œ</h3><h4 id="1-6-1-å‘½ä»¤è¡Œæ¨¡å¼å·¥å…·ä½¿ç”¨æ€è€ƒ"><a href="#1-6-1-å‘½ä»¤è¡Œæ¨¡å¼å·¥å…·ä½¿ç”¨æ€è€ƒ" class="headerlink" title="1.6.1  å‘½ä»¤è¡Œæ¨¡å¼å·¥å…·ä½¿ç”¨æ€è€ƒ"></a>1.6.1  å‘½ä»¤è¡Œæ¨¡å¼å·¥å…·ä½¿ç”¨æ€è€ƒ</h4><p>åŠŸèƒ½æ€§å‘½ä»¤</p><p>å¸®åŠ©ä¿¡æ¯æŸ¥é˜…</p><p>é€€å‡ºæŒ‡ä»¤</p><p>æ¸…é™¤å±å¹•ä¿¡æ¯</p><h4 id="1-6-2-ä¿¡æ¯è¯»å†™"><a href="#1-6-2-ä¿¡æ¯è¯»å†™" class="headerlink" title="1.6.2  ä¿¡æ¯è¯»å†™"></a>1.6.2  ä¿¡æ¯è¯»å†™</h4><p>è®¾ç½® keyï¼Œvalue æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">set</span> key value<br></code></pre></td></tr></table></figure><p>èŒƒä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">set</span> name itheima<br></code></pre></td></tr></table></figure><p>æ ¹æ® key æŸ¥è¯¢å¯¹åº”çš„ valueï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›ç©ºï¼ˆnilï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">get key<br></code></pre></td></tr></table></figure><p>èŒƒä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">get name<br></code></pre></td></tr></table></figure><h4 id="1-6-3-å¸®åŠ©ä¿¡æ¯"><a href="#1-6-3-å¸®åŠ©ä¿¡æ¯" class="headerlink" title="1.6.3  å¸®åŠ©ä¿¡æ¯"></a>1.6.3  å¸®åŠ©ä¿¡æ¯</h4><p>è·å–å‘½ä»¤å¸®åŠ©æ–‡æ¡£</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">help</span> [<span class="hljs-built_in">command</span>]<br></code></pre></td></tr></table></figure><p>èŒƒä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">help</span> <span class="hljs-built_in">set</span><br></code></pre></td></tr></table></figure><p>è·å–ç»„ä¸­æ‰€æœ‰å‘½ä»¤ä¿¡æ¯åç§°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">help</span> [@group-name]<br></code></pre></td></tr></table></figure><p>èŒƒä¾‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">help</span> @string<br></code></pre></td></tr></table></figure><p>1.6.4  é€€å‡ºå‘½ä»¤è¡Œå®¢æˆ·ç«¯æ¨¡å¼</p><p>é€€å‡ºå®¢æˆ·ç«¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">quit<br><span class="hljs-built_in">exit</span><br></code></pre></td></tr></table></figure><p>å¿«æ·é”®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">Ctrl+C<br></code></pre></td></tr></table></figure><h2 id="2-æ•°æ®ç±»å‹"><a href="#2-æ•°æ®ç±»å‹" class="headerlink" title="2. æ•°æ®ç±»å‹"></a>2. æ•°æ®ç±»å‹</h2><p>åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å­¦ä¹ ä¸€å…±è¦å­¦ä¹ ä¸‰å¤§å—å†…å®¹ï¼Œé¦–å…ˆéœ€è¦äº†è§£ä¸€ä¸‹æ•°æ®ç±»å‹ï¼Œæ¥ä¸‹æ¥å°†é’ˆå¯¹ç€æˆ‘ä»¬è¦å­¦ä¹ çš„æ•°æ®ç±»å‹è¿›è¡Œé€ä¸€çš„è®²è§£ï¼Œå¦‚stringã€hashã€listã€setç­‰ï¼Œæœ€åæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥æ€»ç»“å‰é¢çš„æ•°æ®ç±»å‹çš„ä½¿ç”¨åœºæ™¯ã€‚</p><h3 id="2-1-æ•°æ®å­˜å‚¨ç±»å‹ä»‹ç»"><a href="#2-1-æ•°æ®å­˜å‚¨ç±»å‹ä»‹ç»" class="headerlink" title="2.1  æ•°æ®å­˜å‚¨ç±»å‹ä»‹ç»"></a>2.1  æ•°æ®å­˜å‚¨ç±»å‹ä»‹ç»</h3><h4 id="2-1-1-ä¸šåŠ¡æ•°æ®çš„ç‰¹æ®Šæ€§"><a href="#2-1-1-ä¸šåŠ¡æ•°æ®çš„ç‰¹æ®Šæ€§" class="headerlink" title="2.1.1  ä¸šåŠ¡æ•°æ®çš„ç‰¹æ®Šæ€§"></a>2.1.1  ä¸šåŠ¡æ•°æ®çš„ç‰¹æ®Šæ€§</h4><p>åœ¨äº†è§£æ•°æ®ç±»å‹ä¹‹å‰ï¼Œæˆ‘ä»¬å¾—å…ˆæ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œæ•°æ®ç±»å‹æ—¢ç„¶æ˜¯ç”¨æ¥æè¿°æ•°æ®çš„å­˜å‚¨æ ¼å¼çš„ï¼Œå¦‚æœä½ ä¸çŸ¥é“å“ªäº›æ•°æ®æœªæ¥ä¼šè¿›å…¥åˆ°æˆ‘ä»¬æ¥çš„redisä¸­ï¼Œé‚£ä¹ˆå¯¹åº”çš„æ•°æ®ç±»å‹çš„é€‰æ‹©ï¼Œä½ å°±ä¼šå‡ºç°é—®é¢˜ï¼Œå¦‚ä¸‹ï¼š</p><p>ï¼ˆ1ï¼‰åŸå§‹ä¸šåŠ¡åŠŸèƒ½è®¾è®¡</p><p><strong>ç§’æ€</strong>ä»–è¿™ä¸ªé‡Œè¾¹æ•°æ®å˜åŒ–é€Ÿåº¦ç‰¹åˆ«çš„å¿«ï¼Œè®¿é—®é‡ä¹Ÿç‰¹åˆ«çš„é«˜ï¼Œç”¨æˆ·å¤§é‡æ¶Œå…¥ä»¥åéƒ½ä¼šé’ˆå¯¹ç€ä¸€éƒ¨åˆ†æ•°æ®è¿›è¡Œæ“ä½œï¼Œè¿™ä¸€ç±»è¦è®°ä½ã€‚</p><p><strong>618æ´»åŠ¨</strong>å¯¹äºæˆ‘ä»¬äº¬ä¸œçš„618æ´»åŠ¨ã€ä»¥åŠå¤©çŒ«çš„åŒ11æ´»åŠ¨ï¼Œç›¸ä¿¡å¤§å®¶ä¸ç”¨è¯´éƒ½çŸ¥é“è¿™äº›æ•°æ®ä¸€å®šè¦è¿›å»ï¼Œå› ä¸ºä»–ä»¬çš„è®¿é—®é¢‘åº¦å®åœ¨å¤ªé«˜äº†ã€‚</p><p><strong>æ’é˜Ÿè´­ç¥¨</strong>æˆ‘ä»¬12306çš„ç¥¨åŠ¡ä¿¡æ¯ã€‚è¿™äº›ä¿¡æ¯åœ¨åŸå§‹è®¾è®¡çš„æ—¶å€™ï¼Œä»–ä»¬å°±æ³¨å®šäº†è¦è¿›redisã€‚</p><p>ï¼ˆ2ï¼‰è¿è¥å¹³å°ç›‘æ§åˆ°çš„çªå‘é«˜é¢‘è®¿é—®æ•°æ®</p><p>æ­¤ç±»å¹³å°ä¸´æ—¶ç›‘æ§åˆ°çš„è¿™äº›æ•°æ®ï¼Œæ¯”å¦‚è¯´ç°åœ¨å‡ºæ¥çš„ä¸€ä¸ªå…«å¦çš„ä¿¡æ¯ï¼Œè¿™ä¸ªæ–°é—»ä¸€æ—¦å‡ºç°ä»¥åå‘¢ï¼Œé¡ºé€Ÿçš„è¢«å›´è§‚äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œè¿™ä¸ªæ•°æ®å°±ä¼šå˜å¾—è®¿é‡ç‰¹åˆ«é«˜ï¼Œé‚£ä¹ˆè¿™ç±»ä¿¡æ¯ä¹Ÿè¦è¿›å…¥è¿›å»ã€‚</p><p>ï¼ˆ3ï¼‰é«˜é¢‘ã€å¤æ‚çš„ç»Ÿè®¡æ•°æ®</p><p>åœ¨çº¿äººæ•°ã€‚æ¯”å¦‚è¯´ç›´æ’­ç°åœ¨å¾ˆç«ï¼Œç›´æ’­é‡Œè¾¹æœ‰å¾ˆå¤šæ•°æ®ï¼Œä¾‹å¦‚åœ¨çº¿äººæ•°ã€‚è¿›ä¸€ä¸ªäººå‡ºä¸€ä¸ªäººï¼Œè¿™ä¸ªæ•°æ®å°±è¦è·³åŠ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªè®¿é—®é€Ÿåº¦éå¸¸çš„å¿«ï¼Œè€Œä¸”è®¿é‡å¾ˆé«˜ï¼Œå¹¶ä¸”å®ƒé‡Œè¾¹æœ‰ä¸€ä¸ªå¤æ‚çš„æ•°æ®ç»Ÿè®¡ï¼Œåœ¨è¿™é‡Œè¿™ç§ä¿¡æ¯ä¹Ÿè¦è¿›å…¥åˆ°æˆ‘ä»¬çš„redisä¸­ã€‚</p><p>æŠ•ç¥¨æ’è¡Œæ¦œã€‚æŠ•ç¥¨æŠ•ç¥¨ç±»çš„ä¿¡æ¯ä»–çš„å˜åŒ–é€Ÿåº¦ä¹Ÿæ¯”è¾ƒå¿«ï¼Œä¸ºäº†è¿½æ±‚ä¸€ä¸ªæ›´å¿«çš„ä¸€ä¸ªå³æ—¶æŠ•ç¥¨çš„åæ¬¡å˜åŒ–ï¼Œè¿™ç§æ•°æ®æœ€å¥½ä¹Ÿæ”¾åˆ°redisä¸­ã€‚</p><h4 id="2-1-2-Redis-æ•°æ®ç±»å‹-5ç§å¸¸ç”¨"><a href="#2-1-2-Redis-æ•°æ®ç±»å‹-5ç§å¸¸ç”¨" class="headerlink" title="2.1.2  Redis æ•°æ®ç±»å‹(5ç§å¸¸ç”¨)"></a>2.1.2  Redis æ•°æ®ç±»å‹(5ç§å¸¸ç”¨)</h4><p>åŸºäºä»¥ä¸Šæ•°æ®ç‰¹å¾æˆ‘ä»¬è¿›è¡Œåˆ†æï¼Œæœ€ç»ˆå¾—å‡ºæ¥æˆ‘ä»¬çš„Redisä¸­è¦è®¾è®¡5ç§ æ•°æ®ç±»å‹ï¼š</p><p>stringã€hashã€listã€setã€sorted_set&#x2F;zsetï¼ˆåº”ç”¨æ€§è¾ƒä½ï¼‰</p><h3 id="2-2-stringæ•°æ®ç±»å‹"><a href="#2-2-stringæ•°æ®ç±»å‹" class="headerlink" title="2.2  stringæ•°æ®ç±»å‹"></a>2.2  stringæ•°æ®ç±»å‹</h3><p>åœ¨å­¦ä¹ ç¬¬ä¸€ä¸ªæ•°æ®ç±»å‹ä¹‹å‰ï¼Œå…ˆç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹ï¼Œåœ¨éšåè¿™éƒ¨åˆ†å†…å®¹çš„å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¯ä¸€ç§æ•°æ®ç±»å‹éƒ½åˆ†æˆä¸‰å—æ¥è®²ï¼šé¦–å…ˆæ˜¯è®²ä¸‹å®ƒçš„åŸºæœ¬æ“ä½œï¼Œæ¥ä¸‹æ¥è®²ä¸€äº›å®ƒçš„æ‰©å±•æ“ä½œï¼Œæœ€åæˆ‘ä»¬ä¼šå»åšä¸€ä¸ªå°çš„æ¡ˆä¾‹åˆ†æã€‚</p><h4 id="2-2-1Redis-æ•°æ®å­˜å‚¨æ ¼å¼"><a href="#2-2-1Redis-æ•°æ®å­˜å‚¨æ ¼å¼" class="headerlink" title="2.2.1Redis æ•°æ®å­˜å‚¨æ ¼å¼"></a>2.2.1Redis æ•°æ®å­˜å‚¨æ ¼å¼</h4><p>åœ¨å­¦ä¹ stringè¿™ä¸ªæ•°æ®å½¢å¼ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆè¦æ˜ç™½stringåˆ°åº•æ˜¯ä¿®é¥°ä»€ä¹ˆçš„ã€‚æˆ‘ä»¬çŸ¥é“redis è‡ªèº«æ˜¯ä¸€ä¸ª Mapï¼Œå…¶ä¸­æ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯é‡‡ç”¨ key : value çš„å½¢å¼å­˜å‚¨ã€‚</p><p>å¯¹äºè¿™ç§ç»“æ„æ¥è¯´ï¼Œæˆ‘ä»¬ç”¨æ¥å­˜å‚¨æ•°æ®ä¸€å®šæ˜¯ä¸€ä¸ªå€¼å‰é¢å¯¹åº”ä¸€ä¸ªåç§°ã€‚æˆ‘ä»¬é€šè¿‡åç§°æ¥è®¿é—®åé¢çš„å€¼ã€‚æŒ‰ç…§è¿™ç§å½¢åŠ¿ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å‡ºæ¥æˆ‘ä»¬çš„å­˜å‚¨æ ¼å¼ã€‚å‰é¢è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬ç§°ä¸ºkeyã€‚åé¢çš„ä¸€éƒ¨åˆ†ç§°ä¸ºvalueï¼Œè€Œæˆ‘ä»¬çš„æ•°æ®ç±»å‹ï¼Œä»–ä¸€å®šæ˜¯ä¿®é¥°valueçš„ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/redis%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4.png"></p><p>æ•°æ®ç±»å‹æŒ‡çš„æ˜¯å­˜å‚¨çš„æ•°æ®çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯ value éƒ¨åˆ†çš„ç±»å‹ï¼Œkey éƒ¨åˆ†æ°¸è¿œéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</p><h4 id="2-2-2-string-ç±»å‹"><a href="#2-2-2-string-ç±»å‹" class="headerlink" title="2.2.2  string ç±»å‹"></a>2.2.2  string ç±»å‹</h4><p>ï¼ˆ1ï¼‰å­˜å‚¨çš„æ•°æ®ï¼šå•ä¸ªæ•°æ®ï¼Œæœ€ç®€å•çš„æ•°æ®å­˜å‚¨ç±»å‹ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ•°æ®å­˜å‚¨ç±»å‹ã€‚</p><p>stringï¼Œä»–å°±æ˜¯å­˜ä¸€ä¸ªå­—ç¬¦ä¸²å„¿ï¼Œæ³¨æ„æ˜¯valueé‚£ä¸€éƒ¨åˆ†æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯redisä¸­æœ€åŸºæœ¬ã€æœ€ç®€å•çš„å­˜å‚¨æ•°æ®çš„æ ¼å¼ã€‚</p><p>ï¼ˆ2ï¼‰å­˜å‚¨æ•°æ®çš„æ ¼å¼ï¼šä¸€ä¸ªå­˜å‚¨ç©ºé—´ä¿å­˜ä¸€ä¸ªæ•°æ®</p><p>æ¯ä¸€ä¸ªç©ºé—´ä¸­åªèƒ½ä¿å­˜ä¸€ä¸ªå­—ç¬¦ä¸²ä¿¡æ¯ï¼Œè¿™ä¸ªä¿¡æ¯é‡Œè¾¹å¦‚æœæ˜¯å­˜çš„çº¯æ•°å­—ï¼Œä»–ä¹Ÿèƒ½å½“æ•°å­—ä½¿ç”¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„æ•°æ®çš„å­˜å‚¨ç©ºé—´ã€‚</p><p>ï¼ˆ3ï¼‰å­˜å‚¨å†…å®¹ï¼šé€šå¸¸ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œå¦‚æœå­—ç¬¦ä¸²ä»¥æ•´æ•°çš„å½¢å¼å±•ç¤ºï¼Œå¯ä»¥ä½œä¸ºæ•°å­—æ“ä½œä½¿ç”¨.</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/redis%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B42.png"></p><p>ä¸€ä¸ªkeyå¯¹ä¸€ä¸ªvalueï¼Œè€Œè¿™ä¸ªitheimaå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„stringç±»å‹ï¼Œå½“ç„¶å®ƒä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªçº¯æ•°å­—çš„æ ¼å¼ã€‚</p><h4 id="2-2-3-string-ç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ"><a href="#2-2-3-string-ç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="2.2.3  string ç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ"></a>2.2.3  string ç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ</h4><p>ï¼ˆ1ï¼‰åŸºç¡€æŒ‡ä»¤</p><p>æ·»åŠ &#x2F;ä¿®æ”¹æ•°æ®æ·»åŠ &#x2F;ä¿®æ”¹æ•°æ®</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-keyword">set</span> key <span class="hljs-comment">value</span><br></code></pre></td></tr></table></figure><p>è·å–æ•°æ®</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">get</span> <span class="hljs-built_in">key</span><br></code></pre></td></tr></table></figure><p>åˆ é™¤æ•°æ®</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">del</span> <span class="hljs-built_in">key</span><br></code></pre></td></tr></table></figure><p>åˆ¤å®šæ€§æ·»åŠ æ•°æ®</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">setnx key value</span><br></code></pre></td></tr></table></figure><p>æ·»åŠ &#x2F;ä¿®æ”¹å¤šä¸ªæ•°æ®</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">mset</span> key1 value1 key2 value2 â€¦<br></code></pre></td></tr></table></figure><p>è·å–å¤šä¸ªæ•°æ®</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">mget</span> key1 key2 â€¦<br></code></pre></td></tr></table></figure><p>è·å–æ•°æ®å­—ç¬¦ä¸ªæ•°ï¼ˆå­—ç¬¦ä¸²é•¿åº¦ï¼‰</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss"><span class="hljs-built_in">strlen</span> <span class="hljs-built_in">key</span><br></code></pre></td></tr></table></figure><p>è¿½åŠ ä¿¡æ¯åˆ°åŸå§‹ä¿¡æ¯åéƒ¨ï¼ˆå¦‚æœåŸå§‹ä¿¡æ¯å­˜åœ¨å°±è¿½åŠ ï¼Œå¦åˆ™æ–°å»ºï¼‰</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">append</span> <span class="hljs-built_in">key</span> value<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å•æ•°æ®æ“ä½œä¸å¤šæ•°æ®æ“ä½œçš„é€‰æ‹©ä¹‹æƒ‘</p><p>å³set ä¸msetçš„å…³ç³»ã€‚è¿™å¯¹äºè¿™ä¸¤ä¸ªæ“ä½œæ¥è¯´ï¼Œæ²¡æœ‰ä»€ä¹ˆä½ åº”è¯¥é€‰å“ªä¸ªï¼Œè€Œæ˜¯ä»–ä»¬è‡ªå·±çš„ç‰¹å¾æ˜¯ä»€ä¹ˆï¼Œä½ è¦æ ¹æ®è¿™ä¸ªç‰¹å¾å»æ¯”å¯¹ä½ çš„ä¸šåŠ¡ï¼Œçœ‹çœ‹ç©¶ç«Ÿé€‚ç”¨äºå“ªä¸ªã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/set.png"></p><p>å‡å¦‚è¯´è¿™æ˜¯æˆ‘ä»¬ç°åœ¨çš„æœåŠ¡å™¨ï¼Œä»–è¦å‘redisè¦æ•°æ®çš„è¯ï¼Œå®ƒä¼šå‘å‡ºä¸€æ¡æŒ‡ä»¤ã€‚é‚£ä¹ˆå½“è¿™æ¡æŒ‡ä»¤å‘è¿‡æ¥çš„æ—¶å€™ï¼Œæ¯”å¦‚è¯´æ˜¯è¿™ä¸ªsetæŒ‡ä»¤è¿‡æ¥ï¼Œé‚£ä¹ˆå®ƒä¼šæŠŠè¿™ä¸ªç»“æœè¿”å›ç»™ä½ ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¦æ€è€ƒè¿™é‡Œè¾¹ä¸€å…±ç»è¿‡äº†å¤šé•¿æ—¶é—´ã€‚</p><p>é¦–å…ˆï¼Œå‘é€setæŒ‡ä»¤è¦æ—¶é—´ï¼Œè¿™æ˜¯ç½‘ç»œçš„ä¸€ä¸ªæ—¶é—´ï¼Œæ¥ä¸‹æ¥redisè¦å»è¿è¡Œè¿™ä¸ªæŒ‡ä»¤è¦æ¶ˆè€—æ—¶é—´ï¼Œæœ€ç»ˆæŠŠè¿™ä¸ªç»“æœè¿”å›ç»™ä½ åˆæœ‰ä¸€ä¸ªæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´åˆæ˜¯ä¸€ä¸ªç½‘ç»œçš„æ—¶é—´ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼šä¸€ä¸ªæŒ‡ä»¤å‘é€çš„è¿‡ç¨‹ä¸­éœ€è¦æ¶ˆè€—è¿™æ ·çš„æ—¶é—´.</p><p>ä½†æ˜¯å¦‚æœè¯´ç°åœ¨ä¸æ˜¯ä¸€æ¡æŒ‡ä»¤äº†ï¼Œä½ è¦å‘3ä¸ªsetçš„è¯ï¼Œè¿˜è¦å¤šé•¿æ—¶é—´å‘¢ï¼Ÿå¯¹åº”çš„å‘é€æ—¶é—´è¦ä¹˜3äº†ï¼Œå› ä¸ºè¿™æ˜¯ä¸‰ä¸ªå•æ¡æŒ‡ä»¤,è€Œè¿è¡Œçš„æ“ä½œæ—¶é—´å‘¢ï¼Œå®ƒä¹Ÿè¦ä¹˜3äº†ï¼Œä½†æœ€ç»ˆè¿”å›çš„ä¹Ÿè¦å‘3æ¬¡ï¼Œæ‰€ä»¥è¿™è¾¹ä¹Ÿè¦ä¹˜3ã€‚</p><p>äºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªç»“è®ºï¼šå•æŒ‡ä»¤å‘3æ¡å®ƒéœ€è¦çš„æ—¶é—´ï¼Œå‡å®šä»–ä»¬ä¸¤ä¸ªä¸€æ ·ï¼Œæ˜¯6ä¸ªç½‘ç»œæ—¶é—´åŠ 3ä¸ªå¤„ç†æ—¶é—´ï¼Œå¦‚æœæˆ‘ä»¬æŠŠå®ƒåˆæˆä¸€ä¸ªmsetå‘¢ï¼Œæˆ‘ä»¬æƒ³ä¸€æƒ³ã€‚</p><p>å‡å¦‚è¯´ç”¨å¤šæŒ‡ä»¤å‘3ä¸ªæŒ‡ä»¤çš„è¯ï¼Œå…¶å®åªéœ€è¦å‘ä¸€æ¬¡å°±è¡Œäº†ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªç»“è®ºï¼Œå¤šæŒ‡ä»¤å‘3ä¸ªæŒ‡ä»¤çš„è¯ï¼Œå…¶å®å®ƒæ˜¯ä¸¤ä¸ªç½‘ç»œæ—¶é—´åŠ ä¸Š3ä¸ªredisçš„æ“ä½œæ—¶é—´ï¼Œä¸ºä»€ä¹ˆè¿™å†™ä¸€ä¸ªå°åŠ å·å‘¢ï¼Œå°±æ˜¯å› ä¸ºæ¯•ç«Ÿå‘çš„ä¿¡æ¯é‡å˜å¤§äº†ï¼Œæ‰€ä»¥ç½‘ç»œæ—¶é—´æœ‰å¯èƒ½ä¼šå˜é•¿ã€‚</p><p>é‚£ä¹ˆé€šè¿‡è¿™å¼ å›¾ï¼Œä½ å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªç»“è®ºï¼Œæˆ‘ä»¬å•æŒ‡ä»¤å’Œå¤šæŒ‡ä»¤ä»–ä»¬çš„å·®åˆ«å°±åœ¨äºä½ å‘é€çš„æ¬¡æ•°æ˜¯å¤šè¿˜æ˜¯å°‘ã€‚å½“ä½ å½±å“çš„æ•°æ®æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼Œä½ å¯ä»¥ç”¨å•æŒ‡ä»¤ï¼Œä¹Ÿå¯ä»¥ç”¨å¤šæŒ‡ä»¤ã€‚ä½†æ˜¯ä¸€æ—¦è¿™ä¸ªé‡å¤§äº†ï¼Œä½ å°±è¦é€‰æ‹©å¤šæŒ‡ä»¤äº†ï¼Œä»–çš„æ•ˆç‡ä¼šé«˜ä¸€äº›ã€‚</p><h3 id="2-3-string-ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ"><a href="#2-3-string-ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ" class="headerlink" title="2.3  string ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ"></a>2.3  string ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ</h3><h4 id="2-3-1-string-ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ"><a href="#2-3-1-string-ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ" class="headerlink" title="2.3.1  string ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ"></a>2.3.1  string ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ</h4><p>ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€stringçš„æ‰©å±•æ“ä½œï¼Œåˆ†æˆä¸¤å¤§å—ï¼šä¸€å—æ˜¯å¯¹æ•°å­—è¿›è¡Œæ“ä½œçš„ï¼Œç¬¬äºŒå—æ˜¯å¯¹æˆ‘ä»¬çš„keyçš„æ—¶é—´è¿›è¡Œæ“ä½œçš„ã€‚</p><p>è®¾ç½®æ•°å€¼æ•°æ®å¢åŠ æŒ‡å®šèŒƒå›´çš„å€¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">incr key<br>incrby key increment<br>incrbyfloat key increment<br></code></pre></td></tr></table></figure><p>è®¾ç½®æ•°å€¼æ•°æ®å‡å°‘æŒ‡å®šèŒƒå›´çš„å€¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">decr key<br>decrby key increment<br></code></pre></td></tr></table></figure><p>è®¾ç½®æ•°æ®å…·æœ‰æŒ‡å®šçš„ç”Ÿå‘½å‘¨æœŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">setex key seconds value<br>psetex key milliseconds value<br></code></pre></td></tr></table></figure><h4 id="2-3-2-string-ç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹"><a href="#2-3-2-string-ç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹" class="headerlink" title="2.3.2  string ç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹"></a>2.3.2  string ç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹</h4><p>(1)æ•°æ®æ“ä½œä¸æˆåŠŸçš„åé¦ˆä¸æ•°æ®æ­£å¸¸æ“ä½œä¹‹é—´çš„å·®å¼‚</p><p>è¡¨ç¤ºè¿è¡Œç»“æœæ˜¯å¦æˆåŠŸ</p><p>(integer) 0  â†’ false                 å¤±è´¥</p><p>(integer) 1  â†’ true                  æˆåŠŸ</p><p>è¡¨ç¤ºè¿è¡Œç»“æœå€¼</p><p>(integer) 3  â†’ 3                        3ä¸ª</p><p>(integer) 1  â†’ 1                         1ä¸ª</p><p>(2)æ•°æ®æœªè·å–åˆ°æ—¶ï¼Œå¯¹åº”çš„æ•°æ®ä¸ºï¼ˆnilï¼‰ï¼Œç­‰åŒäºnull</p><p>(3)æ•°æ®æœ€å¤§å­˜å‚¨é‡ï¼š512MB</p><p>(4)stringåœ¨rediså†…éƒ¨å­˜å‚¨é»˜è®¤å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå½“é‡åˆ°å¢å‡ç±»æ“ä½œincrï¼Œdecræ—¶ä¼šè½¬æˆæ•°å€¼å‹è¿›è¡Œè®¡ç®—</p><p>(5)æŒ‰æ•°å€¼è¿›è¡Œæ“ä½œçš„æ•°æ®ï¼Œå¦‚æœåŸå§‹æ•°æ®ä¸èƒ½è½¬æˆæ•°å€¼ï¼Œæˆ–è¶…è¶Šäº†redis æ•°å€¼ä¸Šé™èŒƒå›´ï¼Œå°†æŠ¥é”™<br>9223372036854775807ï¼ˆjavaä¸­Longå‹æ•°æ®æœ€å¤§å€¼ï¼ŒLong.MAX_VALUEï¼‰</p><p>(6)redisæ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯åŸå­æ€§çš„ï¼Œé‡‡ç”¨å•çº¿ç¨‹å¤„ç†æ‰€æœ‰ä¸šåŠ¡ï¼Œå‘½ä»¤æ˜¯ä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œçš„ï¼Œå› æ­¤æ— éœ€è€ƒè™‘å¹¶å‘å¸¦æ¥çš„æ•°æ®å½±å“.</p><h3 id="2-4stringåº”ç”¨åœºæ™¯ä¸keyå‘½åçº¦å®š"><a href="#2-4stringåº”ç”¨åœºæ™¯ä¸keyå‘½åçº¦å®š" class="headerlink" title="2.4stringåº”ç”¨åœºæ™¯ä¸keyå‘½åçº¦å®š"></a>2.4stringåº”ç”¨åœºæ™¯ä¸keyå‘½åçº¦å®š</h3><h4 id="2-4-1-åº”ç”¨åœºæ™¯"><a href="#2-4-1-åº”ç”¨åœºæ™¯" class="headerlink" title="2.4.1  åº”ç”¨åœºæ™¯"></a>2.4.1  åº”ç”¨åœºæ™¯</h4><p>å®ƒçš„åº”ç”¨åœºæ™¯åœ¨äºï¼šä¸»é¡µé«˜é¢‘è®¿é—®ä¿¡æ¯æ˜¾ç¤ºæ§åˆ¶ï¼Œä¾‹å¦‚æ–°æµªå¾®åšå¤§Vä¸»é¡µæ˜¾ç¤ºç²‰ä¸æ•°ä¸å¾®åšæ•°é‡ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/string%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.png"></p><p>æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸‹ï¼šè¿™äº›ä¿¡æ¯æ˜¯ä¸æ˜¯ä½ è¿›å…¥å¤§Vçš„é¡µé¢å„¿ä»¥åå°±è¦è¯»å–è¿™å†™ä¿¡æ¯çš„å•Šï¼Œé‚£è¿™ç§ä¿¡æ¯ä¸€å®šè¦å­˜å‚¨åˆ°æˆ‘ä»¬çš„redisä¸­ï¼Œå› ä¸ºä»–çš„è®¿é—®é‡å¤ªé«˜äº†ï¼é‚£è¿™ç§æ•°æ®åº”è¯¥æ€ä¹ˆå­˜å‘¢ï¼Ÿæˆ‘ä»¬æ¥ä¸€å—å„¿çœ‹ä¸€ä¸‹æ–¹æ¡ˆï¼</p><h4 id="2-4-2-è§£å†³æ–¹æ¡ˆ"><a href="#2-4-2-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2.4.2  è§£å†³æ–¹æ¡ˆ"></a>2.4.2  è§£å†³æ–¹æ¡ˆ</h4><p>ï¼ˆ1ï¼‰åœ¨redisä¸­ä¸ºå¤§Vç”¨æˆ·è®¾å®šç”¨æˆ·ä¿¡æ¯ï¼Œä»¥ç”¨æˆ·ä¸»é”®å’Œå±æ€§å€¼ä½œä¸ºkeyï¼Œåå°è®¾å®šå®šæ—¶åˆ·æ–°ç­–ç•¥å³å¯ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown">eg:user:id:3506728370:fansâ†’12210947<br>eg:user:id:3506728370:blogsâ†’6164<br>eg:user:id:3506728370:focusesâ†’83<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ä¹Ÿå¯ä»¥ä½¿ç”¨jsonæ ¼å¼ä¿å­˜æ•°æ®</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">eg:user:id:3506728370    â†’&#123;â€œfansâ€ï¼š12210947ï¼Œâ€œblogsâ€ï¼š6164ï¼Œâ€œ focuses â€ï¼š83 &#125;<br></code></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰ key çš„è®¾ç½®çº¦å®š</p><p>æ•°æ®åº“ä¸­çš„çƒ­ç‚¹æ•°æ®keyå‘½åæƒ¯ä¾‹</p><table><thead><tr><th></th><th><strong>è¡¨å</strong></th><th><strong>ä¸»é”®å</strong></th><th>ä¸»é”®å€¼</th><th><strong>å­—æ®µå</strong></th></tr></thead><tbody><tr><td>eg1ï¼š</td><td>order</td><td>id</td><td>29437595</td><td>name</td></tr><tr><td>eg2ï¼š</td><td>equip</td><td>id</td><td>390472345</td><td>type</td></tr><tr><td>eg3ï¼š</td><td>news</td><td>id</td><td>202004150</td><td>title</td></tr></tbody></table><h3 id="2-5-hashçš„åŸºæœ¬æ“ä½œ"><a href="#2-5-hashçš„åŸºæœ¬æ“ä½œ" class="headerlink" title="2.5  hashçš„åŸºæœ¬æ“ä½œ"></a>2.5  hashçš„åŸºæœ¬æ“ä½œ</h3><p>ä¸‹é¢æˆ‘ä»¬æ¥å­¦ä¹ ç¬¬äºŒä¸ªæ•°æ®ç±»å‹hashã€‚</p><h4 id="2-5-1-æ•°æ®å­˜å‚¨çš„å›°æƒ‘"><a href="#2-5-1-æ•°æ®å­˜å‚¨çš„å›°æƒ‘" class="headerlink" title="2.5.1  æ•°æ®å­˜å‚¨çš„å›°æƒ‘"></a>2.5.1  æ•°æ®å­˜å‚¨çš„å›°æƒ‘</h4><p>å¯¹è±¡ç±»æ•°æ®çš„å­˜å‚¨å¦‚æœå…·æœ‰è¾ƒé¢‘ç¹çš„æ›´æ–°éœ€æ±‚æ“ä½œä¼šæ˜¾å¾—ç¬¨é‡ï¼</p><p>åœ¨æ­£å¼å­¦ä¹ ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªå…³äºæ•°æ®å­˜å‚¨çš„å›°æƒ‘ï¼š</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/hash%E5%AD%98%E5%82%A8.png"></p><p>æ¯”å¦‚è¯´å‰é¢æˆ‘ä»¬ç”¨ä»¥ä¸Šå½¢å¼å­˜äº†æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬ç”¨å•æ¡å»å­˜çš„è¯ï¼Œå®ƒå­˜çš„æ¡æ•°ä¼šå¾ˆå¤šã€‚ä½†å¦‚æœæˆ‘ä»¬ç”¨jsonæ ¼å¼ï¼Œå®ƒå­˜ä¸€æ¡æ•°æ®å°±å¤Ÿäº†ã€‚é—®é¢˜æ¥äº†ï¼Œå‡å¦‚è¯´ç°åœ¨ç²‰ä¸æ•°é‡å‘ç”Ÿå˜åŒ–äº†ï¼Œä½ è¦æŠŠæ•´ä¸ªå€¼éƒ½æ”¹äº†ã€‚ä½†æ˜¯ç”¨å•æ¡å­˜çš„è¯å°±ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œä½ åªéœ€è¦æ”¹å…¶ä¸­ä¸€ä¸ªå°±è¡Œäº†ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±æƒ³ï¼Œæœ‰æ²¡æœ‰ä¸€ç§æ–°çš„å­˜å‚¨ç»“æ„ï¼Œèƒ½å¸®æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ã€‚</p><p>æˆ‘ä»¬ä¸€å—å„¿æ¥åˆ†æä¸€ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E6%95%B0%E6%8D%AE.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼šå•æ¡çš„è¯æ˜¯å¯¹åº”çš„æ•°æ®åœ¨åé¢æ”¾ç€ã€‚ä»”ç»†è§‚å¯Ÿï¼šæˆ‘ä»¬çœ‹å·¦è¾¹æ˜¯ä¸æ˜¯é•¿å¾—éƒ½ä¸€æ¨¡ä¸€æ ·å•Šï¼Œéƒ½æ˜¯å¯¹åº”çš„è¡¨åã€IDç­‰çš„ä¸€ç³»åˆ—çš„ä¸œè¥¿ã€‚æˆ‘ä»¬å¯ä»¥å°†å³è¾¹çº¢æ¡†ä¸­çš„è¿™ä¸ªåŒºåŸŸç»™ä»–å°èµ·æ¥ã€‚</p><p>é‚£å¦‚æœè¦æ˜¯è¿™æ ·çš„å½¢å¼çš„è¯ï¼Œå¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬æŠŠå®ƒä¸€åˆå¹¶ï¼Œå¹¶æŠŠå³è¾¹çš„ä¸œè¥¿ç»™ä»–å˜æˆè¿™ä¸ªæ ¼å¼ï¼Œè¿™ä¸å°±è¡Œäº†å—ï¼Ÿ</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/hash%E6%95%B0%E6%8D%AE.png"></p><p>è¿™ä¸ªå›¾å…¶å®å¤§å®¶å¹¶ä¸é™Œç”Ÿï¼Œç¬¬ä¸€ï¼Œä½ å‰é¢å­¦è¿‡ä¸€ä¸ªä¸œè¥¿å«hashmapä¸å°±è¿™æ ¼å¼å—ï¼Ÿç¬¬äºŒï¼Œredisè‡ªèº«ä¸ä¹Ÿæ˜¯è¿™æ ¼å¼å—ï¼Ÿé‚£æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ³¨æ„ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬è¦è®²çš„ç¬¬äºŒç§æ ¼å¼ï¼Œhashã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/hash%E7%BB%93%E6%9E%84.png"></p><p>åœ¨å³è¾¹å¯¹åº”çš„å€¼ï¼Œæˆ‘ä»¬å°±å­˜å…·ä½“çš„å€¼ï¼Œé‚£å·¦è¾¹å„¿è¿™å°±æ˜¯æˆ‘ä»¬çš„keyã€‚é—®é¢˜æ¥äº†ï¼Œé‚£ä¸­é—´çš„è¿™ä¸€å—å«ä»€ä¹ˆå‘¢ï¼Ÿè¿™ä¸ªä¸œè¥¿æˆ‘ä»¬ç»™ä»–èµ·ä¸ªåå„¿ï¼Œå«åšfieldå­—æ®µã€‚é‚£ä¹ˆå³è¾¹å„¿æ•´ä½“è¿™å—å„¿ç©ºé—´æˆ‘ä»¬å°±ç§°ä¸ºhashï¼Œä¹Ÿå°±æ˜¯è¯´hashæ˜¯å­˜äº†ä¸€ä¸ªkey valueçš„å­˜å‚¨ç©ºé—´ã€‚</p><h4 id="2-5-2-hash-ç±»å‹"><a href="#2-5-2-hash-ç±»å‹" class="headerlink" title="2.5.2  hash ç±»å‹"></a>2.5.2  hash ç±»å‹</h4><p>æ–°çš„å­˜å‚¨éœ€æ±‚ï¼šå¯¹ä¸€ç³»åˆ—å­˜å‚¨çš„æ•°æ®è¿›è¡Œç¼–ç»„ï¼Œæ–¹ä¾¿ç®¡ç†ï¼Œå…¸å‹åº”ç”¨å­˜å‚¨å¯¹è±¡ä¿¡æ¯</p><p>éœ€è¦çš„å­˜å‚¨ç»“æ„ï¼šä¸€ä¸ªå­˜å‚¨ç©ºé—´ä¿å­˜å¤šä¸ªé”®å€¼å¯¹æ•°æ®</p><p>hashç±»å‹ï¼šåº•å±‚ä½¿ç”¨å“ˆå¸Œè¡¨ç»“æ„å®ç°æ•°æ®å­˜å‚¨</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/hash%E7%BB%93%E6%9E%84%E5%9B%BE.png"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¿™ç§ç»“æ„å«åšhashï¼Œå·¦è¾¹ä¸€ä¸ªkeyï¼Œå¯¹å³è¾¹ä¸€ä¸ªå­˜å‚¨ç©ºé—´ã€‚è¿™é‡Œè¦æ˜ç¡®ä¸€ç‚¹ï¼Œå³è¾¹è¿™å—å„¿å­˜å‚¨ç©ºé—´å«hashï¼Œä¹Ÿå°±æ˜¯è¯´hashæ˜¯æŒ‡çš„ä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œä»–æŒ‡çš„ä¸æ˜¯ä¸€ä¸ªæ•°æ®ï¼Œæ˜¯è¿™é‡Œè¾¹çš„ä¸€å †æ•°æ®ï¼Œé‚£ä¹ˆå®ƒåº•å±‚å‘¢ï¼Œæ˜¯ç”¨hashè¡¨çš„ç»“æ„æ¥å®ç°çš„ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š</p><p>å¦‚æœfieldæ•°é‡è¾ƒå°‘ï¼Œå­˜å‚¨ç»“æ„ä¼˜åŒ–ä¸ºç±»æ•°ç»„ç»“æ„</p><p>å¦‚æœfieldæ•°é‡è¾ƒå¤šï¼Œå­˜å‚¨ç»“æ„ä½¿ç”¨HashMapç»“æ„</p><h4 id="2-5-3-hash-ç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ"><a href="#2-5-3-hash-ç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="2.5.3  hash ç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ"></a>2.5.3  hash ç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ</h4><p>æ·»åŠ &#x2F;ä¿®æ”¹æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hset key field value<br></code></pre></td></tr></table></figure><p>è·å–æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">hget key field<br>hgetall key<br></code></pre></td></tr></table></figure><p>åˆ é™¤æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hdel key field1 [field2]<br></code></pre></td></tr></table></figure><p>è®¾ç½®fieldçš„å€¼ï¼Œå¦‚æœè¯¥fieldå­˜åœ¨åˆ™ä¸åšä»»ä½•æ“ä½œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hsetnx key field value<br></code></pre></td></tr></table></figure><p>æ·»åŠ &#x2F;ä¿®æ”¹å¤šä¸ªæ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hmset key field1 value1 field2 value2 â€¦<br></code></pre></td></tr></table></figure><p>è·å–å¤šä¸ªæ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hmget key field1 field2 â€¦<br></code></pre></td></tr></table></figure><p>è·å–å“ˆå¸Œè¡¨ä¸­å­—æ®µçš„æ•°é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hlen key<br></code></pre></td></tr></table></figure><p>è·å–å“ˆå¸Œè¡¨ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å­—æ®µ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexists key field<br></code></pre></td></tr></table></figure><h3 id="2-6-hashçš„æ‹“å±•æ“ä½œ"><a href="#2-6-hashçš„æ‹“å±•æ“ä½œ" class="headerlink" title="2.6  hashçš„æ‹“å±•æ“ä½œ"></a>2.6  hashçš„æ‹“å±•æ“ä½œ</h3><p>åœ¨çœ‹å®Œhashçš„åŸºæœ¬æ“ä½œåï¼Œæˆ‘ä»¬å†æ¥çœ‹ä»–çš„æ‹“å±•æ“ä½œï¼Œä»–çš„æ‹“å±•æ“ä½œç›¸å¯¹æ¯”è¾ƒç®€å•ï¼š</p><h4 id="2-6-1-hash-ç±»å‹æ•°æ®æ‰©å±•æ“ä½œ"><a href="#2-6-1-hash-ç±»å‹æ•°æ®æ‰©å±•æ“ä½œ" class="headerlink" title="2.6.1  hash ç±»å‹æ•°æ®æ‰©å±•æ“ä½œ"></a>2.6.1  hash ç±»å‹æ•°æ®æ‰©å±•æ“ä½œ</h4><p>è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„å­—æ®µåæˆ–å­—æ®µå€¼</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gauss">hkeys <span class="hljs-built_in">key</span><br>hvals <span class="hljs-built_in">key</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®æŒ‡å®šå­—æ®µçš„æ•°å€¼æ•°æ®å¢åŠ æŒ‡å®šèŒƒå›´çš„å€¼</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">hincrby</span> key <span class="hljs-meta">field</span> increment<br><span class="hljs-symbol">hincrbyfloat</span> key <span class="hljs-meta">field</span> increment<br></code></pre></td></tr></table></figure><h4 id="2-6-2-hashç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹"><a href="#2-6-2-hashç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹" class="headerlink" title="2.6.2  hashç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹"></a>2.6.2  hashç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹</h4><p>(1)hashç±»å‹ä¸­valueåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ï¼Œä¸å…è®¸å­˜å‚¨å…¶ä»–æ•°æ®ç±»å‹ï¼Œä¸å­˜åœ¨åµŒå¥—ç°è±¡ã€‚å¦‚æœæ•°æ®æœªè·å–åˆ°ï¼Œå¯¹åº”çš„å€¼ä¸ºï¼ˆnilï¼‰ã€‚</p><p>(2ï¼‰æ¯ä¸ª hash å¯ä»¥å­˜å‚¨ 232 - 1 ä¸ªé”®å€¼å¯¹<br>hashç±»å‹ååˆ†è´´è¿‘å¯¹è±¡çš„æ•°æ®å­˜å‚¨å½¢å¼ï¼Œå¹¶ä¸”å¯ä»¥çµæ´»æ·»åŠ åˆ é™¤å¯¹è±¡å±æ€§ã€‚ä½†hashè®¾è®¡åˆè¡·ä¸æ˜¯ä¸ºäº†å­˜å‚¨å¤§é‡å¯¹è±¡è€Œè®¾è®¡ çš„ï¼Œåˆ‡è®°ä¸å¯æ»¥ç”¨ï¼Œæ›´ä¸å¯ä»¥å°†hashä½œä¸ºå¯¹è±¡åˆ—è¡¨ä½¿ç”¨ã€‚</p><p>(3)hgetall æ“ä½œå¯ä»¥è·å–å…¨éƒ¨å±æ€§ï¼Œå¦‚æœå†…éƒ¨fieldè¿‡å¤šï¼Œéå†æ•´ä½“æ•°æ®æ•ˆç‡å°±å¾ˆä¼šä½ï¼Œæœ‰å¯èƒ½æˆä¸ºæ•°æ®è®¿é—®ç“¶é¢ˆã€‚</p><h3 id="2-7-hashåº”ç”¨åœºæ™¯"><a href="#2-7-hashåº”ç”¨åœºæ™¯" class="headerlink" title="2.7  hashåº”ç”¨åœºæ™¯"></a>2.7  hashåº”ç”¨åœºæ™¯</h3><h4 id="2-7-1-åº”ç”¨åœºæ™¯"><a href="#2-7-1-åº”ç”¨åœºæ™¯" class="headerlink" title="2.7.1  åº”ç”¨åœºæ™¯"></a>2.7.1  åº”ç”¨åœºæ™¯</h4><p>åŒ11æ´»åŠ¨æ—¥ï¼Œé”€å”®æ‰‹æœºå……å€¼å¡çš„å•†å®¶å¯¹ç§»åŠ¨ã€è”é€šã€ç”µä¿¡çš„30å…ƒã€50å…ƒã€100å…ƒå•†å“æ¨å‡ºæŠ¢è´­æ´»åŠ¨ï¼Œæ¯ç§å•†å“æŠ¢è´­ä¸Šé™1000  å¼ ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/hash%E5%BA%94%E7%94%A8.png"></p><p>ä¹Ÿå°±æ˜¯å•†å®¶æœ‰äº†ï¼Œå•†å“æœ‰äº†ï¼Œæ•°é‡æœ‰äº†ã€‚æœ€ç»ˆæˆ‘ä»¬çš„ç”¨æˆ·ä¹°ä¸œè¥¿å°±æ˜¯åœ¨æ”¹å˜è¿™ä¸ªæ•°é‡ã€‚é‚£ä½ è¯´è¿™ä¸ªç»“æ„åº”è¯¥æ€ä¹ˆå­˜å‘¢ï¼Ÿå¯¹åº”çš„å•†å®¶çš„IDä½œä¸ºkeyï¼Œç„¶åè¿™äº›å……å€¼å¡çš„IDä½œä¸ºfieldï¼Œæœ€åè¿™äº›æ•°é‡ä½œä¸ºvalueã€‚è€Œæˆ‘ä»¬æ‰€è°“çš„æ“ä½œæ˜¯å…¶å®å°±æ˜¯increaè¿™ä¸ªæ“ä½œï¼Œåªä¸è¿‡ä½ ä¼ è´Ÿå€¼å°±è¡Œäº†ã€‚çœ‹ä¸€çœ‹å¯¹åº”çš„è§£å†³æ–¹æ¡ˆï¼š</p><h4 id="2-7-2-è§£å†³æ–¹æ¡ˆ"><a href="#2-7-2-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2.7.2  è§£å†³æ–¹æ¡ˆ"></a>2.7.2  è§£å†³æ–¹æ¡ˆ</h4><p>ä»¥å•†å®¶idä½œä¸ºkey</p><p>å°†å‚ä¸æŠ¢è´­çš„å•†å“idä½œä¸ºfield</p><p>å°†å‚ä¸æŠ¢è´­çš„å•†å“æ•°é‡ä½œä¸ºå¯¹åº”çš„value</p><p>æŠ¢è´­æ—¶ä½¿ç”¨é™å€¼çš„æ–¹å¼æ§åˆ¶äº§å“æ•°é‡</p><p>æ³¨æ„ï¼šå®é™…ä¸šåŠ¡ä¸­è¿˜æœ‰è¶…å–ç­‰å®é™…é—®é¢˜ï¼Œè¿™é‡Œä¸åšè®¨è®º</p><h3 id="2-8-liståŸºæœ¬æ“ä½œ"><a href="#2-8-liståŸºæœ¬æ“ä½œ" class="headerlink" title="2.8  liståŸºæœ¬æ“ä½œ"></a>2.8  liståŸºæœ¬æ“ä½œ</h3><p>å‰é¢æˆ‘ä»¬å­˜æ•°æ®çš„æ—¶å€™å‘¢ï¼Œå•ä¸ªæ•°æ®ä¹Ÿèƒ½å­˜ï¼Œå¤šä¸ªæ•°æ®ä¹Ÿèƒ½å­˜ï¼Œä½†æ˜¯è¿™é‡Œé¢æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å­˜å¤šä¸ªæ•°æ®ç”¨hashçš„æ—¶å€™å®ƒæ˜¯æ²¡æœ‰é¡ºåºçš„ã€‚æˆ‘ä»¬å¹³æ—¶æ“ä½œï¼Œå®é™…ä¸Šæ•°æ®å¾ˆå¤šæƒ…å†µä¸‹éƒ½æ˜¯æœ‰é¡ºåºçš„ï¼Œé‚£æœ‰æ²¡æœ‰ä¸€ç§èƒ½å¤Ÿç”¨æ¥å­˜å‚¨å¸¦æœ‰é¡ºåºçš„è¿™ç§æ•°æ®æ¨¡å‹å‘¢ï¼Œlistå°±ä¸“é—¨æ¥å¹²è¿™äº‹å„¿ã€‚</p><h4 id="2-8-1-list-ç±»å‹"><a href="#2-8-1-list-ç±»å‹" class="headerlink" title="2.8.1  list ç±»å‹"></a>2.8.1  list ç±»å‹</h4><p>æ•°æ®å­˜å‚¨éœ€æ±‚ï¼šå­˜å‚¨å¤šä¸ªæ•°æ®ï¼Œå¹¶å¯¹æ•°æ®è¿›å…¥å­˜å‚¨ç©ºé—´çš„é¡ºåºè¿›è¡ŒåŒºåˆ†</p><p>éœ€è¦çš„å­˜å‚¨ç»“æ„ï¼šä¸€ä¸ªå­˜å‚¨ç©ºé—´ä¿å­˜å¤šä¸ªæ•°æ®ï¼Œä¸”é€šè¿‡æ•°æ®å¯ä»¥ä½“ç°è¿›å…¥é¡ºåº</p><p>listç±»å‹ï¼šä¿å­˜å¤šä¸ªæ•°æ®ï¼Œåº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨å­˜å‚¨ç»“æ„å®ç°</p><p>å…ˆæ¥é€šè¿‡ä¸€å¼ å›¾ï¼Œå›å¿†ä¸€ä¸‹é¡ºåºè¡¨ã€é“¾è¡¨ã€åŒå‘é“¾è¡¨ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/list1.png"></p><p>listå¯¹åº”çš„å­˜å‚¨ç»“æ„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé‡Œè¾¹å­˜çš„è¿™ä¸ªä¸œè¥¿æ˜¯ä¸ªåˆ—è¡¨ï¼Œä»–æœ‰ä¸€ä¸ªå¯¹åº”çš„åç§°ã€‚å°±æ˜¯keyå­˜ä¸€ä¸ªlistçš„è¿™æ ·ç»“æ„ã€‚å¯¹åº”çš„åŸºæœ¬æ“ä½œï¼Œä½ å…¶å®æ˜¯å¯ä»¥æƒ³åˆ°çš„ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/list2.png"></p><p>æ¥çœ‹ä¸€ä¸‹ï¼Œå› ä¸ºå®ƒæ˜¯åŒå‘çš„ï¼Œæ‰€ä»¥ä»–å·¦è¾¹å³è¾¹éƒ½èƒ½æ“ä½œï¼Œå®ƒå¯¹åº”çš„æ“ä½œç»“æ„ä¸¤è¾¹éƒ½èƒ½è¿›æ•°æ®ã€‚è¿™å°±æ˜¯é“¾è¡¨çš„ä¸€ä¸ªå­˜å‚¨ç»“æ„ã€‚å¾€å¤–æ‹¿æ•°æ®çš„æ—¶å€™æ€ä¹ˆæ‹¿å‘¢ï¼Ÿé€šå¸¸æ˜¯ä»ä¸€ç«¯æ‹¿ï¼Œå½“ç„¶å¦ä¸€ç«¯ä¹Ÿèƒ½æ‹¿ã€‚å¦‚æœä¸¤ç«¯éƒ½èƒ½æ‹¿çš„è¯ï¼Œè¿™å°±æ˜¯ä¸ªåŒç«¯é˜Ÿåˆ—ï¼Œä¸¤è¾¹å„¿éƒ½èƒ½æ“ä½œã€‚å¦‚æœåªèƒ½ä»ä¸€ç«¯è¿›ä¸€ç«¯å‡ºï¼Œè¿™ä¸ªæ¨¡å‹å’±ä»¬å‰é¢äº†è§£è¿‡ï¼Œå«åšæ ˆã€‚</p><h4 id="2-8-2-list-ç±»å‹æ•°æ®åŸºæœ¬æ“ä½œ"><a href="#2-8-2-list-ç±»å‹æ•°æ®åŸºæœ¬æ“ä½œ" class="headerlink" title="2.8.2 list ç±»å‹æ•°æ®åŸºæœ¬æ“ä½œ"></a>2.8.2 list ç±»å‹æ•°æ®åŸºæœ¬æ“ä½œ</h4><p>æœ€åçœ‹ä¸€ä¸‹ä»–çš„åŸºæœ¬æ“ä½œ</p><p>æ·»åŠ &#x2F;ä¿®æ”¹æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">lpush key value1 [value2] â€¦â€¦<br>rpush key value1 [value2] â€¦â€¦<br></code></pre></td></tr></table></figure><p>è·å–æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">lrange key start stop<br>lindex key index<br>llen key<br></code></pre></td></tr></table></figure><p>è·å–å¹¶ç§»é™¤æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">lpop key<br>rpop key<br></code></pre></td></tr></table></figure><h3 id="2-9-listæ‰©å±•æ“ä½œ"><a href="#2-9-listæ‰©å±•æ“ä½œ" class="headerlink" title="2.9  listæ‰©å±•æ“ä½œ"></a>2.9  listæ‰©å±•æ“ä½œ</h3><h4 id="2-9-1-list-ç±»å‹æ•°æ®æ‰©å±•æ“ä½œ"><a href="#2-9-1-list-ç±»å‹æ•°æ®æ‰©å±•æ“ä½œ" class="headerlink" title="2.9.1  list ç±»å‹æ•°æ®æ‰©å±•æ“ä½œ"></a>2.9.1  list ç±»å‹æ•°æ®æ‰©å±•æ“ä½œ</h4><p>ç§»é™¤æŒ‡å®šæ•°æ®</p><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs q">lrem <span class="hljs-built_in">key</span> <span class="hljs-built_in">count</span> <span class="hljs-built_in">value</span><br></code></pre></td></tr></table></figure><p>è§„å®šæ—¶é—´å†…è·å–å¹¶ç§»é™¤æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">blpop key1 [key2] <span class="hljs-built_in">timeout</span><br>brpop key1 [key2] <span class="hljs-built_in">timeout</span><br>brpoplpush <span class="hljs-built_in">source</span> destination <span class="hljs-built_in">timeout</span><br></code></pre></td></tr></table></figure><h4 id="2-9-2-list-ç±»å‹æ•°æ®æ“ä½œæ³¨æ„äº‹é¡¹"><a href="#2-9-2-list-ç±»å‹æ•°æ®æ“ä½œæ³¨æ„äº‹é¡¹" class="headerlink" title="2.9.2  list ç±»å‹æ•°æ®æ“ä½œæ³¨æ„äº‹é¡¹"></a>2.9.2  list ç±»å‹æ•°æ®æ“ä½œæ³¨æ„äº‹é¡¹</h4><p>ï¼ˆ1ï¼‰listä¸­ä¿å­˜çš„æ•°æ®éƒ½æ˜¯stringç±»å‹çš„ï¼Œæ•°æ®æ€»å®¹é‡æ˜¯æœ‰é™çš„ï¼Œæœ€å¤š232 - 1 ä¸ªå…ƒç´ (4294967295)ã€‚</p><p>ï¼ˆ2ï¼‰listå…·æœ‰ç´¢å¼•çš„æ¦‚å¿µï¼Œä½†æ˜¯æ“ä½œæ•°æ®æ—¶é€šå¸¸ä»¥é˜Ÿåˆ—çš„å½¢å¼è¿›è¡Œå…¥é˜Ÿå‡ºé˜Ÿæ“ä½œï¼Œæˆ–ä»¥æ ˆçš„å½¢å¼è¿›è¡Œå…¥æ ˆå‡ºæ ˆæ“ä½œ</p><p>ï¼ˆ3ï¼‰è·å–å…¨éƒ¨æ•°æ®æ“ä½œç»“æŸç´¢å¼•è®¾ç½®ä¸º-1</p><p>ï¼ˆ4ï¼‰listå¯ä»¥å¯¹æ•°æ®è¿›è¡Œåˆ†é¡µæ“ä½œï¼Œé€šå¸¸ç¬¬ä¸€é¡µçš„ä¿¡æ¯æ¥è‡ªäºlistï¼Œç¬¬2é¡µåŠæ›´å¤šçš„ä¿¡æ¯é€šè¿‡æ•°æ®åº“çš„å½¢å¼åŠ è½½</p><h3 id="2-10-list-åº”ç”¨åœºæ™¯"><a href="#2-10-list-åº”ç”¨åœºæ™¯" class="headerlink" title="2.10 list åº”ç”¨åœºæ™¯"></a>2.10 list åº”ç”¨åœºæ™¯</h3><h4 id="2-10-1-åº”ç”¨åœºæ™¯"><a href="#2-10-1-åº”ç”¨åœºæ™¯" class="headerlink" title="2.10.1  åº”ç”¨åœºæ™¯"></a>2.10.1  åº”ç”¨åœºæ™¯</h4><p>ä¼ä¸šè¿è¥è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå°†äº§ç”Ÿå‡ºå¤§é‡çš„è¿è¥æ•°æ®ï¼Œå¦‚ä½•ä¿éšœå¤šå°æœåŠ¡å™¨æ“ä½œæ—¥å¿—çš„ç»Ÿä¸€é¡ºåºè¾“å‡ºï¼Ÿ</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/list%E5%BA%94%E7%94%A8.png"></p><p>å‡å¦‚ç°åœ¨ä½ æœ‰å¤šå°æœåŠ¡å™¨ï¼Œæ¯ä¸€å°æœåŠ¡å™¨éƒ½ä¼šäº§ç”Ÿå®ƒçš„æ—¥å¿—ï¼Œå‡è®¾ä½ æ˜¯ä¸€ä¸ªè¿ç»´äººå‘˜ï¼Œä½ æƒ³çœ‹å®ƒçš„æ“ä½œæ—¥å¿—ï¼Œä½ æ€ä¹ˆçœ‹å‘¢ï¼Ÿæ‰“å¼€Aæœºå™¨çš„æ—¥å¿—çœ‹ä¸€çœ‹ï¼Œæ‰“å¼€Bæœºå™¨çš„æ—¥å¿—å†çœ‹ä¸€çœ‹å—ï¼Ÿè¿™æ ·çš„è¯ä½ ä¼šå¯èƒ½ä¼šç–¯æ‰çš„ï¼å› ä¸ºå·¦è¾¹çœ‹çš„æœ‰å¯èƒ½å®ƒçš„æ—¶é—´æ˜¯11:01ï¼Œå³è¾¹11:02ï¼Œç„¶åå†çœ‹å·¦è¾¹11:03ï¼Œå®ƒä»¬æœ¬èº«æ˜¯è¿ç»­çš„ï¼Œä½†æ˜¯ä½ åœ¨çœ‹çš„æ—¶å€™å°±åˆ†æˆå››ä¸ªæ–‡ä»¶äº†ï¼Œè¿™ä¸ªæ—¶å€™ä½ çœ‹èµ·æ¥å°±ä¼šå¾ˆéº»çƒ¦ã€‚èƒ½ä¸èƒ½æŠŠä»–ä»¬åˆå¹¶å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼æ€ä¹ˆåšå‘¢ï¼Ÿå»ºç«‹èµ·redisæœåŠ¡å™¨ã€‚å½“ä»–ä»¬éœ€è¦è®°æ—¥å¿—çš„æ—¶å€™ï¼Œè®°åœ¨å“ªå„¿,å…¨éƒ¨å‘ç»™redisã€‚ç­‰åˆ°ä½ æƒ³çœ‹çš„æ—¶å€™ï¼Œé€šè¿‡æœåŠ¡å™¨è®¿é—®redisè·å–æ—¥å¿—ã€‚ç„¶åå¾—åˆ°ä»¥åï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„æ—¥å¿—ä¿¡æ¯ã€‚é‚£ä¹ˆè¿™é‡Œé¢å°±å¯ä»¥è·å–åˆ°å®Œæ•´çš„æ—¥å¿—äº†ï¼Œä¾é ä»€ä¹ˆæ¥å®ç°å‘¢ï¼Ÿå°±ä¾é æˆ‘ä»¬çš„listçš„æ¨¡å‹çš„é¡ºåºæ¥å®ç°ã€‚è¿›æ¥ä¸€ç»„æ•°æ®å°±å¾€é‡ŒåŠ ï¼Œè°å…ˆè¿›æ¥è°å…ˆåŠ è¿›å»ï¼Œå®ƒæ˜¯æœ‰ä¸€å®šçš„é¡ºåºçš„ã€‚</p><h4 id="2-10-2-è§£å†³æ–¹æ¡ˆ"><a href="#2-10-2-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2.10.2  è§£å†³æ–¹æ¡ˆ"></a>2.10.2  è§£å†³æ–¹æ¡ˆ</h4><p>ä¾èµ–listçš„æ•°æ®å…·æœ‰é¡ºåºçš„ç‰¹å¾å¯¹ä¿¡æ¯è¿›è¡Œç®¡ç†</p><p>ä½¿ç”¨é˜Ÿåˆ—æ¨¡å‹è§£å†³å¤šè·¯ä¿¡æ¯æ±‡æ€»åˆå¹¶çš„é—®é¢˜</p><p>ä½¿ç”¨æ ˆæ¨¡å‹è§£å†³æœ€æ–°æ¶ˆæ¯çš„é—®é¢˜</p><h3 id="2-11-set-åŸºæœ¬æ“ä½œ"><a href="#2-11-set-åŸºæœ¬æ“ä½œ" class="headerlink" title="2.11  set åŸºæœ¬æ“ä½œ"></a>2.11  set åŸºæœ¬æ“ä½œ</h3><h4 id="2-11-1-setç±»å‹"><a href="#2-11-1-setç±»å‹" class="headerlink" title="2.11.1 setç±»å‹"></a>2.11.1 setç±»å‹</h4><p>æ–°çš„å­˜å‚¨éœ€æ±‚ï¼šå­˜å‚¨å¤§é‡çš„æ•°æ®ï¼Œåœ¨æŸ¥è¯¢æ–¹é¢æä¾›æ›´é«˜çš„æ•ˆç‡</p><p>éœ€è¦çš„å­˜å‚¨ç»“æ„ï¼šèƒ½å¤Ÿä¿å­˜å¤§é‡çš„æ•°æ®ï¼Œé«˜æ•ˆçš„å†…éƒ¨å­˜å‚¨æœºåˆ¶ï¼Œä¾¿äºæŸ¥è¯¢</p><p>setç±»å‹ï¼šä¸hashå­˜å‚¨ç»“æ„å®Œå…¨ç›¸åŒï¼Œä»…å­˜å‚¨é”®ï¼Œä¸å­˜å‚¨å€¼ï¼ˆnilï¼‰ï¼Œå¹¶ä¸”å€¼æ˜¯ä¸å…è®¸é‡å¤çš„</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/set%E6%A8%A1%E5%9E%8B.png"></p><p>é€šè¿‡è¿™ä¸ªåç§°ï¼Œå¤§å®¶ä¹ŸåŸºæœ¬ä¸Šèƒ½å¤Ÿè®¤è¯†åˆ°å’Œæˆ‘ä»¬Javaä¸­çš„setå®Œå…¨ä¸€æ ·ã€‚æˆ‘ä»¬ç°åœ¨è¦å­˜å‚¨å¤§é‡çš„æ•°æ®ï¼Œå¹¶ä¸”è¦æ±‚æé«˜å®ƒçš„æŸ¥è¯¢æ•ˆç‡ã€‚ç”¨listè¿™ç§é“¾è¡¨å½¢å¼ï¼Œå®ƒçš„æŸ¥è¯¢æ•ˆç‡æ˜¯ä¸é«˜çš„ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬å°±æƒ³ï¼Œæœ‰æ²¡æœ‰é«˜æ•ˆçš„å­˜å‚¨æœºåˆ¶ã€‚å…¶å®å‰é¢å’±è®²Javaçš„æ—¶å€™è¯´è¿‡hashè¡¨çš„ç»“æ„å°±éå¸¸çš„å¥½ï¼Œä½†æ˜¯è¿™é‡Œè¾¹æˆ‘ä»¬å·²ç»æœ‰hashäº†ï¼Œä»–åšäº†è¿™ä¹ˆä¸€ä¸ªè®¾å®šï¼Œå¹²å˜›å‘¢ï¼Œä»–æŠŠhashçš„å­˜å‚¨ç©ºé—´ç»™æ”¹ä¸€ä¸‹ï¼Œå³è¾¹ä½ åŸæ¥å­˜æ•°æ®æ”¹æ‰,å…¨éƒ¨å­˜ç©ºï¼Œé‚£ä½ è¯´æ•°æ®æ”¾å“ªå„¿äº†ï¼Ÿæ”¾åˆ°åŸæ¥çš„filedçš„ä½ç½®ï¼Œä¹Ÿå°±åœ¨è¿™é‡Œè¾¹å­˜çœŸæ­£çš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¨¡å‹å°±æ˜¯æˆ‘ä»¬çš„set æ¨¡å‹ã€‚</p><p>setç±»å‹ï¼šä¸hashå­˜å‚¨ç»“æ„å®Œå…¨ç›¸åŒï¼Œä»…å­˜å‚¨é”®ï¼Œä¸å­˜å‚¨å€¼ï¼ˆnilï¼‰ï¼Œå¹¶ä¸”å€¼æ˜¯ä¸å…è®¸é‡å¤çš„ã€‚</p><p>çœ‹ä¸€ä¸‹å®ƒçš„æ•´ä¸ªç»“æ„ï¼š</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/set4.png"></p><h4 id="2-11-2-setç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ"><a href="#2-11-2-setç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="2.11.2 setç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ"></a>2.11.2 setç±»å‹æ•°æ®çš„åŸºæœ¬æ“ä½œ</h4><p>æ·»åŠ æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sadd key member1 [member2]<br></code></pre></td></tr></table></figure><p>è·å–å…¨éƒ¨æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">smembers key<br></code></pre></td></tr></table></figure><p>åˆ é™¤æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">srem key member1 [member2]<br></code></pre></td></tr></table></figure><p>è·å–é›†åˆæ•°æ®æ€»é‡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">scard key<br></code></pre></td></tr></table></figure><p>åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šæ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sismember key member<br></code></pre></td></tr></table></figure><p>éšæœºè·å–é›†åˆä¸­æŒ‡å®šæ•°é‡çš„æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">srandmember key [count]<br></code></pre></td></tr></table></figure><p>éšæœºè·å–é›†ä¸­çš„æŸä¸ªæ•°æ®å¹¶å°†è¯¥æ•°æ®ç§»é™¤é›†åˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">spop key [count]<br></code></pre></td></tr></table></figure><h3 id="2-12-set-ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ"><a href="#2-12-set-ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ" class="headerlink" title="2.12  set ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ"></a>2.12  set ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ</h3><h4 id="2-12-1-set-ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ"><a href="#2-12-1-set-ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ" class="headerlink" title="2.12.1  set ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ"></a>2.12.1  set ç±»å‹æ•°æ®çš„æ‰©å±•æ“ä½œ</h4><p>æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤ã€å¹¶ã€å·®é›†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">sinter key1 <span class="hljs-selector-attr">[key2 â€¦]</span>  <br>sunion key1 <span class="hljs-selector-attr">[key2 â€¦]</span>  <br>sdiff key1 <span class="hljs-selector-attr">[key2 â€¦]</span><br></code></pre></td></tr></table></figure><p>æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤ã€å¹¶ã€å·®é›†å¹¶å­˜å‚¨åˆ°æŒ‡å®šé›†åˆä¸­</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">sinterstore destination key1 <span class="hljs-selector-attr">[key2 â€¦]</span>  <br>sunionstore destination key1 <span class="hljs-selector-attr">[key2 â€¦]</span>  <br>sdiffstore destination key1 <span class="hljs-selector-attr">[key2 â€¦]</span><br></code></pre></td></tr></table></figure><p>å°†æŒ‡å®šæ•°æ®ä»åŸå§‹é›†åˆä¸­ç§»åŠ¨åˆ°ç›®æ ‡é›†åˆä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">smove <span class="hljs-built_in">source</span> destination member<br></code></pre></td></tr></table></figure><p>é€šè¿‡ä¸‹é¢ä¸€å¼ å›¾å›å¿†ä¸€ä¸‹äº¤ã€å¹¶ã€å·®</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E4%BA%A4%E5%B9%B6%E5%B7%AE.png"></p><h4 id="2-12-2-set-ç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹"><a href="#2-12-2-set-ç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹" class="headerlink" title="2.12.2  set ç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹"></a>2.12.2  set ç±»å‹æ•°æ®æ“ä½œçš„æ³¨æ„äº‹é¡¹</h4><p>set ç±»å‹ä¸å…è®¸æ•°æ®é‡å¤ï¼Œå¦‚æœæ·»åŠ çš„æ•°æ®åœ¨ set ä¸­å·²ç»å­˜åœ¨ï¼Œå°†åªä¿ç•™ä¸€ä»½ã€‚</p><p>set è™½ç„¶ä¸hashçš„å­˜å‚¨ç»“æ„ç›¸åŒï¼Œä½†æ˜¯æ— æ³•å¯ç”¨hashä¸­å­˜å‚¨å€¼çš„ç©ºé—´ã€‚</p><h3 id="2-13-setåº”ç”¨åœºæ™¯"><a href="#2-13-setåº”ç”¨åœºæ™¯" class="headerlink" title="2.13  setåº”ç”¨åœºæ™¯"></a>2.13  setåº”ç”¨åœºæ™¯</h3><h4 id="2-13-1-setåº”ç”¨åœºæ™¯"><a href="#2-13-1-setåº”ç”¨åœºæ™¯" class="headerlink" title="2.13.1  setåº”ç”¨åœºæ™¯"></a>2.13.1  setåº”ç”¨åœºæ™¯</h4><p>ï¼ˆ1ï¼‰é»‘åå•</p><p>èµ„è®¯ç±»ä¿¡æ¯ç±»ç½‘ç«™è¿½æ±‚é«˜è®¿é—®é‡ï¼Œä½†æ˜¯ç”±äºå…¶ä¿¡æ¯çš„ä»·å€¼ï¼Œå¾€å¾€å®¹æ˜“è¢«ä¸æ³•åˆ†å­åˆ©ç”¨ï¼Œé€šè¿‡çˆ¬è™«æŠ€æœ¯ï¼Œ  å¿«é€Ÿè·å–ä¿¡æ¯ï¼Œä¸ªåˆ«ç‰¹ç§è¡Œä¸šç½‘ç«™ä¿¡æ¯é€šè¿‡çˆ¬è™«è·å–åˆ†æåï¼Œå¯ä»¥è½¬æ¢æˆå•†ä¸šæœºå¯†è¿›è¡Œå‡ºå”®ã€‚ä¾‹å¦‚ç¬¬ä¸‰æ–¹ç« è½¦ç¥¨ã€æœºç¥¨ã€é…’åº—åˆ·ç¥¨ä»£è´­è½¯ä»¶ï¼Œç”µå•†åˆ·è¯„è®ºã€åˆ·å¥½è¯„ã€‚</p><p>åŒæ—¶çˆ¬è™«å¸¦æ¥çš„ä¼ªæµé‡ä¹Ÿä¼šç»™ç»è¥è€…å¸¦æ¥é”™è§‰ï¼Œäº§ç”Ÿé”™è¯¯çš„å†³ç­–ï¼Œæœ‰æ•ˆé¿å…ç½‘ç«™è¢«çˆ¬è™«åå¤çˆ¬å–æˆä¸ºæ¯ä¸ªç½‘ç«™éƒ½è¦è€ƒè™‘çš„åŸºæœ¬é—®é¢˜ã€‚åœ¨åŸºäºæŠ€æœ¯å±‚é¢åŒºåˆ†å‡ºçˆ¬è™«ç”¨æˆ·åï¼Œéœ€è¦å°†æ­¤ç±»ç”¨æˆ·è¿›è¡Œæœ‰æ•ˆçš„å±è”½ï¼Œè¿™å°±æ˜¯é»‘åå•çš„å…¸å‹åº”ç”¨ã€‚</p><p>ps:ä¸æ˜¯è¯´çˆ¬è™«ä¸€å®šåšæ‘§æ¯æ€§çš„å·¥ä½œï¼Œæœ‰äº›å°å‹ç½‘ç«™éœ€è¦çˆ¬è™«ä¸ºå…¶å¸¦æ¥ä¸€äº›æµé‡ã€‚</p><p>ï¼ˆ2ï¼‰ç™½åå•</p><p>å¯¹äºå®‰å…¨æ€§æ›´é«˜çš„åº”ç”¨è®¿é—®ï¼Œä»…ä»…é é»‘åå•æ˜¯ä¸èƒ½è§£å†³å®‰å…¨é—®é¢˜çš„ï¼Œæ­¤æ—¶éœ€è¦è®¾å®šå¯è®¿é—®çš„ç”¨æˆ·ç¾¤ä½“ï¼Œ ä¾èµ–ç™½åå•åšæ›´ä¸ºè‹›åˆ»çš„è®¿é—®éªŒè¯ã€‚</p><h4 id="2-13-2-è§£å†³æ–¹æ¡ˆ"><a href="#2-13-2-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2.13.2  è§£å†³æ–¹æ¡ˆ"></a>2.13.2  è§£å†³æ–¹æ¡ˆ</h4><p>åŸºäºç»è¥æˆ˜ç•¥è®¾å®šé—®é¢˜ç”¨æˆ·å‘ç°ã€é‰´åˆ«è§„åˆ™</p><p>å‘¨æœŸæ€§æ›´æ–°æ»¡è¶³è§„åˆ™çš„ç”¨æˆ·é»‘åå•ï¼ŒåŠ å…¥seté›†åˆ</p><p>ç”¨æˆ·è¡Œä¸ºä¿¡æ¯è¾¾åˆ°åä¸é»‘åå•è¿›è¡Œæ¯”å¯¹ï¼Œç¡®è®¤è¡Œä¸ºå»å‘</p><p>é»‘åå•è¿‡æ»¤IPåœ°å€ï¼šåº”ç”¨äºå¼€æ”¾æ¸¸å®¢è®¿é—®æƒé™çš„ä¿¡æ¯æº</p><p>é»‘åå•è¿‡æ»¤è®¾å¤‡ä¿¡æ¯ï¼šåº”ç”¨äºé™å®šè®¿é—®è®¾å¤‡çš„ä¿¡æ¯æº</p><p>é»‘åå•è¿‡æ»¤ç”¨æˆ·ï¼šåº”ç”¨äºåŸºäºè®¿é—®æƒé™çš„ä¿¡æ¯æº</p><h3 id="2-14-å®è·µæ¡ˆä¾‹"><a href="#2-14-å®è·µæ¡ˆä¾‹" class="headerlink" title="2.14  å®è·µæ¡ˆä¾‹"></a>2.14  å®è·µæ¡ˆä¾‹</h3><h4 id="2-14-1ä¸šåŠ¡åœºæ™¯"><a href="#2-14-1ä¸šåŠ¡åœºæ™¯" class="headerlink" title="2.14.1ä¸šåŠ¡åœºæ™¯"></a>2.14.1ä¸šåŠ¡åœºæ™¯</h4><p>ä½¿ç”¨å¾®ä¿¡çš„è¿‡ç¨‹ä¸­ï¼Œå½“å¾®ä¿¡æ¥æ”¶æ¶ˆæ¯åï¼Œä¼šé»˜è®¤å°†æœ€è¿‘æ¥æ”¶çš„æ¶ˆæ¯ç½®é¡¶ï¼Œå½“å¤šä¸ªå¥½å‹åŠå…³æ³¨çš„è®¢é˜…å·åŒæ—¶å‘ é€æ¶ˆæ¯æ—¶ï¼Œè¯¥æ’åºä¼šä¸åœçš„è¿›è¡Œäº¤æ›¿ã€‚åŒæ—¶è¿˜å¯ä»¥å°†é‡è¦çš„ä¼šè¯è®¾ç½®ä¸ºç½®é¡¶ã€‚ä¸€æ—¦ç”¨æˆ·ç¦»çº¿åï¼Œå†æ¬¡æ‰“å¼€å¾®ä¿¡æ—¶ï¼Œæ¶ˆæ¯è¯¥æŒ‰ç…§ä»€ä¹ˆæ ·çš„é¡ºåºæ˜¾ç¤ºã€‚</p><p>æˆ‘ä»¬åˆ†æä¸€ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/set%E6%A1%88%E4%BE%8B.png"></p><p>100è¿™å°æ‰‹æœºä»£è¡¨ä½ ã€‚è€Œ200ã€300ã€400è¿™ä¸‰å°ä»£è¡¨ä½ å¥½å‹çš„æ‰‹æœºã€‚åœ¨è¿™é‡Œæœ‰ä¸€äº›ä¸œè¥¿éœ€è¦äº¤ä»£ä¸€ä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬æ¯ä¸ªäººçš„éƒ½ä¼šå¯¹è‡ªå·±çš„å¾®ä¿¡ä¸­çš„ä¸€äº›æ¯”è¾ƒé‡è¦çš„äººè®¾ç½®ä¼šè¯ç½®é¡¶ï¼Œå°†ä»–çš„é‚£æ¡å¯¹è¯æ”¾åœ¨æœ€ä¸Šé¢ã€‚æˆ‘ä»¬å‡å®šè¿™ä¸ªäººæœ‰ä¸¤ä¸ªä¼šè¯ç½®é¡¶çš„å¥½å‹ï¼Œåˆ†åˆ«æ˜¯400å’Œ500ï¼Œè€Œè¿™é‡Œè¾¹å°±åŒ…å«400.</p><p>ä¸‹é¢å‘¢ï¼Œæˆ‘ä»¬å°±æ¥å‘è¿™ä¸ªæ¶ˆæ¯ï¼Œç¬¬ä¸€ä¸ªå‘æ¶ˆæ¯çš„æ˜¯300ï¼Œä»–å‘äº†ä¸ªæ¶ˆæ¯ç»™100ã€‚å‘å®Œä»¥åï¼Œè¿™ä¸ªä¸œè¥¿åº”è¯¥æ€ä¹ˆå­˜å‚¨å‘¢ï¼Ÿåœ¨è¿™é‡Œé¢ä¸€å®šè¦åˆ†å¼€ï¼Œè®°å½•ç½®é¡¶çš„è¿™äº›äººçš„ä¼šè¯ï¼Œå¯¹åº”çš„ä¼šè¯æ˜¾ç¤ºé¡ºåºå’Œéç½®é¡¶çš„ä¸€å®šè¦åˆ†ä¸¤ã€‚</p><p>è¿™é‡Œé¢æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªæ¨¡å‹ï¼Œä¸€ä¸ªæ˜¯æ™®é€šçš„ï¼Œä¸€ä¸ªæ˜¯ç½®é¡¶çš„ï¼Œè€Œä¸Šé¢çš„è¿™ä¸ªç½®é¡¶çš„ç”¨æˆ·å‘¢ï¼Œæˆ‘ä»¬ç”¨setæ¥å­˜å‚¨ï¼Œå› ä¸ºä¸é‡å¤ã€‚è€Œä¸‹é¢è¿™äº›å› ä¸ºæœ‰é¡ºåºï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°ç”¨listå»å­˜å‚¨,ä¸ç„¶ä½ æ€ä¹ˆè¡¨è¾¾é¡ºåºå‘¢ï¼Ÿ</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/300.png"></p><p>é‚£å½“300å‘ç»™æ¶ˆæ¯ç»™100ä»¥åï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å…ˆåˆ¤å®šä½ åœ¨ç½®é¡¶äººç¾¤ä¸­å—ï¼Ÿä¸åœ¨,é‚£å¥½ï¼Œ300çš„æ¶ˆæ¯å¯¹åº”çš„é¡ºåºå°±åº”è¯¥æ”¾åœ¨æ™®é€šçš„åˆ—è¡¨é‡Œè¾¹ã€‚è€Œåœ¨è¿™é‡Œè¾¹ï¼Œæˆ‘ä»¬æŠŠ300åŠ è¿›å»ã€‚ç¬¬ä¸€ä¸ªæ•°æ®ä¹Ÿå°±æ˜¯ç°åœ¨300ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/400.png"></p><p>æ¥ä¸‹æ¥400ï¼Œå‘äº†ä¸ªæ¶ˆæ¯ã€‚åˆ¤æ–­ä¸€ä¸‹ï¼Œä»–æ˜¯éœ€è¦ç½®é¡¶çš„ï¼Œæ‰€ä»¥400å°†è¿›å…¥listçš„ç½®é¡¶é‡Œè¾¹æ”¾ç€ã€‚å½“å‰è¿˜æ²¡æœ‰ç‰¹æ®Šçš„åœ°æ–¹ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/200.png"></p><p>å†æ¥200å‘æ¶ˆæ¯äº†ï¼Œå’Œåˆšæ‰çš„åˆ¤å®šæ–¹æ³•ä¸€æ ·ï¼Œå…ˆçœ‹åœ¨ä¸åœ¨ç½®é¡¶é‡Œï¼Œä¸åœ¨çš„è¯è¿›æ™®é€šï¼Œç„¶ååœ¨æ™®é€šé‡Œè¾¹æŠŠ200åŠ å…¥å°±è¡Œäº†ï¼ŒOKï¼Œåˆ°è¿™é‡Œç›®å‰è¿˜æ²¡æœ‰é¡ºåºå˜åŒ–ã€‚</p><p>æ¥ä¸‹æ¥200åˆå‘æ¶ˆæ¯è¿‡æ¥ï¼ŒåŒä¸€ä¸ªäººç»™ä½ è¿å‘äº†ä¸¤æ¡ï¼Œé‚£è¿™ä¸ªæ—¶å€™200çš„æ¶ˆæ¯åˆ°è¾¾ä»¥åï¼Œå…ˆåˆ¤æ–­æ˜¯å¦åœ¨ç½®é¡¶èŒƒå›´ï¼Œä¸åœ¨ï¼Œæ¥ä¸‹æ¥ä»–è¦æ”¾åœ¨listæ™®é€šä¸­ï¼Œè¿™é‡Œä½ è¦æ³¨æ„ä¸€ç‚¹ï¼Œå› ä¸ºè¿™é‡Œè¾¹å·²ç»æœ‰200ï¼Œæ‰€ä»¥è¿›æ¥ä»¥åå…ˆå¹²ä¸€ä»¶äº‹å„¿ï¼ŒæŠŠ200æ€æ‰ï¼Œæ²¡æœ‰200ï¼Œç„¶åå†æŠŠ200åŠ è¿›æ¥ï¼Œé‚£ä½ æƒ³ä¸€ä¸‹ï¼Œç°åœ¨è¿™ä¸ªä½ç½®é¡ºåºæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯æ–°çš„éƒ½åœ¨å³è¾¹ï¼Œå¯¹ä¸å¯¹ï¼Ÿ</p><p>è¿˜è®°å¾—æˆ‘ä»¬è¯´listæ¨¡å‹ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ï¼Œå®ƒæ˜¯å¯ä»¥ä¸¤å¤´è¿›ä¸¤å¤´å‡ºã€‚å½“ç„¶æˆ‘ä»¬åŒç«¯ä»ä¸€å¤´è¿›ä¸€å¤´å‡ºï¼Œè¿™å°±æ˜¯æ ˆæ¨¡å‹ï¼Œç°åœ¨å’±ä»¬è¿ç”¨çš„å°±æ˜¯listæ¨¡å‹ä¸­çš„æ ˆæ¨¡å‹ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/3002.png"></p><p>ç°åœ¨300å‘æ¶ˆæ¯ï¼Œå…ˆåˆ¤å®šä»–åœ¨ä¸åœ¨ï¼Œä¸åœ¨ï¼Œç”¨æ™®é€šçš„é˜Ÿåˆ—ï¼Œæ¥ä¸‹æ¥æŒ‰ç…§åˆšæ‰çš„æ“ä½œï¼Œä¸ç®¡ä½ é‡Œè¾¹åŸæ¥æœ‰æ²¡æœ‰300ï¼Œæˆ‘å…ˆæŠŠ300æ€æ‰ï¼Œæ²¡äº†ï¼Œ200è‡ªç„¶å°±å¡«åˆ°300çš„ä½ç½®äº†ï¼Œä»–ç°åœ¨æ˜¯listé‡Œé¢å”¯ä¸€ä¸€ä¸ªï¼Œç„¶åè®©300è¿›æ¥ï¼Œæ³¨æ„æ˜¯ä»å³ä¾§è¿›æ¥çš„ï¼Œé‚£ä¹ˆç°åœ¨300å°±æ˜¯æœ€æ–°çš„ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E5%88%86%E6%9E%90.png"></p><p>é‚£ä¹ˆåˆ°è¿™é‡Œå‘¢ï¼Œæˆ‘ä»¬è®©100æ¥è¯»å–æ¶ˆæ¯ã€‚ä½ è§‰å¾—è¿™ä¸ªæ¶ˆæ¯é¡ºåºåº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿé¦–å…ˆç½®é¡¶çš„400æœ‰ä¸€ä¸ªï¼Œä»–è·‘åœ¨æœ€ä¸Šé¢ï¼Œç„¶ålistæ™®é€šå¦‚æœå‡ºæ¥çš„è¯ï¼Œ300æ˜¯æœ€æ–°çš„æ¶ˆæ¯ï¼Œè€Œ200åœ¨ä»–åé¢çš„ã€‚ç”¨è¿™ç§å½¢å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥åšå‡ºæ¥ä»–çš„æ¶ˆæ¯é¡ºåºæ¥ã€‚</p><h4 id="2-14-2-è§£å†³æ–¹æ¡ˆ"><a href="#2-14-2-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2.14.2  è§£å†³æ–¹æ¡ˆ"></a>2.14.2  è§£å†³æ–¹æ¡ˆ</h4><p>çœ‹ä¸€ä¸‹æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆï¼š</p><p>ä¾èµ–listçš„æ•°æ®å…·æœ‰é¡ºåºçš„ç‰¹å¾å¯¹æ¶ˆæ¯è¿›è¡Œç®¡ç†ï¼Œå°†listç»“æ„ä½œä¸ºæ ˆä½¿ç”¨</p><p>ç½®é¡¶ä¸æ™®é€šä¼šè¯åˆ†åˆ«åˆ›å»ºç‹¬ç«‹çš„liståˆ†åˆ«ç®¡ç†</p><p>å½“æŸä¸ªlistä¸­æ¥æ”¶åˆ°ç”¨æˆ·æ¶ˆæ¯åï¼Œå°†æ¶ˆæ¯å‘é€æ–¹çš„idä»listçš„ä¸€ä¾§åŠ å…¥listï¼ˆæ­¤å¤„è®¾å®šå·¦ä¾§ï¼‰</p><p>å¤šä¸ªç›¸åŒidå‘å‡ºçš„æ¶ˆæ¯åå¤å…¥æ ˆä¼šå‡ºç°é—®é¢˜ï¼Œåœ¨å…¥æ ˆä¹‹å‰æ— è®ºæ˜¯å¦å…·æœ‰å½“å‰idå¯¹åº”çš„æ¶ˆæ¯ï¼Œå…ˆåˆ é™¤å¯¹åº”id</p><p>æ¨é€æ¶ˆæ¯æ—¶å…ˆæ¨é€ç½®é¡¶ä¼šè¯listï¼Œå†æ¨é€æ™®é€šä¼šè¯listï¼Œæ¨é€å®Œæˆçš„listæ¸…é™¤æ‰€æœ‰æ•°æ®<br>æ¶ˆæ¯çš„æ•°é‡ï¼Œä¹Ÿå°±æ˜¯å¾®ä¿¡ç”¨æˆ·å¯¹è¯æ•°é‡é‡‡ç”¨è®¡æ•°å™¨çš„æ€æƒ³å¦è¡Œè®°å½•ï¼Œä¼´éšlistæ“ä½œåŒæ­¥æ›´æ–°</p><h4 id="2-14-3-æ•°æ®ç±»å‹æ€»ç»“"><a href="#2-14-3-æ•°æ®ç±»å‹æ€»ç»“" class="headerlink" title="2.14.3  æ•°æ®ç±»å‹æ€»ç»“"></a>2.14.3  æ•°æ®ç±»å‹æ€»ç»“</h4><p>æ€»ç»“ä¸€ä¸‹ï¼Œåœ¨æ•´ä¸ªæ•°æ®ç±»å‹çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¸»è¦ä»‹ç»äº†å“ªäº›å†…å®¹ï¼š</p><p>é¦–å…ˆæˆ‘ä»¬äº†è§£äº†ä¸€ä¸‹æ•°æ®ç±»å‹ï¼Œæ¥ä¸‹æ¥é’ˆå¯¹ç€æˆ‘ä»¬è¦å­¦ä¹ çš„æ•°æ®ç±»å‹ï¼Œè¿›è¡Œé€ä¸€è®²è§£äº†stringã€hashã€listã€setç­‰ï¼Œæœ€åé€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ€»ç»“äº†ä¸€ä¸‹å‰é¢çš„æ•°æ®ç±»å‹çš„ä½¿ç”¨åœºæ™¯ã€‚</p><h2 id="3-å¸¸ç”¨æŒ‡ä»¤"><a href="#3-å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="3. å¸¸ç”¨æŒ‡ä»¤"></a>3. å¸¸ç”¨æŒ‡ä»¤</h2><p>åœ¨è¿™éƒ¨åˆ†ä¸­å‘¢ï¼Œæˆ‘ä»¬å®¶å­¦ä¹ ä¸¤ä¸ªçŸ¥è¯†ï¼Œç¬¬ä¸€ä¸ªæ˜¯keyçš„å¸¸ç”¨æŒ‡ä»¤ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°æ®åº“çš„å¸¸ç”¨æŒ‡ä»¤ã€‚å’Œå‰é¢æˆ‘ä»¬å­¦æ•°æ®ç±»å‹åšä¸€ä¸‹åŒºåˆ†ï¼Œå‰é¢ä½ å­¦çš„é‚£äº›æŒ‡ä»¤å‘¢ï¼Œéƒ½æ˜¯é’ˆå¯¹æŸä¸€ä¸ªæ•°æ®ç±»å‹æ“ä½œçš„ï¼Œç°åœ¨å­¦çš„éƒ½æ˜¯å¯¹æ‰€æœ‰çš„æ“ä½œçš„ï¼Œæ¥çœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨å­¦ä¹ Keyçš„æ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬å…ˆæƒ³ä¸€ä¸‹çš„æ“ä½œæˆ‘ä»¬åº”è¯¥å­¦å“ªäº›ä¸œè¥¿:</p><h3 id="3-1-key-æ“ä½œåˆ†æ"><a href="#3-1-key-æ“ä½œåˆ†æ" class="headerlink" title="3.1  key æ“ä½œåˆ†æ"></a>3.1  key æ“ä½œåˆ†æ</h3><h4 id="3-1-1-keyåº”è¯¥è®¾è®¡å“ªäº›æ“ä½œï¼Ÿ"><a href="#3-1-1-keyåº”è¯¥è®¾è®¡å“ªäº›æ“ä½œï¼Ÿ" class="headerlink" title="3.1.1  keyåº”è¯¥è®¾è®¡å“ªäº›æ“ä½œï¼Ÿ"></a>3.1.1  keyåº”è¯¥è®¾è®¡å“ªäº›æ“ä½œï¼Ÿ</h4><p>keyæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé€šè¿‡keyè·å–redisä¸­ä¿å­˜çš„æ•°æ®</p><p>å¯¹äºkeyè‡ªèº«çŠ¶æ€çš„ç›¸å…³æ“ä½œï¼Œä¾‹å¦‚ï¼šåˆ é™¤ï¼Œåˆ¤å®šå­˜åœ¨ï¼Œè·å–ç±»å‹ç­‰</p><p>å¯¹äºkeyæœ‰æ•ˆæ€§æ§åˆ¶ç›¸å…³æ“ä½œï¼Œä¾‹å¦‚ï¼šæœ‰æ•ˆæœŸè®¾å®šï¼Œåˆ¤å®šæ˜¯å¦æœ‰æ•ˆï¼Œæœ‰æ•ˆçŠ¶æ€çš„åˆ‡æ¢ç­‰</p><p>å¯¹äºkeyå¿«é€ŸæŸ¥è¯¢æ“ä½œï¼Œä¾‹å¦‚ï¼šæŒ‰æŒ‡å®šç­–ç•¥æŸ¥è¯¢key</p><h4 id="3-1-2-key-åŸºæœ¬æ“ä½œ"><a href="#3-1-2-key-åŸºæœ¬æ“ä½œ" class="headerlink" title="3.1.2  key åŸºæœ¬æ“ä½œ"></a>3.1.2  key åŸºæœ¬æ“ä½œ</h4><p>åˆ é™¤æŒ‡å®škey</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">del key<br></code></pre></td></tr></table></figure><p>è·å–keyæ˜¯å¦å­˜åœ¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">exists key<br></code></pre></td></tr></table></figure><p>è·å–keyçš„ç±»å‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">type</span> key<br></code></pre></td></tr></table></figure><p>3.1.3  æ‹“å±•æ“ä½œ</p><p>æ’åº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sort</span><br></code></pre></td></tr></table></figure><p>æ”¹å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">rename key newkey<br>renamenx key newkey<br></code></pre></td></tr></table></figure><h4 id="3-1-3-key-æ‰©å±•æ“ä½œï¼ˆæ—¶æ•ˆæ€§æ§åˆ¶ï¼‰"><a href="#3-1-3-key-æ‰©å±•æ“ä½œï¼ˆæ—¶æ•ˆæ€§æ§åˆ¶ï¼‰" class="headerlink" title="3.1.3  key æ‰©å±•æ“ä½œï¼ˆæ—¶æ•ˆæ€§æ§åˆ¶ï¼‰"></a>3.1.3  key æ‰©å±•æ“ä½œï¼ˆæ—¶æ•ˆæ€§æ§åˆ¶ï¼‰</h4><p>ä¸ºæŒ‡å®škeyè®¾ç½®æœ‰æ•ˆæœŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">expire key seconds<br>pexpire key milliseconds<br>expireat key timestamp<br>pexpireat key milliseconds-timestamp<br></code></pre></td></tr></table></figure><p>è·å–keyçš„æœ‰æ•ˆæ—¶é—´</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ttl key<br>pttl key<br></code></pre></td></tr></table></figure><p>åˆ‡æ¢keyä»æ—¶æ•ˆæ€§è½¬æ¢ä¸ºæ°¸ä¹…æ€§</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">persist key<br></code></pre></td></tr></table></figure><h4 id="3-1-4-key-æ‰©å±•æ“ä½œï¼ˆæŸ¥è¯¢æ¨¡å¼ï¼‰"><a href="#3-1-4-key-æ‰©å±•æ“ä½œï¼ˆæŸ¥è¯¢æ¨¡å¼ï¼‰" class="headerlink" title="3.1.4  key æ‰©å±•æ“ä½œï¼ˆæŸ¥è¯¢æ¨¡å¼ï¼‰"></a>3.1.4  key æ‰©å±•æ“ä½œï¼ˆæŸ¥è¯¢æ¨¡å¼ï¼‰</h4><p>æŸ¥è¯¢key</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">keys pattern<br></code></pre></td></tr></table></figure><p>æŸ¥è¯¢æ¨¡å¼è§„åˆ™</p><p>*åŒ¹é…ä»»æ„æ•°é‡çš„ä»»æ„ç¬¦å·      ?é…åˆä¸€ä¸ªä»»æ„ç¬¦å·[]åŒ¹é…ä¸€ä¸ªæŒ‡å®šç¬¦å·</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">keys *  keys    æŸ¥è¯¢æ‰€æœ‰<br>it*  keys       æŸ¥è¯¢æ‰€æœ‰ä»¥itå¼€å¤´<br>*heima          æŸ¥è¯¢æ‰€æœ‰ä»¥heimaç»“å°¾<br>keys ??heima    æŸ¥è¯¢æ‰€æœ‰å‰é¢ä¸¤ä¸ªå­—ç¬¦ä»»æ„ï¼Œåé¢ä»¥heimaç»“å°¾ æŸ¥è¯¢æ‰€æœ‰ä»¥<br>keys user:?     user:å¼€å¤´ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦ä»»æ„<br>keys u[st]er:1  æŸ¥è¯¢æ‰€æœ‰ä»¥uå¼€å¤´ï¼Œä»¥er:1ç»“å°¾ï¼Œä¸­é—´åŒ…å«ä¸€ä¸ªå­—æ¯ï¼Œsæˆ–t<br></code></pre></td></tr></table></figure><h3 id="3-2-æ•°æ®åº“æŒ‡ä»¤"><a href="#3-2-æ•°æ®åº“æŒ‡ä»¤" class="headerlink" title="3.2  æ•°æ®åº“æŒ‡ä»¤"></a>3.2  æ•°æ®åº“æŒ‡ä»¤</h3><h4 id="3-2-1-key-çš„é‡å¤é—®é¢˜"><a href="#3-2-1-key-çš„é‡å¤é—®é¢˜" class="headerlink" title="3.2.1  key çš„é‡å¤é—®é¢˜"></a>3.2.1  key çš„é‡å¤é—®é¢˜</h4><p>åœ¨è¿™ä¸ªåœ°æ–¹æˆ‘ä»¬æ¥è®²ä¸€ä¸‹æ•°æ®åº“çš„å¸¸ç”¨æŒ‡ä»¤ï¼Œåœ¨è®²è¿™ä¸ªä¸œè¥¿ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š</p><p>å‡å¦‚è¯´ä½ ä»¬åä¸ªäººåŒæ—¶æ“ä½œredisï¼Œä¼šä¸ä¼šå‡ºç°keyåå­—å‘½åå†²çªçš„é—®é¢˜ã€‚</p><p>ä¸€å®šä¼šï¼Œä¸ºä»€ä¹ˆ?å› ä¸ºä½ çš„keyæ˜¯ç”±ç¨‹åºè€Œå®šä¹‰çš„ã€‚ä½ æƒ³å†™ä»€ä¹ˆå†™ä»€ä¹ˆï¼Œé‚£åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å¤§å®¶éƒ½åœ¨ä¸åœçš„åŠ ï¼Œæ—©æ™šæœ‰ä¸€å¤©ä»–ä¼šå†²çªçš„ã€‚</p><p>redisåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œä¼´éšç€æ“ä½œæ•°æ®é‡çš„å¢åŠ ï¼Œä¼šå‡ºç°å¤§é‡çš„æ•°æ®ä»¥åŠå¯¹åº”çš„keyã€‚</p><p>é‚£è¿™ä¸ªé—®é¢˜æˆ‘ä»¬è¦ä¸è¦è§£å†³ï¼Ÿè¦ï¼æ€ä¹ˆè§£å†³å‘¢ï¼Ÿæˆ‘ä»¬æœ€å¥½æŠŠæ•°æ®è¿›è¡Œä¸€ä¸ªåˆ†ç±»ï¼Œé™¤äº†å‘½åè§„èŒƒæˆ‘ä»¬åšç»Ÿä¸€ä»¥å¤–ï¼Œå¦‚æœè¿˜èƒ½æŠŠå®ƒåˆ†å¼€ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å†²çªçš„æœºç‡å°±ä¼šå°ä¸€äº›äº†ï¼Œè¿™å°±æ˜¯å’±ä»¬ä¸‹é¢è¦è¯´çš„è§£å†³æ–¹æ¡ˆï¼</p><h4 id="3-2-2-è§£å†³æ–¹æ¡ˆ"><a href="#3-2-2-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="3.2.2  è§£å†³æ–¹æ¡ˆ"></a>3.2.2  è§£å†³æ–¹æ¡ˆ</h4><p>redisä¸ºæ¯ä¸ªæœåŠ¡æä¾›æœ‰16ä¸ªæ•°æ®åº“ï¼Œç¼–å·ä»0åˆ°15</p><p>æ¯ä¸ªæ•°æ®åº“ä¹‹é—´çš„æ•°æ®ç›¸äº’ç‹¬ç«‹</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E6%95%B0%E6%8D%AE%E5%BA%93.png"></p><p>åœ¨å¯¹åº”çš„æ•°æ®åº“ä¸­åˆ’å‡ºä¸€å—åŒºåŸŸï¼Œè¯´ä»–å°±æ˜¯å‡ ï¼Œä½ å°±ç”¨å‡ é‚£å—ï¼ŒåŒæ—¶ï¼Œå…¶ä»–çš„è¿™äº›éƒ½å¯ä»¥è¿›è¡Œå®šä¹‰ï¼Œä¸€å…±æ˜¯16ä¸ªï¼Œè¿™é‡Œè¾¹éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä»–ä»¬è¿™16ä¸ªå…±ç”¨redisçš„å†…å­˜ã€‚æ²¡æœ‰è¯´è°å¤§è°å°ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°å­—åªæ˜¯ä»£è¡¨äº†ä¸€å—å„¿åŒºåŸŸï¼ŒåŒºåŸŸå…·ä½“å¤šå¤§æœªçŸ¥ã€‚è¿™æ˜¯æ•°æ®åº“çš„ä¸€ä¸ªåˆ†åŒºçš„ä¸€ä¸ªç­–ç•¥ï¼</p><h4 id="3-2-3-æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ"><a href="#3-2-3-æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="3.2.3   æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ"></a>3.2.3   æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ</h4><p>åˆ‡æ¢æ•°æ®åº“</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs axapta"><span class="hljs-keyword">select</span> <span class="hljs-keyword">index</span><br></code></pre></td></tr></table></figure><p>å…¶ä»–æ“ä½œ</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autoit"><span class="hljs-built_in">ping</span><br></code></pre></td></tr></table></figure><h4 id="3-2-4-æ•°æ®åº“æ‰©å±•æ“ä½œ"><a href="#3-2-4-æ•°æ®åº“æ‰©å±•æ“ä½œ" class="headerlink" title="3.2.4  æ•°æ®åº“æ‰©å±•æ“ä½œ"></a>3.2.4  æ•°æ®åº“æ‰©å±•æ“ä½œ</h4><p>æ•°æ®ç§»åŠ¨</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stata"><span class="hljs-keyword">move</span> key <span class="hljs-keyword">db</span><br></code></pre></td></tr></table></figure><p>æ•°æ®æ€»é‡</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">dbsize</span><br></code></pre></td></tr></table></figure><p>æ•°æ®æ¸…é™¤</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">flushdb  flushall</span><br></code></pre></td></tr></table></figure><h2 id="4-Jedis"><a href="#4-Jedis" class="headerlink" title="4. Jedis"></a>4. Jedis</h2><p>åœ¨å­¦ä¹ å®Œredisåï¼Œæˆ‘ä»¬ç°åœ¨å°±è¦ç”¨Javaæ¥è¿æ¥redisäº†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„è¿™ä¸€ç« è¦å­¦çš„Jedisäº†ã€‚åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¸»è¦è®²è§£ä»¥ä¸‹3ä¸ªå†…å®¹ï¼š</p><p>HelloWorldï¼ˆJedisç‰ˆï¼‰</p><p>Jedisç®€æ˜“å·¥å…·ç±»å¼€å‘</p><p>å¯è§†åŒ–å®¢æˆ·ç«¯</p><h3 id="4-1-Jedisç®€ä»‹"><a href="#4-1-Jedisç®€ä»‹" class="headerlink" title="4.1  Jedisç®€ä»‹"></a>4.1  Jedisç®€ä»‹</h3><h4 id="4-1-1-ç¼–ç¨‹è¯­è¨€ä¸redis"><a href="#4-1-1-ç¼–ç¨‹è¯­è¨€ä¸redis" class="headerlink" title="4.1.1  ç¼–ç¨‹è¯­è¨€ä¸redis"></a>4.1.1  ç¼–ç¨‹è¯­è¨€ä¸redis</h4><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/jedis1.png"></p><p>å¯¹äºæˆ‘ä»¬ç°åœ¨çš„æ•°æ®æ¥è¯´ï¼Œå®ƒæ˜¯åœ¨æˆ‘ä»¬çš„redisä¸­ï¼Œè€Œæœ€ç»ˆæˆ‘ä»¬æ˜¯è¦åšç¨‹åºã€‚é‚£ä¹ˆç¨‹åºå°±è¦å’Œæˆ‘ä»¬çš„redisè¿›è¡Œè¿æ¥ã€‚å¹²ä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿä¸¤ä»¶äº‹ï¼šç¨‹åºä¸­æœ‰æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦æŠŠè¿™äº›æ•°æ®å…¨éƒ¨äº¤ç»™redisç®¡ç†ã€‚åŒæ—¶ï¼Œredisä¸­çš„æ•°æ®è¿˜èƒ½å–å‡ºæ¥ï¼Œå›åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ã€‚é‚£åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œåœ¨Javaä¸redisä¹‹é—´æ‰“äº¤é“çš„è¿™ä¸ªä¸œè¥¿å°±å«åšJedis.ç®€å•è¯´ï¼ŒJediså°±æ˜¯æä¾›äº†Javaä¸redisçš„è¿æ¥æœåŠ¡çš„ï¼Œé‡Œè¾¹æœ‰å„ç§å„æ ·çš„APIæ¥å£ï¼Œä½ å¯ä»¥å»è°ƒç”¨å®ƒã€‚</p><p>é™¤äº†Jediså¤–ï¼Œè¿˜æœ‰æ²¡æœ‰å…¶ä»–çš„è¿™ç§è¿æ¥æœåŠ¡å‘¢ï¼Ÿå…¶å®è¿˜æœ‰å¾ˆå¤šï¼Œäº†è§£ä¸€ä¸‹ï¼š</p><p>Javaè¯­è¨€è¿æ¥redisæœåŠ¡ Jedisï¼ˆSpringDataã€Redis ã€ Lettuceï¼‰</p><p>å…¶å®ƒè¯­è¨€ï¼šC ã€C++ ã€C# ã€Erlangã€Lua ã€Objective-C ã€Perl ã€PHP ã€Python ã€Ruby ã€Scala</p><h4 id="4-1-2-å‡†å¤‡å·¥ä½œ"><a href="#4-1-2-å‡†å¤‡å·¥ä½œ" class="headerlink" title="4.1.2  å‡†å¤‡å·¥ä½œ"></a>4.1.2  å‡†å¤‡å·¥ä½œ</h4><p>(1)jaråŒ…å¯¼å…¥</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://mvnrepository.com/artifact/redis.clients/jedis">https://mvnrepository.com/artifact/redis.clients/jedis</a></p><p>åŸºäºmaven</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>(2)å®¢æˆ·ç«¯è¿æ¥redis</p><p>è¿æ¥redis</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">Jedis jedis</span> = new Jedis(<span class="hljs-string">&quot;localhost&quot;</span>, 6379);<br></code></pre></td></tr></table></figure><p>æ“ä½œredis</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">jedis.<span class="hljs-built_in">set</span>(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;itheima&quot;</span>);  jedis.<span class="hljs-built_in">get</span>(<span class="hljs-string">&quot;name&quot;</span>);<br></code></pre></td></tr></table></figure><p>å…³é—­redisè¿æ¥</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs abnf">jedis.close()<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure><p>APIæ–‡æ¡£</p><p><a href="http://xetorthio.github.io/jedis/">http://xetorthio.github.io/jedis/</a></p><h4 id="4-1-3-ä»£ç å®ç°"><a href="#4-1-3-ä»£ç å®ç°" class="headerlink" title="4.1.3 ä»£ç å®ç°"></a>4.1.3 ä»£ç å®ç°</h4><p>åˆ›å»ºï¼šcom.itheima.JedisTest</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JedisTest</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//1.è·å–è¿æ¥å¯¹è±¡</span><br>        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">&quot;192.168.40.130&quot;</span>,<span class="hljs-number">6379</span>);<br>        <span class="hljs-comment">//2.æ‰§è¡Œæ“ä½œ</span><br>        jedis.set(<span class="hljs-string">&quot;age&quot;</span>,<span class="hljs-string">&quot;39&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">hello</span> <span class="hljs-operator">=</span> jedis.get(<span class="hljs-string">&quot;hello&quot;</span>);<br>        System.out.println(hello);<br>        jedis.lpush(<span class="hljs-string">&quot;list1&quot;</span>,<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&quot;c&quot;</span>,<span class="hljs-string">&quot;d&quot;</span>);<br>        List&lt;String&gt; list1 = jedis.lrange(<span class="hljs-string">&quot;list1&quot;</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span> (String s:list1 ) &#123;<br>            System.out.println(s);<br>        &#125;<br>        jedis.sadd(<span class="hljs-string">&quot;set1&quot;</span>,<span class="hljs-string">&quot;abc&quot;</span>,<span class="hljs-string">&quot;abc&quot;</span>,<span class="hljs-string">&quot;def&quot;</span>,<span class="hljs-string">&quot;poi&quot;</span>,<span class="hljs-string">&quot;cba&quot;</span>);<br>        <span class="hljs-type">Long</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> jedis.scard(<span class="hljs-string">&quot;set1&quot;</span>);<br>        System.out.println(len);<br>        <span class="hljs-comment">//3.å…³é—­è¿æ¥</span><br>        jedis.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-2-Jedisç®€æ˜“å·¥å…·ç±»å¼€å‘"><a href="#4-2-Jedisç®€æ˜“å·¥å…·ç±»å¼€å‘" class="headerlink" title="4.2  Jedisç®€æ˜“å·¥å…·ç±»å¼€å‘"></a>4.2  Jedisç®€æ˜“å·¥å…·ç±»å¼€å‘</h3><p>å‰é¢æˆ‘ä»¬åšçš„ç¨‹åºè¿˜æ˜¯æœ‰ç‚¹å„¿å°é—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬çš„Jediså¯¹è±¡çš„ç®¡ç†æ˜¯æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„ï¼ŒçœŸå®ä¼ä¸šå¼€å‘ä¸­æ˜¯ä¸å¯èƒ½è®©ä½ å»newä¸€ä¸ªçš„ï¼Œé‚£æ¥ä¸‹æ¥å’±ä»¬å°±è¦åšä¸€ä¸ªå·¥å…·ç±»ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯åšä¸€ä¸ªåˆ›å»ºJedisçš„è¿™æ ·çš„ä¸€ä¸ªå·¥å…·ã€‚</p><h4 id="4-2-1-åŸºäºè¿æ¥æ± è·å–è¿æ¥"><a href="#4-2-1-åŸºäºè¿æ¥æ± è·å–è¿æ¥" class="headerlink" title="4.2.1  åŸºäºè¿æ¥æ± è·å–è¿æ¥"></a>4.2.1  åŸºäºè¿æ¥æ± è·å–è¿æ¥</h4><p>JedisPoolï¼šJedisæä¾›çš„è¿æ¥æ± æŠ€æœ¯ </p><p>poolConfig:è¿æ¥æ± é…ç½®å¯¹è±¡ </p><p>host:redisæœåŠ¡åœ°å€</p><p>port:redisæœåŠ¡ç«¯å£å·</p><p>JedisPoolçš„æ„é€ å™¨å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">JedisPool</span><span class="hljs-params">(GenericObjectPoolConfig poolConfig, String host, <span class="hljs-type">int</span> port)</span> &#123;<br><span class="hljs-built_in">this</span>(poolConfig, host, port, <span class="hljs-number">2000</span>, (String)<span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, (String)<span class="hljs-literal">null</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-2-2-å°è£…è¿æ¥å‚æ•°"><a href="#4-2-2-å°è£…è¿æ¥å‚æ•°" class="headerlink" title="4.2.2  å°è£…è¿æ¥å‚æ•°"></a>4.2.2  å°è£…è¿æ¥å‚æ•°</h4><p>åˆ›å»ºjedisçš„é…ç½®æ–‡ä»¶ï¼šjedis.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">jedis.host</span>=<span class="hljs-string">192.168.40.130  </span><br><span class="hljs-attr">jedis.port</span>=<span class="hljs-string">6379  </span><br><span class="hljs-attr">jedis.maxTotal</span>=<span class="hljs-string">50  </span><br><span class="hljs-attr">jedis.maxIdle</span>=<span class="hljs-string">10</span><br></code></pre></td></tr></table></figure><h4 id="4-2-3-åŠ è½½é…ç½®ä¿¡æ¯"><a href="#4-2-3-åŠ è½½é…ç½®ä¿¡æ¯" class="headerlink" title="4.2.3  åŠ è½½é…ç½®ä¿¡æ¯"></a>4.2.3  åŠ è½½é…ç½®ä¿¡æ¯</h4><p> åˆ›å»ºJedisUtilsï¼šcom.itheima.util.JedisUtilsï¼Œä½¿ç”¨é™æ€ä»£ç å—åˆå§‹åŒ–èµ„æº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JedisUtils</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> maxTotal;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> maxIdel;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> String host;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> port;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> JedisPoolConfig jpc;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> JedisPool jp;<br><br>    <span class="hljs-keyword">static</span> &#123;<br>        <span class="hljs-type">ResourceBundle</span> <span class="hljs-variable">bundle</span> <span class="hljs-operator">=</span> ResourceBundle.getBundle(<span class="hljs-string">&quot;redis&quot;</span>);<br>        maxTotal = Integer.parseInt(bundle.getString(<span class="hljs-string">&quot;redis.maxTotal&quot;</span>));<br>        maxIdel = Integer.parseInt(bundle.getString(<span class="hljs-string">&quot;redis.maxIdel&quot;</span>));<br>        host = bundle.getString(<span class="hljs-string">&quot;redis.host&quot;</span>);<br>        port = Integer.parseInt(bundle.getString(<span class="hljs-string">&quot;redis.port&quot;</span>));<br>        <span class="hljs-comment">//Jedisè¿æ¥æ± é…ç½®</span><br>        jpc = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisPoolConfig</span>();<br>        jpc.setMaxTotal(maxTotal);<br>        jpc.setMaxIdle(maxIdel);<br>        jp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisPool</span>(jpc,host,port);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-2-4-è·å–è¿æ¥"><a href="#4-2-4-è·å–è¿æ¥" class="headerlink" title="4.2.4  è·å–è¿æ¥"></a>4.2.4  è·å–è¿æ¥</h4><p> å¯¹å¤–è®¿é—®æ¥å£ï¼Œæä¾›jedisè¿æ¥å¯¹è±¡ï¼Œè¿æ¥ä»è¿æ¥æ± è·å–ï¼Œåœ¨JedisUtilsä¸­æ·»åŠ ä¸€ä¸ªè·å–jedisçš„æ–¹æ³•ï¼šgetJedis</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Jedis <span class="hljs-title function_">getJedis</span><span class="hljs-params">()</span>&#123;<br><span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> jedisPool.getResource();<br><span class="hljs-keyword">return</span> jedis;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-3-å¯è§†åŒ–å®¢æˆ·ç«¯"><a href="#4-3-å¯è§†åŒ–å®¢æˆ·ç«¯" class="headerlink" title="4.3  å¯è§†åŒ–å®¢æˆ·ç«¯"></a>4.3  å¯è§†åŒ–å®¢æˆ·ç«¯</h3><p>4.3.1  Redis Desktop Manager</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E5%8F%AF%E8%A7%86%E5%8C%96.png"></p><h2 id="5-æŒä¹…åŒ–"><a href="#5-æŒä¹…åŒ–" class="headerlink" title="5. æŒä¹…åŒ–"></a>5. æŒä¹…åŒ–</h2><p>ä¸‹é¢å‘¢ï¼Œè¿›å…¥åˆ°æŒä¹…åŒ–çš„å­¦ä¹ .è¿™éƒ¨åˆ†å†…å®¹ç†è§£çš„ä¸œè¥¿å¤šï¼Œæ“ä½œçš„ä¸œè¥¿å°‘ã€‚åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†è®²è§£å››ä¸ªä¸œè¥¿ï¼š</p><p>æŒä¹…åŒ–ç®€ä»‹</p><p>RDB</p><p>AOF</p><p>RDBä¸AOFåŒºåˆ«</p><h3 id="5-1-æŒä¹…åŒ–ç®€ä»‹"><a href="#5-1-æŒä¹…åŒ–ç®€ä»‹" class="headerlink" title="5.1  æŒä¹…åŒ–ç®€ä»‹"></a>5.1  æŒä¹…åŒ–ç®€ä»‹</h3><h4 id="5-1-1-åœºæ™¯-æ„å¤–æ–­ç”µ"><a href="#5-1-1-åœºæ™¯-æ„å¤–æ–­ç”µ" class="headerlink" title="5.1.1  åœºæ™¯-æ„å¤–æ–­ç”µ"></a>5.1.1  åœºæ™¯-æ„å¤–æ–­ç”µ</h4><p>ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰é‡è§è¿‡ï¼Œå°±æ˜¯æ­£å·¥ä½œçš„æ—¶å€™åœç”µäº†ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯ç¬”è®°æœ¬ç”µè„‘è¿˜å¥½ï¼Œä½ æœ‰ç”µæ± ï¼Œä½†å¦‚æœä½ ç”¨çš„æ˜¯å°å¼æœºå‘¢ï¼Œé‚£ææ€•å°±æ¯”è¾ƒç¾éš¾äº†ï¼Œå‡å¦‚ä½ ç°åœ¨æ­£åœ¨å†™ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ–‡æ¡£ï¼Œå¦‚æœä½ è¦ä½¿ç”¨çš„æ˜¯wordï¼Œè¿™ç§åŠå…¬è‡ªåŠ¨åŒ–è½¯ä»¶çš„è¯ï¼Œä»–ä¸€æ—¦é‡åˆ°åœç”µï¼Œå…¶å®ä½ ä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºå®ƒä¼šç»™ä½ ç”Ÿæˆä¸€äº›å…¶ä»–çš„æ–‡ä»¶ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E6%8C%81%E4%B9%85%E5%8C%96%E6%A1%88%E4%BE%8B1.png"></p><p>å…¶å®ä»–ä»¬éƒ½åœ¨åšä¸€ä»¶äº‹å„¿ï¼Œå¸®ä½ è‡ªåŠ¨æ¢å¤ï¼Œæœ‰äº†è¿™ä¸ªæ–‡ä»¶ï¼Œä½ å‰é¢çš„ä¸œè¥¿å°±ä¸å†ä¸¢äº†ã€‚é‚£ä»€ä¹ˆæ˜¯è‡ªåŠ¨æ¢å¤å‘¢ï¼Ÿä½ è¦å…ˆäº†è§£ä»–çš„æ•´ä¸ªè¿‡ç¨‹ã€‚</p><p>æˆ‘ä»¬è¯´è‡ªåŠ¨æ¢å¤ï¼Œå…¶å®åŸºäºçš„ä¸€ä¸ªå‰æå°±æ˜¯ä»–æå‰æŠŠä½ çš„æ•°æ®ç»™å­˜èµ·æ¥äº†ã€‚ä½ å¹³å¸¸æ“ä½œçš„æ‰€æœ‰ä¿¡æ¯éƒ½æ˜¯åœ¨å†…å­˜ä¸­çš„ï¼Œè€Œæˆ‘ä»¬çœŸæ­£çš„ä¿¡æ¯æ˜¯ä¿å­˜åœ¨ç¡¬ç›˜ä¸­çš„ï¼Œå†…å­˜ä¸­çš„ä¿¡æ¯æ–­ç”µä»¥åå°±æ¶ˆå¤±äº†ï¼Œç¡¬ç›˜ä¸­çš„ä¿¡æ¯æ–­ç”µä»¥åè¿˜å¯ä»¥ä¿ç•™ä¸‹æ¥ï¼</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E5%A4%87%E4%BB%BD.png"></p><p>æˆ‘ä»¬å°†æ–‡ä»¶ç”±å†…å­˜ä¸­ä¿å­˜åˆ°ç¡¬ç›˜ä¸­çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å«åšæ•°æ®ä¿å­˜ï¼Œä¹Ÿå°±å«åšæŒä¹…åŒ–ã€‚ä½†æ˜¯æŠŠå®ƒä¿å­˜ä¸‹æ¥ä¸æ˜¯ä½ çš„ç›®çš„ï¼Œæœ€ç»ˆä½ è¿˜è¦æŠŠå®ƒå†è¯»å–å‡ºæ¥ï¼Œå®ƒåŠ è½½åˆ°å†…å­˜ä¸­è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å«åšæ•°æ®æ¢å¤ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„wordä¸ºä»€ä¹ˆæ–­ç”µä»¥åè¿˜èƒ½å¤Ÿç»™ä½ ä¿ç•™æ–‡ä»¶ï¼Œå› ä¸ºå®ƒæ‰§è¡Œäº†ä¸€ä¸ªè‡ªåŠ¨å¤‡ä»½çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡è‡ªåŠ¨çš„å½¢å¼ï¼ŒæŠŠä½ çš„æ•°æ®å­˜å‚¨èµ·æ¥ï¼Œé‚£ä¹ˆæœ‰äº†è¿™ç§å½¢å¼ä»¥åï¼Œæˆ‘ä»¬çš„æ•°æ®å°±å¯ä»¥ç”±å†…å­˜åˆ°ç¡¬ç›˜ä¸Šå®ç°ä¿å­˜ã€‚</p><h4 id="5-1-2-ä»€ä¹ˆæ˜¯æŒä¹…åŒ–"><a href="#5-1-2-ä»€ä¹ˆæ˜¯æŒä¹…åŒ–" class="headerlink" title="5.1.2  ä»€ä¹ˆæ˜¯æŒä¹…åŒ–"></a>5.1.2  ä»€ä¹ˆæ˜¯æŒä¹…åŒ–</h4><p>(1)ä»€ä¹ˆæ˜¯æŒä¹…åŒ–</p><p>åˆ©ç”¨æ°¸ä¹…æ€§å­˜å‚¨ä»‹è´¨å°†æ•°æ®è¿›è¡Œä¿å­˜ï¼Œåœ¨ç‰¹å®šçš„æ—¶é—´å°†ä¿å­˜çš„æ•°æ®è¿›è¡Œæ¢å¤çš„å·¥ä½œæœºåˆ¶ç§°ä¸ºæŒä¹…åŒ– ã€‚</p><p>æŒä¹…åŒ–ç”¨äºé˜²æ­¢æ•°æ®çš„æ„å¤–ä¸¢å¤±ï¼Œç¡®ä¿æ•°æ®å®‰å…¨æ€§ã€‚</p><p>(2)æŒä¹…åŒ–è¿‡ç¨‹ä¿å­˜ä»€ä¹ˆï¼Ÿ</p><p>æˆ‘ä»¬çŸ¥é“ä¸€ç‚¹ï¼Œè®¡ç®—æœºä¸­çš„æ•°æ®å…¨éƒ¨éƒ½æ˜¯äºŒè¿›åˆ¶ï¼Œå¦‚æœç°åœ¨æˆ‘è¦ä½ ç»™æˆ‘ä¿å­˜ä¸€ç»„æ•°æ®çš„è¯ï¼Œä½ æœ‰ä»€ä¹ˆæ ·çš„æ–¹å¼å‘¢ï¼Œå…¶å®æœ€ç®€å•çš„å°±æ˜¯ç°åœ¨é•¿ä»€ä¹ˆæ ·ï¼Œæˆ‘å°±è®°ä¸‹æ¥å°±è¡Œäº†ï¼Œé‚£ä¹ˆè¿™ç§æ˜¯è®°å½•çº¯ç²¹çš„æ•°æ®ï¼Œä¹Ÿå«åšå¿«ç…§å­˜å‚¨ï¼Œä¹Ÿå°±æ˜¯å®ƒä¿å­˜çš„æ˜¯æŸä¸€æ—¶åˆ»çš„æ•°æ®çŠ¶æ€ã€‚</p><p>è¿˜æœ‰ä¸€ç§å½¢å¼ï¼Œå®ƒä¸è®°å½•ä½ çš„æ•°æ®ï¼Œå®ƒè®°å½•ä½ æ‰€æœ‰çš„æ“ä½œè¿‡ç¨‹ï¼Œæ¯”å¦‚è¯´å¤§å®¶ç”¨ideaçš„æ—¶å€™ï¼Œæœ‰æ²¡æœ‰é‡åˆ°è¿‡å†™é”™äº†ctrl+zæ’¤é”€ï¼Œç„¶åctrl+yè¿˜èƒ½æ¢å¤ï¼Œè¿™ä¸ªåœ°æ–¹å®ƒä¹Ÿæ˜¯åœ¨è®°å½•ï¼Œä½†æ˜¯è®°å½•çš„æ˜¯ä½ æ‰€æœ‰çš„æ“ä½œè¿‡ç¨‹ï¼Œé‚£æˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œæ“ä½œè¿‡ç¨‹ï¼Œæˆ‘éƒ½ç»™ä½ ç•™ä¸‹æ¥äº†ï¼Œä½ è¯´æ•°æ®è¿˜ä¼šä¸¢å—ï¼Ÿè‚¯å®šä¸ä¼šä¸¢ï¼Œå› ä¸ºä½ æ‰€æœ‰çš„æ“ä½œè¿‡ç¨‹æˆ‘éƒ½ä¿å­˜äº†ã€‚è¿™ç§ä¿å­˜æ“ä½œè¿‡ç¨‹çš„å­˜å‚¨ï¼Œç”¨ä¸“ä¸šæœ¯è¯­æ¥è¯´å¯ä»¥è¯´æ˜¯æ—¥å¿—ï¼Œè¿™æ˜¯ä¸¤ç§ä¸åŒçš„ä¿å­˜æ•°æ®çš„å½¢å¼å•Šã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E6%8C%81%E4%B9%85%E5%8C%962.png"></p><p>æ€»ç»“ä¸€ä¸‹ï¼š</p><p>ç¬¬ä¸€ç§ï¼šå°†å½“å‰æ•°æ®çŠ¶æ€è¿›è¡Œä¿å­˜ï¼Œå¿«ç…§å½¢å¼ï¼Œå­˜å‚¨æ•°æ®ç»“æœï¼Œå­˜å‚¨æ ¼å¼ç®€å•ï¼Œå…³æ³¨ç‚¹åœ¨æ•°æ®ã€‚</p><p>ç¬¬äºŒç§ï¼šå°†æ•°æ®çš„æ“ä½œè¿‡ç¨‹è¿›è¡Œä¿å­˜ï¼Œæ—¥å¿—å½¢å¼ï¼Œå­˜å‚¨æ“ä½œè¿‡ç¨‹ï¼Œå­˜å‚¨æ ¼å¼å¤æ‚ï¼Œå…³æ³¨ç‚¹åœ¨æ•°æ®çš„æ“ä½œè¿‡ç¨‹ã€‚</p><h3 id="5-2-RDB"><a href="#5-2-RDB" class="headerlink" title="5.2  RDB"></a>5.2  RDB</h3><h4 id="5-2-1-saveæŒ‡ä»¤"><a href="#5-2-1-saveæŒ‡ä»¤" class="headerlink" title="5.2.1  saveæŒ‡ä»¤"></a>5.2.1  saveæŒ‡ä»¤</h4><p>æ‰‹åŠ¨æ‰§è¡Œä¸€æ¬¡ä¿å­˜æ“ä½œ</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">save</span><br></code></pre></td></tr></table></figure><p><strong>saveæŒ‡ä»¤ç›¸å…³é…ç½®</strong></p><p>è®¾ç½®æœ¬åœ°æ•°æ®åº“æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸º dump.rdbï¼Œé€šå¸¸è®¾ç½®ä¸ºdump-ç«¯å£å·.rdb</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">dbfilename filename</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®å­˜å‚¨.rdbæ–‡ä»¶çš„è·¯å¾„ï¼Œé€šå¸¸è®¾ç½®æˆå­˜å‚¨ç©ºé—´è¾ƒå¤§çš„ç›®å½•ä¸­ï¼Œç›®å½•åç§°data</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs dos"><span class="hljs-built_in">dir</span> <span class="hljs-built_in">path</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®å­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤yesï¼Œè®¾ç½®ä¸ºnoï¼ŒèŠ‚çœ CPU è¿è¡Œæ—¶é—´ï¼Œä½†å­˜å‚¨æ–‡ä»¶å˜å¤§</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">rdbcompression</span> <span class="hljs-literal">yes</span>|<span class="hljs-literal">no</span><br></code></pre></td></tr></table></figure><p>è®¾ç½®è¯»å†™æ–‡ä»¶è¿‡ç¨‹æ˜¯å¦è¿›è¡ŒRDBæ ¼å¼æ ¡éªŒï¼Œé»˜è®¤yesï¼Œè®¾ç½®ä¸ºnoï¼ŒèŠ‚çº¦è¯»å†™10%æ—¶é—´æ¶ˆè€—ï¼Œå•å­˜åœ¨æ•°æ®æŸåçš„é£é™©</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">rdbchecksum</span> <span class="hljs-literal">yes</span>|<span class="hljs-literal">no</span><br></code></pre></td></tr></table></figure><p><strong>saveæŒ‡ä»¤å·¥ä½œåŸç†</strong></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/rdb%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F.png"></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F2.png"></p><p>éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œæ¥çœ‹ä¸€ä¸‹ï¼Œç°åœ¨æœ‰å››ä¸ªå®¢æˆ·ç«¯å„è‡ªè¦æ‰§è¡Œä¸€ä¸ªæŒ‡ä»¤ï¼ŒæŠŠè¿™äº›æŒ‡ä»¤å‘é€åˆ°redisæœåŠ¡å™¨åï¼Œä»–ä»¬æ‰§è¡Œæœ‰ä¸€ä¸ªå…ˆåé¡ºåºé—®é¢˜ï¼Œå‡å®šå°±æ˜¯æŒ‰ç…§1234çš„é¡ºåºæ”¾è¿‡å»çš„è¯ï¼Œé‚£ä¼šæ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</p><p>è®°å¾—redisæ˜¯ä¸ªå•çº¿ç¨‹çš„å·¥ä½œæ¨¡å¼ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰€æœ‰çš„å‘½ä»¤éƒ½ä¼šè¿›åˆ°è¿™ä¸ªé˜Ÿåˆ—é‡Œè¾¹ï¼Œåœ¨è¿™å„¿æ’é˜Ÿæ‰§è¡Œï¼Œæ‰§è¡Œå®Œä¸€ä¸ªæ¶ˆå¤±ä¸€ä¸ªï¼Œå½“æ‰€æœ‰çš„å‘½ä»¤éƒ½æ‰§è¡Œå®Œäº†ï¼ŒOKï¼Œç»“æœè¾¾åˆ°äº†ã€‚</p><p>ä½†æ˜¯å¦‚æœç°åœ¨æˆ‘ä»¬æ‰§è¡Œçš„æ—¶å€™saveæŒ‡ä»¤ä¿å­˜çš„æ•°æ®é‡å¾ˆå¤§ä¼šæ˜¯ä»€ä¹ˆç°è±¡å‘¢ï¼Ÿ</p><p>ä»–ä¼šéå¸¸è€—æ—¶ï¼Œä»¥è‡³äºå½±å“åˆ°å®ƒåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œåé¢çš„æŒ‡ä»¤éƒ½è¦ç­‰ï¼Œæ‰€ä»¥è¯´è¿™ç§æ¨¡å¼æ˜¯ä¸å‹å¥½çš„ï¼Œè¿™æ˜¯saveæŒ‡ä»¤å¯¹åº”çš„ä¸€ä¸ªé—®é¢˜ï¼Œå½“cpuæ‰§è¡Œçš„æ—¶å€™ä¼šé˜»å¡redisæœåŠ¡å™¨ï¼Œç›´åˆ°ä»–æ‰§è¡Œå®Œæ¯•ï¼Œæ‰€ä»¥è¯´æˆ‘ä»¬ä¸å»ºè®®å¤§å®¶åœ¨çº¿ä¸Šç¯å¢ƒç”¨saveæŒ‡ä»¤ã€‚</p><h4 id="5-2-2-bgsaveæŒ‡ä»¤"><a href="#5-2-2-bgsaveæŒ‡ä»¤" class="headerlink" title="5.2.2  bgsaveæŒ‡ä»¤"></a>5.2.2  bgsaveæŒ‡ä»¤</h4><p>ä¹‹å‰æˆ‘ä»¬è®²åˆ°äº†å½“saveæŒ‡ä»¤çš„æ•°æ®é‡è¿‡å¤§æ—¶ï¼Œå•çº¿ç¨‹æ‰§è¡Œæ–¹å¼é€ æˆæ•ˆç‡è¿‡ä½ï¼Œé‚£åº”è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ</p><p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ï¼š<strong>bgsave</strong>æŒ‡ä»¤ï¼Œbgå…¶å®æ˜¯backgroundçš„æ„æ€ï¼Œåå°æ‰§è¡Œçš„æ„æ€</p><p>æ‰‹åŠ¨å¯åŠ¨åå°ä¿å­˜æ“ä½œï¼Œä½†ä¸æ˜¯ç«‹å³æ‰§è¡Œ</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">bgsave</span><br></code></pre></td></tr></table></figure><p><strong>bgsaveæŒ‡ä»¤ç›¸å…³é…ç½®</strong></p><p>åå°å­˜å‚¨è¿‡ç¨‹ä¸­å¦‚æœå‡ºç°é”™è¯¯ç°è±¡ï¼Œæ˜¯å¦åœæ­¢ä¿å­˜æ“ä½œï¼Œé»˜è®¤yes</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">stop-writes-on-bgsave-error</span> <span class="hljs-string">yes|no</span><br></code></pre></td></tr></table></figure><p>å…¶ ä»–</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">dbfilename</span> <span class="hljs-string">filename  </span><br><span class="hljs-attr">dir</span> <span class="hljs-string">path  </span><br><span class="hljs-attr">rdbcompression</span> <span class="hljs-string">yes|no  </span><br><span class="hljs-attr">rdbchecksum</span> <span class="hljs-string">yes|no</span><br></code></pre></td></tr></table></figure><p><strong>bgsaveæŒ‡ä»¤å·¥ä½œåŸç†</strong></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/rdb%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F3.png"></p><p>å½“æ‰§è¡Œbgsaveçš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯å‘å‡ºbgsaveæŒ‡ä»¤ç»™åˆ°redisæœåŠ¡å™¨ã€‚æ³¨æ„ï¼Œè¿™ä¸ªæ—¶å€™æœåŠ¡å™¨é©¬ä¸Šå›ä¸€ä¸ªç»“æœå‘Šè¯‰å®¢æˆ·ç«¯åå°å·²ç»å¼€å§‹äº†ï¼Œä¸æ­¤åŒæ—¶å®ƒä¼šåˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œä½¿ç”¨Linuxçš„forkå‡½æ•°åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œè®©è¿™ä¸ªå­è¿›ç¨‹å»æ‰§è¡Œsaveç›¸å…³çš„æ“ä½œï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¸»è¿›ç¨‹ä¸€ç›´åœ¨å¤„ç†æŒ‡ä»¤ï¼Œè€Œå­è¿›ç¨‹åœ¨æ‰§è¡Œåå°çš„ä¿å­˜ï¼Œå®ƒä¼šä¸ä¼šå¹²æ‰°åˆ°ä¸»è¿›ç¨‹çš„æ‰§è¡Œå—ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä¸ä¼šï¼Œæ‰€ä»¥è¯´ä»–æ‰æ˜¯ä¸»æµæ–¹æ¡ˆã€‚å­è¿›ç¨‹å¼€å§‹æ‰§è¡Œä¹‹åï¼Œå®ƒå°±ä¼šåˆ›å»ºå•ŠRDBæ–‡ä»¶æŠŠå®ƒå­˜èµ·æ¥ï¼Œæ“ä½œå®Œä»¥åä»–ä¼šæŠŠè¿™ä¸ªç»“æœè¿”å›ï¼Œä¹Ÿå°±æ˜¯è¯´bgsaveçš„è¿‡ç¨‹åˆ†æˆä¸¤ä¸ªè¿‡ç¨‹ï¼Œç¬¬ä¸€ä¸ªæ˜¯æœåŠ¡ç«¯æ‹¿åˆ°æŒ‡ä»¤ç›´æ¥å‘Šè¯‰å®¢æˆ·ç«¯å¼€å§‹æ‰§è¡Œäº†ï¼›å¦å¤–ä¸€ä¸ªè¿‡ç¨‹æ˜¯ä¸€ä¸ªå­è¿›ç¨‹åœ¨å®Œæˆåå°çš„ä¿å­˜æ“ä½œï¼Œæ“ä½œå®Œä»¥åå›ä¸€ä¸ªæ¶ˆæ¯ã€‚</p><h4 id="5-2-3-saveé…ç½®è‡ªåŠ¨æ‰§è¡Œ"><a href="#5-2-3-saveé…ç½®è‡ªåŠ¨æ‰§è¡Œ" class="headerlink" title="5.2.3 saveé…ç½®è‡ªåŠ¨æ‰§è¡Œ"></a>5.2.3 saveé…ç½®è‡ªåŠ¨æ‰§è¡Œ</h4><p>è®¾ç½®è‡ªåŠ¨æŒä¹…åŒ–çš„æ¡ä»¶ï¼Œæ»¡è¶³é™å®šæ—¶é—´èŒƒå›´å†…keyçš„å˜åŒ–æ•°é‡è¾¾åˆ°æŒ‡å®šæ•°é‡å³è¿›è¡ŒæŒä¹…åŒ–</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">save</span> <span class="hljs-string">second changes</span><br></code></pre></td></tr></table></figure><p>å‚æ•°</p><p>secondï¼šç›‘æ§æ—¶é—´èŒƒå›´</p><p>changesï¼šç›‘æ§keyçš„å˜åŒ–é‡</p><p>èŒƒä¾‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown">save 900 1<br>save 300 10<br>save 60 10000<br></code></pre></td></tr></table></figure><p>å…¶ä»–ç›¸å…³é…ç½®ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs markdown">dbfilename filename<br>dir path<br>rdbcompression yes|no<br>rdbchecksum yes|no<br>stop-writes-on-bgsave-error yes|no<br></code></pre></td></tr></table></figure><p><strong>saveé…ç½®å·¥ä½œåŸç†</strong></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/%E5%90%AF%E5%8A%A8%E6%96%B9%E5%BC%8F4.png"></p><h4 id="5-2-4-RDBä¸‰ç§å¯åŠ¨æ–¹å¼å¯¹æ¯”"><a href="#5-2-4-RDBä¸‰ç§å¯åŠ¨æ–¹å¼å¯¹æ¯”" class="headerlink" title="5.2.4 RDBä¸‰ç§å¯åŠ¨æ–¹å¼å¯¹æ¯”"></a>5.2.4 RDBä¸‰ç§å¯åŠ¨æ–¹å¼å¯¹æ¯”</h4><table><thead><tr><th>æ–¹å¼</th><th>saveæŒ‡ä»¤</th><th>bgsaveæŒ‡ä»¤</th></tr></thead><tbody><tr><td>è¯»å†™</td><td>åŒæ­¥</td><td>å¼‚æ­¥</td></tr><tr><td>é˜»å¡å®¢æˆ·ç«¯æŒ‡ä»¤</td><td>æ˜¯</td><td>å¦</td></tr><tr><td>é¢å¤–å†…å­˜æ¶ˆè€—</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>å¯åŠ¨æ–°è¿›ç¨‹</td><td>å¦</td><td>æ˜¯</td></tr></tbody></table><p><strong>RDBç‰¹æ®Šå¯åŠ¨å½¢å¼</strong></p><p>æœåŠ¡å™¨è¿è¡Œè¿‡ç¨‹ä¸­é‡å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">debug reload<br></code></pre></td></tr></table></figure><p>å…³é—­æœåŠ¡å™¨æ—¶æŒ‡å®šä¿å­˜æ•°æ®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">shutdown save<br></code></pre></td></tr></table></figure><p>å…¨é‡å¤åˆ¶ï¼ˆåœ¨ä¸»ä»å¤åˆ¶ä¸­è¯¦ç»†è®²è§£ï¼‰</p><p><strong>RDBä¼˜ç‚¹ï¼š</strong></p><ul><li>RDBæ˜¯ä¸€ä¸ªç´§å‡‘å‹ç¼©çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå­˜å‚¨æ•ˆç‡è¾ƒé«˜</li><li>RDBå†…éƒ¨å­˜å‚¨çš„æ˜¯redisåœ¨æŸä¸ªæ—¶é—´ç‚¹çš„æ•°æ®å¿«ç…§ï¼Œéå¸¸é€‚åˆç”¨äºæ•°æ®å¤‡ä»½ï¼Œå…¨é‡å¤åˆ¶ç­‰åœºæ™¯</li><li>RDBæ¢å¤æ•°æ®çš„é€Ÿåº¦è¦æ¯”AOFå¿«å¾ˆå¤š</li><li>åº”ç”¨ï¼šæœåŠ¡å™¨ä¸­æ¯Xå°æ—¶æ‰§è¡Œbgsaveå¤‡ä»½ï¼Œå¹¶å°†RDBæ–‡ä»¶æ‹·è´åˆ°è¿œç¨‹æœºå™¨ä¸­ï¼Œç”¨äºç¾éš¾æ¢å¤ã€‚</li></ul><p><strong>RDBç¼ºç‚¹</strong></p><ul><li>RDBæ–¹å¼æ— è®ºæ˜¯æ‰§è¡ŒæŒ‡ä»¤è¿˜æ˜¯åˆ©ç”¨é…ç½®ï¼Œæ— æ³•åšåˆ°å®æ—¶æŒä¹…åŒ–ï¼Œå…·æœ‰è¾ƒå¤§çš„å¯èƒ½æ€§ä¸¢å¤±æ•°æ®</li><li>bgsaveæŒ‡ä»¤æ¯æ¬¡è¿è¡Œè¦æ‰§è¡Œforkæ“ä½œåˆ›å»ºå­è¿›ç¨‹ï¼Œè¦ç‰ºç‰²æ‰ä¸€äº›æ€§èƒ½</li><li>Redisçš„ä¼—å¤šç‰ˆæœ¬ä¸­æœªè¿›è¡ŒRDBæ–‡ä»¶æ ¼å¼çš„ç‰ˆæœ¬ç»Ÿä¸€ï¼Œæœ‰å¯èƒ½å‡ºç°å„ç‰ˆæœ¬æœåŠ¡ä¹‹é—´æ•°æ®æ ¼å¼æ— æ³•å…¼å®¹ç°è±¡</li></ul><h3 id="5-3-AOF"><a href="#5-3-AOF" class="headerlink" title="5.3  AOF"></a>5.3  AOF</h3><p>ä¸ºä»€ä¹ˆè¦æœ‰AOF,è¿™å¾—ä»RDBçš„å­˜å‚¨çš„å¼Šç«¯è¯´èµ·ï¼š</p><ul><li>å­˜å‚¨æ•°æ®é‡è¾ƒå¤§ï¼Œæ•ˆç‡è¾ƒä½ï¼ŒåŸºäºå¿«ç…§æ€æƒ³ï¼Œæ¯æ¬¡è¯»å†™éƒ½æ˜¯å…¨éƒ¨æ•°æ®ï¼Œå½“æ•°æ®é‡å·¨å¤§æ—¶ï¼Œæ•ˆç‡éå¸¸ä½</li><li>å¤§æ•°æ®é‡ä¸‹çš„IOæ€§èƒ½è¾ƒä½</li><li>åŸºäºforkåˆ›å»ºå­è¿›ç¨‹ï¼Œå†…å­˜äº§ç”Ÿé¢å¤–æ¶ˆè€—</li><li>å®•æœºå¸¦æ¥çš„æ•°æ®ä¸¢å¤±é£é™©</li></ul><p>é‚£è§£å†³çš„æ€è·¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><ul><li>ä¸å†™å…¨æ•°æ®ï¼Œä»…è®°å½•éƒ¨åˆ†æ•°æ®</li><li>é™ä½åŒºåˆ†æ•°æ®æ˜¯å¦æ”¹å˜çš„éš¾åº¦ï¼Œæ”¹è®°å½•æ•°æ®ä¸ºè®°å½•æ“ä½œè¿‡ç¨‹</li><li>å¯¹æ‰€æœ‰æ“ä½œå‡è¿›è¡Œè®°å½•ï¼Œæ’é™¤ä¸¢å¤±æ•°æ®çš„é£é™©</li></ul><h4 id="5-3-1-AOFæ¦‚å¿µ"><a href="#5-3-1-AOFæ¦‚å¿µ" class="headerlink" title="5.3.1 AOFæ¦‚å¿µ"></a>5.3.1 AOFæ¦‚å¿µ</h4><p><strong>AOF</strong>(append only file)æŒä¹…åŒ–ï¼šä»¥ç‹¬ç«‹æ—¥å¿—çš„æ–¹å¼è®°å½•æ¯æ¬¡å†™å‘½ä»¤ï¼Œé‡å¯æ—¶å†é‡æ–°æ‰§è¡ŒAOFæ–‡ä»¶ä¸­å‘½ä»¤ è¾¾åˆ°æ¢å¤æ•°æ®çš„ç›®çš„ã€‚<strong>ä¸RDBç›¸æ¯”å¯ä»¥ç®€å•ç†è§£ä¸ºç”±è®°å½•æ•°æ®æ”¹ä¸ºè®°å½•æ•°æ®äº§ç”Ÿçš„å˜åŒ–</strong></p><p>AOFçš„ä¸»è¦ä½œç”¨æ˜¯è§£å†³äº†æ•°æ®æŒä¹…åŒ–çš„å®æ—¶æ€§ï¼Œç›®å‰å·²ç»æ˜¯RedisæŒä¹…åŒ–çš„ä¸»æµæ–¹å¼</p><p><strong>AOFå†™æ•°æ®è¿‡ç¨‹</strong></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/20220924140622.png"></p><p><strong>å¯åŠ¨AOFç›¸å…³é…ç½®</strong></p><p>å¼€å¯AOFæŒä¹…åŒ–åŠŸèƒ½ï¼Œé»˜è®¤noï¼Œå³ä¸å¼€å¯çŠ¶æ€</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">appendonly</span> <span class="hljs-string">yes|no</span><br></code></pre></td></tr></table></figure><p>AOFæŒä¹…åŒ–æ–‡ä»¶åï¼Œé»˜è®¤æ–‡ä»¶åä¸ºappendonly.aofï¼Œå»ºè®®é…ç½®ä¸ºappendonly-ç«¯å£å·.aof</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">appendfilename</span> <span class="hljs-string">filename</span><br></code></pre></td></tr></table></figure><p>AOFæŒä¹…åŒ–æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œä¸RDBæŒä¹…åŒ–æ–‡ä»¶ä¿æŒä¸€è‡´å³å¯</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">dir</span><br></code></pre></td></tr></table></figure><p>AOFå†™æ•°æ®ç­–ç•¥ï¼Œé»˜è®¤ä¸ºeverysec</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">appendfsync</span> <span class="hljs-string">always|everysec|no</span><br></code></pre></td></tr></table></figure><h4 id="5-3-2-AOFæ‰§è¡Œç­–ç•¥"><a href="#5-3-2-AOFæ‰§è¡Œç­–ç•¥" class="headerlink" title="5.3.2 AOFæ‰§è¡Œç­–ç•¥"></a>5.3.2 AOFæ‰§è¡Œç­–ç•¥</h4><p>AOFå†™æ•°æ®ä¸‰ç§ç­–ç•¥(appendfsync)</p><ul><li><p><strong>always</strong>(æ¯æ¬¡ï¼‰ï¼šæ¯æ¬¡å†™å…¥æ“ä½œå‡åŒæ­¥åˆ°AOFæ–‡ä»¶ä¸­æ•°æ®é›¶è¯¯å·®ï¼Œæ€§èƒ½è¾ƒä½ï¼Œä¸å»ºè®®ä½¿ç”¨ã€‚</p></li><li><p><strong>everysec</strong>ï¼ˆæ¯ç§’ï¼‰ï¼šæ¯ç§’å°†ç¼“å†²åŒºä¸­çš„æŒ‡ä»¤åŒæ­¥åˆ°AOFæ–‡ä»¶ä¸­ï¼Œåœ¨ç³»ç»Ÿçªç„¶å®•æœºçš„æƒ…å†µä¸‹ä¸¢å¤±1ç§’å†…çš„æ•°æ® æ•°æ®å‡†ç¡®æ€§è¾ƒé«˜ï¼Œæ€§èƒ½è¾ƒé«˜ï¼Œå»ºè®®ä½¿ç”¨ï¼Œä¹Ÿæ˜¯é»˜è®¤é…ç½®</p></li><li><p><strong>no</strong>ï¼ˆç³»ç»Ÿæ§åˆ¶ï¼‰ï¼šç”±æ“ä½œç³»ç»Ÿæ§åˆ¶æ¯æ¬¡åŒæ­¥åˆ°AOFæ–‡ä»¶çš„å‘¨æœŸï¼Œæ•´ä½“è¿‡ç¨‹ä¸å¯æ§</p></li></ul><h4 id="5-3-3-AOFé‡å†™"><a href="#5-3-3-AOFé‡å†™" class="headerlink" title="5.3.3 AOFé‡å†™"></a>5.3.3 AOFé‡å†™</h4><p>åœºæ™¯ï¼šAOFå†™æ•°æ®é‡åˆ°çš„é—®é¢˜ï¼Œå¦‚æœè¿ç»­æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤è¯¥å¦‚ä½•å¤„ç†</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/2.png"></p><p><strong>ä»€ä¹ˆå«AOFé‡å†™ï¼Ÿ</strong></p><p>éšç€å‘½ä»¤ä¸æ–­å†™å…¥AOFï¼Œæ–‡ä»¶ä¼šè¶Šæ¥è¶Šå¤§ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒRediså¼•å…¥äº†AOFé‡å†™æœºåˆ¶å‹ç¼©æ–‡ä»¶ä½“ç§¯ã€‚AOFæ–‡ä»¶é‡ å†™æ˜¯å°†Redisè¿›ç¨‹å†…çš„æ•°æ®è½¬åŒ–ä¸ºå†™å‘½ä»¤åŒæ­¥åˆ°æ–°AOFæ–‡ä»¶çš„è¿‡ç¨‹ã€‚ç®€å•è¯´å°±æ˜¯å°†å¯¹åŒä¸€ä¸ªæ•°æ®çš„è‹¥å¹²ä¸ªæ¡å‘½ä»¤æ‰§è¡Œç»“ æœè½¬åŒ–æˆæœ€ç»ˆç»“æœæ•°æ®å¯¹åº”çš„æŒ‡ä»¤è¿›è¡Œè®°å½•ã€‚</p><p><strong>AOFé‡å†™ä½œç”¨</strong></p><ul><li>é™ä½ç£ç›˜å ç”¨é‡ï¼Œæé«˜ç£ç›˜åˆ©ç”¨ç‡</li><li>æé«˜æŒä¹…åŒ–æ•ˆç‡ï¼Œé™ä½æŒä¹…åŒ–å†™æ—¶é—´ï¼Œæé«˜IOæ€§èƒ½</li><li>é™ä½æ•°æ®æ¢å¤ç”¨æ—¶ï¼Œæé«˜æ•°æ®æ¢å¤æ•ˆç‡</li></ul><p><strong>AOFé‡å†™è§„åˆ™</strong></p><ul><li><p>è¿›ç¨‹å†…å…·æœ‰æ—¶æ•ˆæ€§çš„æ•°æ®ï¼Œå¹¶ä¸”æ•°æ®å·²è¶…æ—¶å°†ä¸å†å†™å…¥æ–‡ä»¶</p></li><li><p>éå†™å…¥ç±»çš„æ— æ•ˆæŒ‡ä»¤å°†è¢«å¿½ç•¥ï¼Œåªä¿ç•™æœ€ç»ˆæ•°æ®çš„å†™å…¥å‘½ä»¤</p><p>å¦‚del key1ã€ hdel key2ã€srem key3ã€set key4 111ã€set key4 222ç­‰</p><p>å¦‚selectæŒ‡ä»¤è™½ç„¶ä¸æ›´æ”¹æ•°æ®ï¼Œä½†æ˜¯æ›´æ”¹äº†æ•°æ®çš„å­˜å‚¨ä½ç½®ï¼Œæ­¤ç±»å‘½ä»¤åŒæ ·éœ€è¦è®°å½•</p></li><li><p>å¯¹åŒä¸€æ•°æ®çš„å¤šæ¡å†™å‘½ä»¤åˆå¹¶ä¸ºä¸€æ¡å‘½ä»¤</p></li></ul><p>å¦‚lpushlist1 aã€lpush list1 bã€lpush list1 cå¯ä»¥è½¬åŒ–ä¸ºï¼šlpush list1 a b cã€‚</p><p>ä¸ºé˜²æ­¢æ•°æ®é‡è¿‡å¤§é€ æˆå®¢æˆ·ç«¯ç¼“å†²åŒºæº¢å‡ºï¼Œå¯¹listã€setã€hashã€zsetç­‰ç±»å‹ï¼Œæ¯æ¡æŒ‡ä»¤æœ€å¤šå†™å…¥64ä¸ªå…ƒç´ </p><p><strong>AOFé‡å†™æ–¹å¼</strong></p><ul><li>æ‰‹åŠ¨é‡å†™</li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">bgrewriteaof</span><br></code></pre></td></tr></table></figure><p><strong>æ‰‹åŠ¨é‡å†™åŸç†åˆ†æï¼š</strong></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/3.png"></p><ul><li>è‡ªåŠ¨é‡å†™</li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">auto-aof-rewrite-min-size</span> <span class="hljs-string">size</span><br><span class="hljs-attr">auto-aof-rewrite-percentage</span> <span class="hljs-string">percentage</span><br></code></pre></td></tr></table></figure><p>è‡ªåŠ¨é‡å†™è§¦å‘æ¡ä»¶è®¾ç½®</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">auto-aof-rewrite-min-size</span> <span class="hljs-string">size</span><br><span class="hljs-attr">auto-aof-rewrite-percentage</span> <span class="hljs-string">percent</span><br></code></pre></td></tr></table></figure><p>è‡ªåŠ¨é‡å†™è§¦å‘æ¯”å¯¹å‚æ•°ï¼ˆ è¿è¡ŒæŒ‡ä»¤info Persistenceè·å–å…·ä½“ä¿¡æ¯ ï¼‰</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">aof_current_size</span>  <span class="hljs-string"></span><br><span class="hljs-attr">aof_base_size</span><br></code></pre></td></tr></table></figure><p> è‡ªåŠ¨é‡å†™è§¦å‘æ¡ä»¶å…¬å¼ï¼š</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/4.png"></p><h4 id="5-3-4-AOFå·¥ä½œæµç¨‹åŠé‡å†™æµç¨‹"><a href="#5-3-4-AOFå·¥ä½œæµç¨‹åŠé‡å†™æµç¨‹" class="headerlink" title="5.3.4 AOFå·¥ä½œæµç¨‹åŠé‡å†™æµç¨‹"></a>5.3.4 AOFå·¥ä½œæµç¨‹åŠé‡å†™æµç¨‹</h4><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/20220924140822.png"></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/AOF%E6%B5%81%E7%A8%8B2.png"></p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/AOF3.png"></p><h3 id="5-4-RDBä¸AOFåŒºåˆ«"><a href="#5-4-RDBä¸AOFåŒºåˆ«" class="headerlink" title="5.4  RDBä¸AOFåŒºåˆ«"></a>5.4  RDBä¸AOFåŒºåˆ«</h3><h4 id="5-4-1-RDBä¸AOFå¯¹æ¯”ï¼ˆä¼˜ç¼ºç‚¹ï¼‰"><a href="#5-4-1-RDBä¸AOFå¯¹æ¯”ï¼ˆä¼˜ç¼ºç‚¹ï¼‰" class="headerlink" title="5.4.1 RDBä¸AOFå¯¹æ¯”ï¼ˆä¼˜ç¼ºç‚¹ï¼‰"></a>5.4.1 RDBä¸AOFå¯¹æ¯”ï¼ˆä¼˜ç¼ºç‚¹ï¼‰</h4><table><thead><tr><th>æŒä¹…åŒ–æ–¹å¼</th><th>RDB</th><th>AOF</th></tr></thead><tbody><tr><td>å ç”¨å­˜å‚¨ç©ºé—´</td><td>å°ï¼ˆæ•°æ®çº§ï¼šå‹ç¼©ï¼‰</td><td>å¤§ï¼ˆæŒ‡ä»¤çº§ï¼šé‡å†™ï¼‰</td></tr><tr><td>å­˜å‚¨é€Ÿåº¦</td><td>æ…¢</td><td>å¿«</td></tr><tr><td>æ¢å¤é€Ÿåº¦</td><td>å¿«</td><td>æ…¢</td></tr><tr><td>æ•°æ®å®‰å…¨æ€§</td><td>ä¼šä¸¢å¤±æ•°æ®</td><td>ä¾æ®ç­–ç•¥å†³å®š</td></tr><tr><td>èµ„æºæ¶ˆè€—</td><td>é«˜&#x2F;é‡é‡çº§</td><td>ä½&#x2F;è½»é‡çº§</td></tr><tr><td>å¯åŠ¨ä¼˜å…ˆçº§</td><td>ä½</td><td>é«˜</td></tr></tbody></table><h4 id="5-4-2-RDBä¸AOFåº”ç”¨åœºæ™¯"><a href="#5-4-2-RDBä¸AOFåº”ç”¨åœºæ™¯" class="headerlink" title="5.4.2 RDBä¸AOFåº”ç”¨åœºæ™¯"></a>5.4.2 RDBä¸AOFåº”ç”¨åœºæ™¯</h4><p>RDBä¸AOFçš„é€‰æ‹©ä¹‹æƒ‘</p><ul><li>å¯¹æ•°æ®éå¸¸æ•æ„Ÿï¼Œå»ºè®®ä½¿ç”¨é»˜è®¤çš„AOFæŒä¹…åŒ–æ–¹æ¡ˆ</li></ul><p>AOFæŒä¹…åŒ–ç­–ç•¥ä½¿ç”¨everysecondï¼Œæ¯ç§’é’Ÿfsyncä¸€æ¬¡ã€‚è¯¥ç­–ç•¥redisä»å¯ä»¥ä¿æŒå¾ˆå¥½çš„å¤„ç†æ€§èƒ½ï¼Œå½“å‡º ç°é—®é¢˜æ—¶ï¼Œæœ€å¤šä¸¢å¤±0-1ç§’å†…çš„æ•°æ®ã€‚</p><p>æ³¨æ„ï¼šç”±äºAOFæ–‡ä»¶å­˜å‚¨ä½“ç§¯è¾ƒå¤§ï¼Œä¸”æ¢å¤é€Ÿåº¦è¾ƒæ…¢</p><ul><li>æ•°æ®å‘ˆç°é˜¶æ®µæœ‰æ•ˆæ€§ï¼Œå»ºè®®ä½¿ç”¨RDBæŒä¹…åŒ–æ–¹æ¡ˆ</li></ul><p>æ•°æ®å¯ä»¥è‰¯å¥½çš„åšåˆ°é˜¶æ®µå†…æ— ä¸¢å¤±ï¼ˆè¯¥é˜¶æ®µæ˜¯å¼€å‘è€…æˆ–è¿ç»´äººå‘˜æ‰‹å·¥ç»´æŠ¤çš„ï¼‰ï¼Œä¸”æ¢å¤é€Ÿåº¦è¾ƒå¿«ï¼Œé˜¶æ®µ ç‚¹æ•°æ®æ¢å¤é€šå¸¸é‡‡ç”¨RDBæ–¹æ¡ˆ</p><p>æ³¨æ„ï¼šåˆ©ç”¨RDBå®ç°ç´§å‡‘çš„æ•°æ®æŒä¹…åŒ–ä¼šä½¿Redisé™çš„å¾ˆä½ï¼Œæ…é‡æ€»ç»“ï¼š</p><p><strong>ç»¼åˆæ¯”å¯¹</strong></p><ul><li>RDBä¸AOFçš„é€‰æ‹©å®é™…ä¸Šæ˜¯åœ¨åšä¸€ç§æƒè¡¡ï¼Œæ¯ç§éƒ½æœ‰åˆ©æœ‰å¼Š</li><li>å¦‚ä¸èƒ½æ‰¿å—æ•°åˆ†é’Ÿä»¥å†…çš„æ•°æ®ä¸¢å¤±ï¼Œå¯¹ä¸šåŠ¡æ•°æ®éå¸¸æ•æ„Ÿï¼Œé€‰ç”¨AOF</li><li>å¦‚èƒ½æ‰¿å—æ•°åˆ†é’Ÿä»¥å†…çš„æ•°æ®ä¸¢å¤±ï¼Œä¸”è¿½æ±‚å¤§æ•°æ®é›†çš„æ¢å¤é€Ÿåº¦ï¼Œé€‰ç”¨RDB</li><li>ç¾éš¾æ¢å¤é€‰ç”¨RDB</li><li>åŒä¿é™©ç­–ç•¥ï¼ŒåŒæ—¶å¼€å¯ RDBå’Œ AOFï¼Œé‡å¯åï¼ŒRedisä¼˜å…ˆä½¿ç”¨ AOF æ¥æ¢å¤æ•°æ®ï¼Œé™ä½ä¸¢å¤±æ•°æ®çš„é‡</li></ul>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Redisæ•°æ®ç»“æ„</title>
    <link href="/2022/09/26/Redis%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    <url>/2022/09/26/Redis%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
    
    <content type="html"><![CDATA[<h3 id="Reidsæ•°æ®ç»“æ„"><a href="#Reidsæ•°æ®ç»“æ„" class="headerlink" title="Reidsæ•°æ®ç»“æ„"></a>Reidsæ•°æ®ç»“æ„</h3><p class="note note-success">    æ•°æ®åº“æŒæ¡çš„å°±æ˜¯æ•°æ®ç»“æ„ï¼ŒRedisæ•°æ®ç»“æ„å°±æ˜¯â€œé”®ï¼ˆkeyï¼‰â€ï¼›â€œé”®â€é“ä¸è¿‡æ˜¯èµ‹å€¼//å–å€¼/åˆ é™¤ï¼Œå› æ­¤è¦æƒ³å…¥é“ï¼Œå°±ä»åŸºç¡€å¼€å§‹å­¦ä¹ </p><table><thead><tr><th align="center">æ•°æ®ç±»å‹</th><th align="center">èµ‹å€¼è¯­æ³•</th><th align="center">å–å€¼è¯­æ³•</th><th align="center">åˆ é™¤è¯­æ³•</th><th align="center">å¤‡æ³¨</th></tr></thead><tbody><tr><td align="center">String</td><td align="center">SET key_name value</td><td align="center">GET key_name</td><td align="center">DEL key_name</td><td align="center">String</td></tr><tr><td align="center">Hash</td><td align="center">HSET key_name field value</td><td align="center">HGET key_name field</td><td align="center">HDEL key_name field</td><td align="center">Map</td></tr><tr><td align="center">List</td><td align="center">LPUSH&#x2F;RPUSH key_name value1â€¦valueN</td><td align="center">LRANGE key_name  0 -1</td><td align="center">LREM key_name count value</td><td align="center">List</td></tr><tr><td align="center">Set</td><td align="center">SADD key_name value1â€¦valueN</td><td align="center">SMEMBERS key_name</td><td align="center">SREM key_name value1â€¦valueN</td><td align="center">Set</td></tr><tr><td align="center">Zset</td><td align="center">ZADD key_name   score value</td><td align="center">ZRANGE key_name 0 -1[WITHSCORES]</td><td align="center">ZRANK key [member]</td><td align="center">Sort Set</td></tr></tbody></table><p>*<strong>æ³¨æ„ï¼š</strong>DEL keyå‘½ä»¤å¯ä»¥åˆ é™¤ä»»ä½•key</p><h3 id="Stringå‘½ä»¤ç¤ºä¾‹"><a href="#Stringå‘½ä»¤ç¤ºä¾‹" class="headerlink" title="Stringå‘½ä»¤ç¤ºä¾‹"></a>Stringå‘½ä»¤ç¤ºä¾‹</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql"># å¯¹ä¸å­˜åœ¨çš„é”®è¿›è¡Œè®¾ç½®<br> <br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">SET</span> key &quot;value&quot;<br>OK<br> <br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">GET</span> key<br>&quot;value&quot;<br> <br> <br># å¯¹å·²å­˜åœ¨çš„é”®è¿›è¡Œè®¾ç½®<br> <br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">SET</span> key &quot;new-value&quot;<br>OK<br> <br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> <span class="hljs-keyword">GET</span> key<br>&quot;new-value&quot;<br></code></pre></td></tr></table></figure><h3 id="Hsetå‘½ä»¤ç¤ºä¾‹"><a href="#Hsetå‘½ä»¤ç¤ºä¾‹" class="headerlink" title="Hsetå‘½ä»¤ç¤ºä¾‹"></a>Hsetå‘½ä»¤ç¤ºä¾‹</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql">redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> HSET myhash field1 &quot;foo&quot;<br>OK<br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> HGET myhash field1<br>&quot;foo&quot;<br> <br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> HSET website google &quot;www.g.cn&quot;       # è®¾ç½®ä¸€ä¸ªæ–°åŸŸ<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">1</span><br> <br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span>HSET website google &quot;www.google.com&quot; # è¦†ç›–ä¸€ä¸ªæ—§åŸŸ<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h3 id="Listå‘½ä»¤ç¤ºä¾‹"><a href="#Listå‘½ä»¤ç¤ºä¾‹" class="headerlink" title="Listå‘½ä»¤ç¤ºä¾‹"></a>Listå‘½ä»¤ç¤ºä¾‹</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql">#LPUSH KEY_NAME VALUE1.. VALUEN<br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> LPUSH list1 &quot;foo&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">1</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> LPUSH list1 &quot;bar&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">2</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> LRANGE list1 <span class="hljs-number">0</span> <span class="hljs-number">-1</span><br><span class="hljs-number">1</span>) &quot;foo&quot;<br><span class="hljs-number">2</span>) &quot;bar<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs sql">#LRANGE KEY_NAME <span class="hljs-keyword">START</span> <span class="hljs-keyword">END</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> LPUSH list1 &quot;foo&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">1</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> LPUSH list1 &quot;bar&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">2</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> LPUSHX list1 &quot;bar&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">0</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> LRANGE list1 <span class="hljs-number">0</span> <span class="hljs-number">-1</span><br><span class="hljs-number">1</span>) &quot;foo&quot;<br><span class="hljs-number">2</span>) &quot;bar&quot;<br><span class="hljs-number">3</span>) &quot;bar&quot;<br></code></pre></td></tr></table></figure><h3 id="Setå‘½ä»¤ç¤ºä¾‹"><a href="#Setå‘½ä»¤ç¤ºä¾‹" class="headerlink" title="Setå‘½ä»¤ç¤ºä¾‹"></a>Setå‘½ä»¤ç¤ºä¾‹</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sql"># SADD KEY_NAME VALUE1..VALUEN<br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> SADD myset &quot;hello&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">1</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> SADD myset &quot;foo&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">1</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> SADD myset &quot;hello&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">0</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> SMEMBERS myset<br><span class="hljs-number">1</span>) &quot;hello&quot;<br><span class="hljs-number">2</span>) &quot;foo&quot;<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql">#SMEMBERS KEY <span class="hljs-keyword">VALUE</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> SADD myset1 &quot;hello&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">1</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> SADD myset1 &quot;world&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">1</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> SMEMBERS myset1<br><span class="hljs-number">1</span>) &quot;World&quot;<br><span class="hljs-number">2</span>) &quot;Hello&quot;<br></code></pre></td></tr></table></figure><h3 id="Zsetå‘½ä»¤ç¤ºä¾‹"><a href="#Zsetå‘½ä»¤ç¤ºä¾‹" class="headerlink" title="Zsetå‘½ä»¤ç¤ºä¾‹"></a>Zsetå‘½ä»¤ç¤ºä¾‹</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sql">#ZADD KEY_NAME SCORE1 VALUE1.. SCOREN VALUEN<br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> ZADD myset <span class="hljs-number">1</span> &quot;hello&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">1</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> ZADD myset <span class="hljs-number">1</span> &quot;foo&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">1</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> ZADD myset <span class="hljs-number">2</span> &quot;world&quot; <span class="hljs-number">3</span> &quot;bar&quot;<br>(<span class="hljs-type">integer</span>) <span class="hljs-number">2</span><br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> ZRANGE myzset <span class="hljs-number">0</span> <span class="hljs-number">-1</span> WITHSCORES<br><span class="hljs-number">1</span>) &quot;hello&quot;<br><span class="hljs-number">2</span>) &quot;1&quot;<br><span class="hljs-number">3</span>) &quot;foo&quot;<br><span class="hljs-number">4</span>) &quot;1&quot;<br><span class="hljs-number">5</span>) &quot;world&quot;<br><span class="hljs-number">6</span>) &quot;2&quot;<br><span class="hljs-number">7</span>) &quot;bar&quot;<br><span class="hljs-number">8</span>) &quot;3&quot;<br></code></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs sql"># ZRANGE key <span class="hljs-keyword">start</span> stop [WITHSCORES]<br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> ZRANGE salary <span class="hljs-number">0</span> <span class="hljs-number">-1</span> WITHSCORES             # æ˜¾ç¤ºæ•´ä¸ªæœ‰åºé›†æˆå‘˜<br><span class="hljs-number">1</span>) &quot;jack&quot;<br><span class="hljs-number">2</span>) &quot;3500&quot;<br><span class="hljs-number">3</span>) &quot;tom&quot;<br><span class="hljs-number">4</span>) &quot;5000&quot;<br><span class="hljs-number">5</span>) &quot;boss&quot;<br><span class="hljs-number">6</span>) &quot;10086&quot;<br> <br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> ZRANGE salary <span class="hljs-number">1</span> <span class="hljs-number">2</span> WITHSCORES              # æ˜¾ç¤ºæœ‰åºé›†ä¸‹æ ‡åŒºé—´ <span class="hljs-number">1</span> è‡³ <span class="hljs-number">2</span> çš„æˆå‘˜<br><span class="hljs-number">1</span>) &quot;tom&quot;<br><span class="hljs-number">2</span>) &quot;5000&quot;<br><span class="hljs-number">3</span>) &quot;boss&quot;<br><span class="hljs-number">4</span>) &quot;10086&quot;<br> <br>redis <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">6379</span><span class="hljs-operator">&gt;</span> ZRANGE salary <span class="hljs-number">0</span> <span class="hljs-number">200000</span> WITHSCORES         # æµ‹è¯• <span class="hljs-keyword">end</span> ä¸‹æ ‡è¶…å‡ºæœ€å¤§ä¸‹æ ‡æ—¶çš„æƒ…å†µ<br><span class="hljs-number">1</span>) &quot;jack&quot;<br><span class="hljs-number">2</span>) &quot;3500&quot;<br><span class="hljs-number">3</span>) &quot;tom&quot;<br><span class="hljs-number">4</span>) &quot;5000&quot;<br><span class="hljs-number">5</span>) &quot;boss&quot;<br><span class="hljs-number">6</span>) &quot;10086&quot;<br> <br>redis <span class="hljs-operator">&gt;</span> ZRANGE salary <span class="hljs-number">200000</span> <span class="hljs-number">3000000</span> WITHSCORES                  # æµ‹è¯•å½“ç»™å®šåŒºé—´ä¸å­˜åœ¨äºæœ‰åºé›†æ—¶çš„æƒ…å†µ<br>(<span class="hljs-keyword">empty</span> list <span class="hljs-keyword">or</span> <span class="hljs-keyword">set</span>)<br></code></pre></td></tr></table></figure><h3 id="å…¶ä»–å¸¸ç”¨å‘½ä»¤"><a href="#å…¶ä»–å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å…¶ä»–å¸¸ç”¨å‘½ä»¤"></a>å…¶ä»–å¸¸ç”¨å‘½ä»¤</h3><p class="note note-success">    Redisåœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­æ›´å¤šçš„ç”¨ä½œç¼“å­˜ï¼Œç„¶è€Œç¼“å­˜çš„æ•°æ®ä¸€èˆ¬éƒ½æ˜¯éœ€è¦è®¾ç½®ç”Ÿå­˜æ—¶é—´çš„ï¼Œå³ï¼šåˆ°æœŸåæ•°æ®é”€æ¯ã€‚</p><table><thead><tr><th>keyså‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td>EXPIRE key seconds</td><td>è®¾ç½®keyçš„ç”Ÿå­˜æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰keyåœ¨å¤šå°‘ç§’åä¼šè‡ªåŠ¨åˆ é™¤</td></tr><tr><td>TTL key</td><td>æŸ¥çœ‹keyçš„ç”Ÿå­˜æ—¶é—´</td></tr><tr><td>PERSIST key</td><td>æ¸…é™¤ç”Ÿå­˜æ—¶é—´</td></tr><tr><td>PEXPIRE key milliseconds</td><td>ç”Ÿå­˜æ—¶é—´è®¾ç½®å•ä½ä¸ºï¼šæ¯«ç§’</td></tr><tr><td>KEYS *</td><td>æŸ¥è¯¢æ•°æ®åº“ä¸­ç´ æœ‰keyé”®</td></tr><tr><td>SDIFF setB setA</td><td>é›†åˆçš„å·®é›†è¿ç®—A-Bï¼ˆdifferenceï¼‰</td></tr><tr><td>SINTER setA setB</td><td>é›†åˆçš„äº¤é›†è¿ç®—A âˆ© Bï¼ˆintersectionï¼‰</td></tr><tr><td>SUNION setA setB</td><td>é›†åˆçš„å¹¶é›†è¿ç®—A âˆªBï¼ˆunionï¼‰</td></tr></tbody></table><p><a href="https://www.redis.net.cn/order/">rediså‘½ä»¤ç¤ºä¾‹æŸ¥è¯¢</a></p>]]></content>
    
    
    <categories>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>POI-javaä¸Excelæ“ä½œ</title>
    <link href="/2022/09/23/POI-java%E4%B8%8EExcel%E6%93%8D%E4%BD%9C/"/>
    <url>/2022/09/23/POI-java%E4%B8%8EExcel%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p class="note note-success">    Apache POIæ˜¯ç”¨Javaç¼–å†™çš„å…è´¹å¼€æºçš„è·¨å¹³å°çš„Java APIï¼ŒApache POIæä¾›APIç»™Javaç¨‹ åºå¯¹Microsoft Officeæ ¼å¼æ¡£æ¡ˆè¯»å’Œå†™çš„åŠŸèƒ½ï¼Œå…¶ä¸­ä½¿ç”¨æœ€å¤šçš„å°±æ˜¯ä½¿ç”¨POIæ“ä½œExcelæ–‡ ä»¶ã€‚</p><h3 id="å¯¼å…¥mavenåæ ‡"><a href="#å¯¼å…¥mavenåæ ‡" class="headerlink" title="å¯¼å…¥mavenåæ ‡"></a>å¯¼å…¥mavenåæ ‡</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.poi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>poi<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.poi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>poi-ooxml<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="POIç»“æ„è¯´æ˜"><a href="#POIç»“æ„è¯´æ˜" class="headerlink" title="POIç»“æ„è¯´æ˜"></a>POIç»“æ„è¯´æ˜</h3><ul><li>HSSFæä¾›è¯»å†™Microsoft Excel XLSæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚</li><li>XSSFæä¾›è¯»å†™Microsoft Excel OOXML XLSXæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚</li><li>HWPFæä¾›è¯»å†™Microsoft Word DOCæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚</li><li>HSLFæä¾›è¯»å†™Microsoft PowerPointæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚</li><li>HDGFæä¾›è¯»Microsoft Visioæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚</li><li>HPBFæä¾›è¯»Microsoft Publisheræ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚</li><li>HSMFæä¾›è¯»Microsoft Outlookæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚</li></ul><h3 id="POI-Excelå†™å…¥ï¼ˆWriterï¼‰"><a href="#POI-Excelå†™å…¥ï¼ˆWriterï¼‰" class="headerlink" title="POI-Excelå†™å…¥ï¼ˆWriterï¼‰"></a>POI-Excelå†™å…¥ï¼ˆWriterï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * java-poi-excel-ä½¿ç”¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExcelWriterTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException&#123;<br>        <span class="hljs-comment">// 1ã€‚ åˆ›é€ å·¥ä½œç°¿ workbook</span><br>        <span class="hljs-type">HSSFWorkbook</span> <span class="hljs-variable">workbook</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HSSFWorkbook</span>();<br>        <span class="hljs-comment">// 2. åˆ›é€ å·¥ä½œè¡¨ sheet</span><br>        <span class="hljs-type">HSSFSheet</span> <span class="hljs-variable">sheet1</span> <span class="hljs-operator">=</span> workbook.createSheet(<span class="hljs-string">&quot;sheet1&quot;</span>);<br>        <span class="hljs-comment">// 3. å·¥ä½œè¡Œ row    è¡¨å¤´0è¡Œ</span><br>        <span class="hljs-type">HSSFRow</span> <span class="hljs-variable">row</span> <span class="hljs-operator">=</span> sheet1.createRow(<span class="hljs-number">0</span>);<br>        <span class="hljs-comment">// 4. å•å…ƒæ ¼ cell   è¡¨å¤´å­—æ®µ</span><br>        row.createCell(<span class="hljs-number">0</span>).setCellValue(<span class="hljs-string">&quot;å§“å&quot;</span>);<br>        row.createCell(<span class="hljs-number">1</span>).setCellValue(<span class="hljs-string">&quot;å¹´é¾„&quot;</span>);<br>        <span class="hljs-comment">// ä»1è¡Œå¼€å§‹åˆ›å»ºè¡¨row å¹¶åˆ›å»ºcellèµ‹å€¼</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>            <span class="hljs-type">HSSFRow</span> <span class="hljs-variable">rowi</span> <span class="hljs-operator">=</span> sheet1.createRow(i);<br>            rowi.createCell(<span class="hljs-number">0</span>).setCellValue(<span class="hljs-string">&quot;ç¬¬&quot;</span>+i+<span class="hljs-string">&quot;å§“å&quot;</span>);<br>            rowi.createCell(<span class="hljs-number">1</span>).setCellValue(<span class="hljs-string">&quot;ç¬¬&quot;</span>+i+<span class="hljs-string">&quot;å¹´é¾„&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// IOæµè¾“å‡ºæ–‡ä»¶</span><br>        <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">fileOutputStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">&quot;C:\\Users\\0\\Desktop\\POI.xls&quot;</span>);<br>        workbook.write(fileOutputStream);<br>        fileOutputStream.flush();<br>        fileOutputStream.close();<br>        System.out.println(<span class="hljs-string">&quot;Excelåˆ›å»ºæˆåŠŸ&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="POI-Excelè¯»å–ï¼ˆReaderï¼‰"><a href="#POI-Excelè¯»å–ï¼ˆReaderï¼‰" class="headerlink" title="POI-Excelè¯»å–ï¼ˆReaderï¼‰"></a>POI-Excelè¯»å–ï¼ˆReaderï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * java-poi-excel-xls-Readerä½¿ç”¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExcelReaderTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException&#123;<br>        <span class="hljs-type">HSSFWorkbook</span> <span class="hljs-variable">workbook</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HSSFWorkbook</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">&quot;C:\\Users\\0\\Desktop\\POI.xls&quot;</span>));<br>        <span class="hljs-type">HSSFSheet</span> <span class="hljs-variable">sheet1</span> <span class="hljs-operator">=</span> workbook.getSheet(<span class="hljs-string">&quot;sheet1&quot;</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;sheet1.getLastRowNum(); i++) &#123;<br>            <span class="hljs-type">HSSFRow</span> <span class="hljs-variable">rowi</span> <span class="hljs-operator">=</span> sheet1.getRow(i);<br>            <span class="hljs-type">String</span> <span class="hljs-variable">row1</span> <span class="hljs-operator">=</span> rowi.getCell(<span class="hljs-number">0</span>).getStringCellValue();<br>            <span class="hljs-type">String</span> <span class="hljs-variable">row2</span> <span class="hljs-operator">=</span> rowi.getCell(<span class="hljs-number">1</span>).getStringCellValue();<br>            System.out.println(row1+<span class="hljs-string">&quot;|&quot;</span>+row2);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="POI-Excelæ“ä½œå·¥å…·ç±»"><a href="#POI-Excelæ“ä½œå·¥å…·ç±»" class="headerlink" title="POI-Excelæ“ä½œå·¥å…·ç±»"></a>POI-Excelæ“ä½œå·¥å…·ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * excel æ“ä½œå·¥å…·ç±»</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">POIUtils</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">xls</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;xls&quot;</span>;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">xlsx</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;xlsx&quot;</span>;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DATE_FORMAT</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;yyyy/MM/dd&quot;</span>;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è¯»excelæ–‡ä»¶å¹¶è¿”å›</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;String[]&gt; readExcel(MultipartFile file) <span class="hljs-keyword">throws</span> IOException&#123;<br>        <span class="hljs-comment">// æ£€æŸ¥æ–‡ä»¶</span><br>        checkFile(file);<br>        <span class="hljs-comment">// è·å¾—Workbookå·¥ä½œç°¿å¯¹è±¡</span><br>        <span class="hljs-type">Workbook</span> <span class="hljs-variable">workBook</span> <span class="hljs-operator">=</span> getWorkBook(file);<br>        <span class="hljs-comment">// åˆ›å»ºè¿”å›å¯¹è±¡ï¼ŒæŠŠæ¯è¡Œä¸­çš„å€¼ä½œä¸ºä¸€ä¸ªæ•°ç»„ï¼Œæ‰€æœ‰è¡Œä½œä¸ºä¸€ä¸ªé›†åˆè¿”å›</span><br>        List&lt;String[]&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-keyword">if</span> (workBook != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">sheetNum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; sheetNum &lt; workBook.getNumberOfSheets(); sheetNum++) &#123;<br>                <span class="hljs-comment">// è·å¾—å½“å‰sheetå·¥ä½œè¡¨</span><br>                <span class="hljs-type">Sheet</span> <span class="hljs-variable">sheet</span> <span class="hljs-operator">=</span> workBook.getSheetAt(sheetNum);<br>                <span class="hljs-keyword">if</span> (sheet == <span class="hljs-literal">null</span>) &#123;<br>                    <span class="hljs-keyword">continue</span>;<br>                &#125;<br>                <span class="hljs-comment">// è·å¾—å½“å‰sheetçš„å¼€å§‹è¡Œ</span><br>                <span class="hljs-type">int</span> <span class="hljs-variable">firstRowNum</span> <span class="hljs-operator">=</span> sheet.getFirstRowNum();<br>                <span class="hljs-comment">// è·å¾—å½“å‰sheetçš„ç»“æŸè¡Œ</span><br>                <span class="hljs-type">int</span> <span class="hljs-variable">lastRowNum</span> <span class="hljs-operator">=</span> sheet.getLastRowNum();<br>                <span class="hljs-comment">// å¾ªç¯é™¤äº†ç¬¬ä¸€è¡Œçš„æ‰€æœ‰è¡Œ</span><br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">rowNum</span> <span class="hljs-operator">=</span> firstRowNum + <span class="hljs-number">1</span>; rowNum &lt;= lastRowNum; rowNum++) &#123;<br>                    <span class="hljs-comment">// è·å¾—å½“å‰è¡Œ</span><br>                    <span class="hljs-type">Row</span> <span class="hljs-variable">row</span> <span class="hljs-operator">=</span> sheet.getRow(rowNum);<br>                    <span class="hljs-keyword">if</span> (row == <span class="hljs-literal">null</span>) &#123;<br>                        <span class="hljs-keyword">continue</span>;<br>                    &#125;<br>                    <span class="hljs-comment">// è·å¾—å½“å‰è¡Œçš„å¼€å§‹åˆ—</span><br>                    <span class="hljs-type">int</span> <span class="hljs-variable">firstCellNum</span> <span class="hljs-operator">=</span> row.getFirstCellNum();<br>                    <span class="hljs-comment">// è·å¾—å½“å‰è¡Œçš„åˆ—æ•°</span><br>                    <span class="hljs-type">int</span> <span class="hljs-variable">lastCellNum</span> <span class="hljs-operator">=</span> row.getPhysicalNumberOfCells();<br>                    String[] cells = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[row.getPhysicalNumberOfCells()];<br>                    <span class="hljs-comment">// å¾ªç¯å½“å‰è¡Œ</span><br>                    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">cellNum</span> <span class="hljs-operator">=</span> firstCellNum; cellNum &lt; lastCellNum; cellNum++) &#123;<br>                        <span class="hljs-type">Cell</span> <span class="hljs-variable">cell</span> <span class="hljs-operator">=</span> row.getCell(cellNum);<br>                        cells[cellNum] = getCellValue(cell);<br>                    &#125;<br>                    list.add(cells);<br>                &#125;<br>            &#125;<br>            workBook.close();<br>        &#125;<br>        <span class="hljs-keyword">return</span> list;<br>    &#125;<br><br>    <span class="hljs-comment">// æ ¡éªŒæ–‡ä»¶æ˜¯å¦åˆæ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkFile</span><span class="hljs-params">(MultipartFile file)</span> <span class="hljs-keyword">throws</span> IOException&#123;<br>        <span class="hljs-comment">// åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == file) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileNotFoundException</span>(<span class="hljs-string">&quot;æ–‡ä»¶ä¸å­˜åœ¨ï¼&quot;</span>);<br>        &#125;<br>        <span class="hljs-comment">// è·å¾—æ–‡ä»¶å</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> file.getOriginalFilename();<br>        <span class="hljs-comment">// åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ˜¯excelæ–‡ä»¶</span><br>        <span class="hljs-keyword">if</span> (!fileName.endsWith(xls) &amp;&amp; !fileName.endsWith(xlsx)) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IOException</span>(fileName + <span class="hljs-string">&quot;ä¸æ˜¯excelæ–‡ä»¶&quot;</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Workbook <span class="hljs-title function_">getWorkBook</span><span class="hljs-params">(MultipartFile file)</span>&#123;<br>        <span class="hljs-comment">// è·å¾—æ–‡ä»¶å</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> file.getOriginalFilename();<br>        <span class="hljs-comment">// åˆ›å»ºWorkbookå·¥ä½œè–„å¯¹è±¡ï¼Œè¡¨ç¤ºæ•´ä¸ªexcel</span><br>        <span class="hljs-type">Workbook</span> <span class="hljs-variable">workbook</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">// è·å–excelæ–‡ä»¶çš„ioæµ</span><br>            <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> file.getInputStream();<br>            <span class="hljs-comment">// æ ¹æ®æ–‡ä»¶åç¼€åä¸åŒ(xlså’Œxlsx)è·å¾—ä¸åŒçš„Workbookå®ç°ç±»å¯¹è±¡</span><br>            <span class="hljs-keyword">if</span> (fileName.endsWith(xls)) &#123;<br>                <span class="hljs-comment">// 2003</span><br>                workbook = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HSSFWorkbook</span>(is);<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fileName.endsWith(xlsx)) &#123;<br>                <span class="hljs-comment">// 2007</span><br>                workbook = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XSSFWorkbook</span>(is);<br>            &#125;<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> workbook;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getCellValue</span><span class="hljs-params">(Cell cell)</span>&#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">cellValue</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">if</span> (cell == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> cellValue;<br>        &#125;<br>        <span class="hljs-comment">// å¦‚æœå½“å‰å•å…ƒæ ¼å†…å®¹ä¸ºæ—¥æœŸç±»å‹ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">dataFormatString</span> <span class="hljs-operator">=</span> cell.getCellStyle().getDataFormatString();<br>        <span class="hljs-keyword">if</span> (dataFormatString.equals(<span class="hljs-string">&quot;m/d/yy&quot;</span>)) &#123;<br>            cellValue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleDateFormat</span>(DATE_FORMAT).format(cell.getDateCellValue());<br>            <span class="hljs-keyword">return</span> cellValue;<br>        &#125;<br>        <span class="hljs-comment">// æŠŠæ•°å­—å½“æˆStringæ¥è¯»ï¼Œé¿å…å‡ºç°1è¯»æˆ1.0çš„æƒ…å†µ</span><br>        <span class="hljs-keyword">if</span> (cell.getCellType() == Cell.CELL_TYPE_NUMERIC) &#123;<br>            cell.setCellType(Cell.CELL_TYPE_STRING);<br>        &#125;<br>        <span class="hljs-comment">// åˆ¤æ–­æ•°æ®çš„ç±»å‹</span><br>        <span class="hljs-keyword">switch</span> (cell.getCellType()) &#123;<br>            <span class="hljs-keyword">case</span> Cell.CELL_TYPE_NUMERIC: <span class="hljs-comment">// æ•°å­—</span><br>                cellValue = String.valueOf(cell.getNumericCellValue());<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> Cell.CELL_TYPE_STRING: <span class="hljs-comment">// å­—ç¬¦ä¸²</span><br>                cellValue = String.valueOf(cell.getStringCellValue());<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> Cell.CELL_TYPE_BOOLEAN: <span class="hljs-comment">// Boolean</span><br>                cellValue = String.valueOf(cell.getBooleanCellValue());<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> Cell.CELL_TYPE_FORMULA: <span class="hljs-comment">// å…¬å¼</span><br>                cellValue = String.valueOf(cell.getCellFormula());<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> Cell.CELL_TYPE_BLANK: <span class="hljs-comment">// ç©ºå€¼</span><br>                cellValue = <span class="hljs-string">&quot;&quot;</span>;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> Cell.CELL_TYPE_ERROR: <span class="hljs-comment">// æ•…éšœ</span><br>                cellValue = <span class="hljs-string">&quot;éæ³•å­—ç¬¦&quot;</span>;<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">default</span>:<br>                cellValue = <span class="hljs-string">&quot;æœªçŸ¥ç±»å‹&quot;</span>;<br>                <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> cellValue;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><a href="https://poi.apache.org/">1.POIå®˜ç½‘</a></p><p><a href="https://www.yiibai.com/apache_poi/apache_poi_core_classes.html">2.POIå¸¸ç”¨APIä¸­æ–‡æŸ¥è¯¢</a></p>]]></content>
    
    
    <categories>
      
      <category>Utils</category>
      
    </categories>
    
    
    <tags>
      
      <tag>java</tag>
      
      <tag>POI</tag>
      
      <tag>Excel</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mybatisä¼ é€’å‚æ•°å®ç°æ–¹å¼</title>
    <link href="/2022/09/21/Mybatis%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/"/>
    <url>/2022/09/21/Mybatis%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><h3 id="å•ä¸ªå‚æ•°"><a href="#å•ä¸ªå‚æ•°" class="headerlink" title="å•ä¸ªå‚æ•°"></a>å•ä¸ªå‚æ•°</h3><p>ä¼ å‚çš„åŸºæœ¬æ–¹å¼æœ‰ä¸¤ç§ï¼š<code>#&#123;param&#125;</code> <code>$&#123;param&#125;</code></p><p class="note note-success">    #{}ä¸ºå‚æ•°å ä½ç¬¦?ï¼Œå³SQLé¢„ç¼–è¯‘ <B>æ¨èä½¿ç”¨</B></br>    ${}ä¸ºå­—ç¬¦ä¸²æ›¿æ¢ï¼Œå³SQLæ‹¼æ¥</p><h3 id="å¤šä¸ªå‚æ•°"><a href="#å¤šä¸ªå‚æ•°" class="headerlink" title="å¤šä¸ªå‚æ•°"></a>å¤šä¸ªå‚æ•°</h3><h4 id="å®ä½“ä¼ å…¥"><a href="#å®ä½“ä¼ å…¥" class="headerlink" title="å®ä½“ä¼ å…¥"></a>å®ä½“ä¼ å…¥</h4><p>serviceå±‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(User user)</span> &#123;<br>    <span class="hljs-type">User</span> <span class="hljs-variable">userInfo</span> <span class="hljs-operator">=</span> userMapper.getUserInfo(user);<br>    <span class="hljs-keyword">return</span> userInfo;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="mapperå±‚ï¼š"><a href="#mapperå±‚ï¼š" class="headerlink" title="mapperå±‚ï¼š"></a>mapperå±‚ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span>&#123;<br>    User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(User User)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="mapper-xmlï¼š"><a href="#mapper-xmlï¼š" class="headerlink" title="mapper.xmlï¼š"></a>mapper.xmlï¼š</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserInfo&quot;</span>  <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;User&quot;</span>  <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.pojo.User&quot;</span>&gt;</span><br>    select userId<br>    from users<br>    where userId=#&#123;userId&#125; and sex=#&#123;sex&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="Mapä¼ å…¥"><a href="#Mapä¼ å…¥" class="headerlink" title="Mapä¼ å…¥"></a>Mapä¼ å…¥</h3><h4 id="serviceå±‚ï¼š"><a href="#serviceå±‚ï¼š" class="headerlink" title="serviceå±‚ï¼š"></a>serviceå±‚ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(Map map)</span> &#123;<br>    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userMapper.getUserInfo(map);<br>    <span class="hljs-keyword">return</span> user;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="mapperå±‚ï¼š-1"><a href="#mapperå±‚ï¼š-1" class="headerlink" title="mapperå±‚ï¼š"></a>mapperå±‚ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span>&#123;<br>    User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(Map map)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="mapper-xmlå±‚ï¼š"><a href="#mapper-xmlå±‚ï¼š" class="headerlink" title="mapper.xmlå±‚ï¼š"></a>mapper.xmlå±‚ï¼š</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æŸ¥è¯¢--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserInfo&quot;</span>  <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Map&quot;</span>  <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.pojo.User&quot;</span>&gt;</span><br>    select userId<br>    from users<br>    where userId=#&#123;userId&#125; and sex=#&#123;sex&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="æ³¨è§£-Paramä¼ å…¥"><a href="#æ³¨è§£-Paramä¼ å…¥" class="headerlink" title="æ³¨è§£@Paramä¼ å…¥"></a>æ³¨è§£@Paramä¼ å…¥</h3><h4 id="serviceå±‚ï¼š-1"><a href="#serviceå±‚ï¼š-1" class="headerlink" title="serviceå±‚ï¼š"></a>serviceå±‚ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(User user,Integer age)</span> &#123;<br>    <span class="hljs-type">User</span> <span class="hljs-variable">userResult</span> <span class="hljs-operator">=</span> userMapper.getUserInfo(user,age);<br>    <span class="hljs-keyword">return</span> userResult;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="mapperå±‚ï¼š-2"><a href="#mapperå±‚ï¼š-2" class="headerlink" title="mapperå±‚ï¼š"></a>mapperå±‚ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span>&#123;<br>    User <span class="hljs-title function_">getUserInfo</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;userInfo&quot;)</span> User user,<span class="hljs-meta">@Param(&quot;age&quot;)</span> Integer age)</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="mapper-xmlï¼š-1"><a href="#mapper-xmlï¼š-1" class="headerlink" title="mapper.xmlï¼š"></a>mapper.xmlï¼š</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æŸ¥è¯¢--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserInfo&quot;</span>   <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.pojo.User&quot;</span>&gt;</span><br>    select userId<br>    from users<br>    where userId=#&#123;userInfo.userId&#125; and sex=#&#123;userInfo.sex&#125; and age=#&#123;age&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.cnblogs.com/cangqinglang/p/14237361.html">mybatis ä¼ é€’å‚æ•°çš„7ç§æ–¹æ³• </a><a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="http://www.codebaoku.com/it-java/it-java-238108.html">SpringBoot ä½¿ç”¨MyBatisçš„å‡ ç§ä¼ å‚è§„èŒƒç¤ºä¾‹</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Mybatis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Mybatis</tag>
      
      <tag>DAO</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cronè¡¨è¾¾å¼è¯¦è§£</title>
    <link href="/2022/09/21/cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <url>/2022/09/21/cron%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p class="note note-success">    <b>cron</b>æ˜¯åŸºäºæ—¶é—´çš„ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œé€šè¿‡cronåœ¨å›ºå®šæ—¶é—´ã€æ—¥æœŸã€é—´éš”ä¸‹ï¼Œè¿è¡Œå®šæœŸä»»åŠ¡ï¼Œå¦‚ï¼šå®šæœŸä¸‹è½½æ–‡ä»¶å’Œé‚®ä»¶ã€‚cronè¯¥è¯æ¥æºäºå¸Œè…Šè¯­chronosï¼ˆÏ‡ÏÏŒÎ½Î¿Ï‚ï¼‰ï¼ŒåŸæ„æ˜¯æ—¶é—´ã€‚</p>é€šå¸¸ï¼Œä»»åŠ¡æ—¶é—´è¡¨ï¼ˆcrontabï¼‰æ–‡ä»¶å‚¨å­˜çš„æŒ‡ä»¤è¢«crondï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰æ¿€æ´»ï¼Œå®ˆæŠ¤è¿›ç¨‹åœ¨åå°è¿è¡Œï¼Œå¹¶æ¯ä¸€åˆ†é’Ÿæ£€æŸ¥æ˜¯å¦æœ‰å®šæœŸçš„ä½œä¸šéœ€è¦æ‰§è¡Œã€‚è¿™ç±»ä½œä¸šä¸€èˆ¬ç§°ä¸ºcron jobsã€‚<h3 id="cronè¡¨è¾¾å¼æ ¼å¼"><a href="#cronè¡¨è¾¾å¼æ ¼å¼" class="headerlink" title="cronè¡¨è¾¾å¼æ ¼å¼"></a>cronè¡¨è¾¾å¼æ ¼å¼</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç§’ <span class="hljs-keyword">second</span> (<span class="hljs-number">0</span> <span class="hljs-operator">-</span> <span class="hljs-number">59</span>)<br>â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ† <span class="hljs-keyword">minute</span> (<span class="hljs-number">0</span> <span class="hljs-operator">-</span> <span class="hljs-number">59</span>)<br>â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¶ <span class="hljs-keyword">hour</span> (<span class="hljs-number">0</span> <span class="hljs-operator">-</span> <span class="hljs-number">23</span>)<br>â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æ—¥ <span class="hljs-keyword">day</span> <span class="hljs-keyword">of</span> the <span class="hljs-keyword">month</span> (<span class="hljs-number">1</span> <span class="hljs-operator">-</span> <span class="hljs-number">31</span>) <span class="hljs-keyword">or</span> L <span class="hljs-keyword">for</span> <span class="hljs-keyword">last</span> <span class="hljs-keyword">day</span> <span class="hljs-keyword">of</span> the <span class="hljs-keyword">month</span><br>â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ æœˆ <span class="hljs-keyword">month</span> (<span class="hljs-number">1</span> <span class="hljs-operator">-</span> <span class="hljs-number">12</span> <span class="hljs-keyword">or</span> Jan<span class="hljs-operator">/</span>January <span class="hljs-operator">-</span> <span class="hljs-type">Dec</span><span class="hljs-operator">/</span>December)<br>â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€å‘¨ <span class="hljs-keyword">day</span> <span class="hljs-keyword">of</span> the week (<span class="hljs-number">0</span> <span class="hljs-operator">-</span> <span class="hljs-number">6</span> <span class="hljs-keyword">or</span> Sun<span class="hljs-operator">/</span>Sunday <span class="hljs-operator">-</span> Sat<span class="hljs-operator">/</span>Saturday)<br>â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€å¹´ï¼ˆä¸€èˆ¬çœç•¥ï¼Œç”¨ä¸ä¸Šï¼‰<br>â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚<br><span class="hljs-operator">*</span> <span class="hljs-operator">*</span> <span class="hljs-operator">*</span> <span class="hljs-operator">*</span> <span class="hljs-operator">*</span> <span class="hljs-operator">*</span> <span class="hljs-operator">*</span> <br></code></pre></td></tr></table></figure><h3 id="cronè¡¨è¾¾å¼å­—ç¬¦å«ä¹‰"><a href="#cronè¡¨è¾¾å¼å­—ç¬¦å«ä¹‰" class="headerlink" title="cronè¡¨è¾¾å¼å­—ç¬¦å«ä¹‰"></a>cronè¡¨è¾¾å¼å­—ç¬¦å«ä¹‰</h3><p>å…³äº <strong>cron</strong> çš„å„ä¸ªåŸŸçš„å®šä¹‰å¦‚ä¸‹è¡¨æ ¼æ‰€ç¤ºï¼š</p><table><thead><tr><th align="center">åŸŸ</th><th align="center">æ˜¯å¦å¿…å¡«</th><th align="center">å€¼ä»¥åŠèŒƒå›´</th><th align="center">é€šé…ç¬¦</th></tr></thead><tbody><tr><td align="center">ç§’</td><td align="center">æ˜¯</td><td align="center">0-59</td><td align="center">, - * &#x2F;</td></tr><tr><td align="center">åˆ†</td><td align="center">æ˜¯</td><td align="center">0-59</td><td align="center">, - * &#x2F;</td></tr><tr><td align="center">æ—¶</td><td align="center">æ˜¯</td><td align="center">0-23</td><td align="center">, - * &#x2F;</td></tr><tr><td align="center">æ—¥</td><td align="center">æ˜¯</td><td align="center">1-31</td><td align="center">, - * ? &#x2F; L W</td></tr><tr><td align="center">æœˆ</td><td align="center">æ˜¯</td><td align="center">1-12 æˆ– JAN-DEC</td><td align="center">, - * &#x2F;</td></tr><tr><td align="center">å‘¨</td><td align="center">æ˜¯</td><td align="center">1-7 æˆ– SUN-SAT</td><td align="center">, - * ? &#x2F; L #</td></tr><tr><td align="center">å¹´</td><td align="center">å¦</td><td align="center">1970-2099</td><td align="center">, - * &#x2F;</td></tr></tbody></table><h3 id="cronä¸­çš„é€šé…ç¬¦"><a href="#cronä¸­çš„é€šé…ç¬¦" class="headerlink" title="cronä¸­çš„é€šé…ç¬¦"></a>cronä¸­çš„é€šé…ç¬¦</h3><ul><li><code>,</code> è¿™é‡ŒæŒ‡çš„æ˜¯åœ¨ä¸¤ä¸ªä»¥ä¸Šçš„æ—¶é—´ç‚¹ä¸­éƒ½æ‰§è¡Œï¼Œå¦‚æœæˆ‘ä»¬åœ¨ â€œåˆ†â€ è¿™ä¸ªåŸŸä¸­å®šä¹‰ä¸º <code>8,12,35</code> ï¼Œåˆ™è¡¨ç¤ºåˆ†åˆ«åœ¨ç¬¬8åˆ†ï¼Œç¬¬12åˆ† ç¬¬35åˆ†æ‰§è¡Œè¯¥å®šæ—¶ä»»åŠ¡ã€‚</li><li><code>-</code> è¿™ä¸ªæ¯”è¾ƒå¥½ç†è§£å°±æ˜¯æŒ‡å®šåœ¨æŸä¸ªåŸŸçš„è¿ç»­èŒƒå›´ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ â€œæ—¶â€ è¿™ä¸ªåŸŸä¸­å®šä¹‰ <code>1-6</code>ï¼Œåˆ™è¡¨ç¤ºåœ¨1åˆ°6ç‚¹ä¹‹é—´æ¯å°æ—¶éƒ½è§¦å‘ä¸€æ¬¡ï¼Œç”¨ <code>,</code> è¡¨ç¤º <code>1,2,3,4,5,6</code></li><li><code>*</code> è¡¨ç¤ºæ‰€æœ‰å€¼ï¼Œå¯è§£è¯»ä¸º â€œæ¯â€ã€‚ å¦‚æœåœ¨â€œæ—¥â€è¿™ä¸ªåŸŸä¸­è®¾ç½® <code>*</code>,è¡¨ç¤ºæ¯ä¸€å¤©éƒ½ä¼šè§¦å‘ã€‚</li><li><code>?</code> è¡¨ç¤ºä¸æŒ‡å®šå€¼ã€‚ä½¿ç”¨çš„åœºæ™¯ä¸ºä¸éœ€è¦å…³å¿ƒå½“å‰è®¾ç½®è¿™ä¸ªå­—æ®µçš„å€¼ã€‚ä¾‹å¦‚:è¦åœ¨æ¯æœˆçš„8å·è§¦å‘ä¸€ä¸ªæ“ä½œï¼Œä½†ä¸å…³å¿ƒæ˜¯å‘¨å‡ ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆè®¾ç½® <code>0 0 0 8 * ?</code></li><li><code>/</code> åœ¨æŸä¸ªåŸŸä¸Šå‘¨æœŸæ€§è§¦å‘ï¼Œè¯¥ç¬¦å·å°†å…¶æ‰€åœ¨åŸŸä¸­çš„è¡¨è¾¾å¼åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­ç¬¬ä¸€éƒ¨åˆ†æ˜¯èµ·å§‹å€¼ï¼Œé™¤äº†ç§’ä»¥å¤–éƒ½ä¼šé™ä½ä¸€ä¸ªå•ä½ï¼Œæ¯”å¦‚ åœ¨ â€œç§’â€ ä¸Šå®šä¹‰ <code>5/10</code> è¡¨ç¤ºä» ç¬¬ 5 ç§’å¼€å§‹ æ¯ 10 ç§’æ‰§è¡Œä¸€æ¬¡ï¼Œè€Œåœ¨ â€œåˆ†â€ ä¸Šåˆ™è¡¨ç¤ºä» ç¬¬ 5 ç§’å¼€å§‹ æ¯ 10 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚</li><li><code>L</code> è¡¨ç¤ºè‹±æ–‡ä¸­çš„<strong>LAST</strong> çš„æ„æ€ï¼Œåªèƒ½åœ¨ â€œæ—¥â€å’Œâ€œå‘¨â€ä¸­ä½¿ç”¨ã€‚åœ¨â€œæ—¥â€ä¸­è®¾ç½®ï¼Œè¡¨ç¤ºå½“æœˆçš„æœ€åä¸€å¤©(ä¾æ®å½“å‰æœˆä»½ï¼Œå¦‚æœæ˜¯äºŒæœˆè¿˜ä¼šä¾æ®æ˜¯å¦æ˜¯æ¶¦å¹´), åœ¨â€œå‘¨â€ä¸Šè¡¨ç¤ºå‘¨å…­ï¼Œç›¸å½“äºâ€7â€æˆ–â€SATâ€ã€‚å¦‚æœåœ¨â€Lâ€å‰åŠ ä¸Šæ•°å­—ï¼Œåˆ™è¡¨ç¤ºè¯¥æ•°æ®çš„æœ€åä¸€ä¸ªã€‚ä¾‹å¦‚åœ¨â€œå‘¨â€ä¸Šè®¾ç½®â€7Lâ€è¿™æ ·çš„æ ¼å¼,åˆ™è¡¨ç¤ºâ€œæœ¬æœˆæœ€åä¸€ä¸ªå‘¨å…­â€</li><li><code>W</code> è¡¨ç¤ºç¦»æŒ‡å®šæ—¥æœŸçš„æœ€è¿‘é‚£ä¸ªå·¥ä½œæ—¥(å‘¨ä¸€è‡³å‘¨äº”)è§¦å‘ï¼Œåªèƒ½åœ¨ â€œæ—¥â€ ä¸­ä½¿ç”¨ä¸”åªèƒ½ç”¨åœ¨å…·ä½“çš„æ•°å­—ä¹‹åã€‚è‹¥åœ¨â€œæ—¥â€ä¸Šç½®â€15Wâ€ï¼Œè¡¨ç¤ºç¦»æ¯æœˆ15å·æœ€è¿‘çš„é‚£ä¸ªå·¥ä½œæ—¥è§¦å‘ã€‚å‡å¦‚15å·æ­£å¥½æ˜¯å‘¨å…­ï¼Œåˆ™æ‰¾æœ€è¿‘çš„å‘¨äº”(14å·)è§¦å‘, å¦‚æœ15å·æ˜¯å‘¨æœªï¼Œåˆ™æ‰¾æœ€è¿‘çš„ä¸‹å‘¨ä¸€(16å·)è§¦å‘.å¦‚æœ15å·æ­£å¥½åœ¨å·¥ä½œæ—¥(å‘¨ä¸€è‡³å‘¨äº”)ï¼Œåˆ™å°±åœ¨è¯¥å¤©è§¦å‘ã€‚å¦‚æœæ˜¯ â€œ1Wâ€ å°±åªèƒ½å¾€æœ¬æœˆçš„ä¸‹ä¸€ä¸ªæœ€è¿‘çš„å·¥ä½œæ—¥æ¨ä¸èƒ½è·¨æœˆå¾€ä¸Šä¸€ä¸ªæœˆæ¨ã€‚</li><li><code>#</code> è¡¨ç¤ºæ¯æœˆçš„ç¬¬å‡ ä¸ªå‘¨å‡ ï¼Œåªèƒ½ä½œç”¨äº â€œå‘¨â€ ä¸Šã€‚ä¾‹å¦‚ â€2#3â€ è¡¨ç¤ºåœ¨æ¯æœˆçš„ç¬¬ä¸‰ä¸ªå‘¨äºŒã€‚</li></ul><h3 id="cronç¤ºä¾‹"><a href="#cronç¤ºä¾‹" class="headerlink" title="cronç¤ºä¾‹"></a>cronç¤ºä¾‹</h3><table><thead><tr><th align="right">ç¤ºä¾‹</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="right"><code>0 15 10 ? * *</code></td><td align="left">æ¯å¤©ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 15 10 * * ?</code></td><td align="left">æ¯å¤©ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 0 12 * * ?</code></td><td align="left">æ¯å¤©ä¸­åˆ12:00æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 0 10,14,16 * * ?</code></td><td align="left">æ¯å¤©ä¸Šåˆ10:00ç‚¹ã€ä¸‹åˆ14:00ä»¥åŠä¸‹åˆ16:00æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 0/30 9-17 * * ?</code></td><td align="left">æ¯å¤©ä¸Šåˆ09:00åˆ°ä¸‹åˆ17:00æ—¶é—´æ®µå†…æ¯éš”åŠå°æ—¶æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 * 14 * * ?</code></td><td align="left">æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:59æ—¶é—´æ®µå†…æ¯éš”1åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 0-5 14 * * ?</code></td><td align="left">æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:05æ—¶é—´æ®µå†…æ¯éš”1åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 0/5 14 * * ?</code></td><td align="left">æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:55æ—¶é—´æ®µå†…æ¯éš”5åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 0/5 14,18 * * ?</code></td><td align="left">æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:55ã€ä¸‹åˆ18:00åˆ°ä¸‹åˆ18:55æ—¶é—´æ®µå†…æ¯éš”5åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 0 12 ? * WED</code></td><td align="left">æ¯ä¸ªæ˜ŸæœŸä¸‰ä¸­åˆ12:00æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 15 10 15 * ?</code></td><td align="left">æ¯æœˆ15æ—¥ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 15 10 L * ?</code></td><td align="left">æ¯æœˆæœ€åä¸€æ—¥ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 15 10 ? * 6L</code></td><td align="left">æ¯æœˆæœ€åä¸€ä¸ªæ˜ŸæœŸå…­ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 15 10 ? * 6#3</code></td><td align="left">æ¯æœˆç¬¬ä¸‰ä¸ªæ˜ŸæœŸå…­ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 10,44 14 ? 3 WED</code></td><td align="left">æ¯å¹´3æœˆçš„æ¯ä¸ªæ˜ŸæœŸä¸‰ä¸‹åˆ14:10å’Œ14:44æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 15 10 ? * * 2022</code></td><td align="left">2022å¹´æ¯å¤©ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 15 10 ? * * *</code></td><td align="left">æ¯å¹´æ¯å¤©ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 0/5 14,18 * * ? 2022</code></td><td align="left">2022å¹´æ¯å¤©ä¸‹åˆ14:00åˆ°ä¸‹åˆ14:55ã€ä¸‹åˆ18:00åˆ°ä¸‹åˆ18:55æ—¶é—´æ®µå†…æ¯éš”5åˆ†é’Ÿæ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 15 10 ? * 6#3 2022,2023</code></td><td align="left">2022å¹´è‡³2023å¹´æ¯æœˆç¬¬ä¸‰ä¸ªæ˜ŸæœŸå…­ä¸Šåˆ10:15æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 0/30 9-17 * * ? 2022-2025</code></td><td align="left">2022å¹´è‡³2025å¹´æ¯å¤©ä¸Šåˆ09:00åˆ°ä¸‹åˆ17:30æ—¶é—´æ®µå†…æ¯éš”åŠå°æ—¶æ‰§è¡Œä»»åŠ¡</td></tr><tr><td align="right"><code>0 10,44 14 ? 3 WED 2022/2</code></td><td align="left">ä»2022å¹´å¼€å§‹ï¼Œæ¯éš”ä¸¤å¹´3æœˆçš„æ¯ä¸ªæ˜ŸæœŸä¸‰ä¸‹åˆ14:10å’Œ14:44æ‰§è¡Œä»»åŠ¡</td></tr></tbody></table><h3 id="cronè¡¨è¾¾å¼åœ¨çº¿å·¥å…·"><a href="#cronè¡¨è¾¾å¼åœ¨çº¿å·¥å…·" class="headerlink" title="cronè¡¨è¾¾å¼åœ¨çº¿å·¥å…·"></a>cronè¡¨è¾¾å¼åœ¨çº¿å·¥å…·</h3><p>1<a href="https://www.pppet.net/">cronè¡¨è¾¾å¼åœ¨çº¿å·¥å…·1</a> </p><p>2<a href="https://www.bejson.com/othertools/cron/">cronè¡¨è¾¾å¼åœ¨çº¿å·¥å…·2</a> </p><p>3<a href="https://cron.qqe2.com/">cronè¡¨è¾¾å¼åœ¨çº¿å·¥å…·3</a> </p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Cron</tag>
      
      <tag>Spring</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Dubboå¾®æœåŠ¡åŸºç¡€çŸ¥è¯†</title>
    <link href="/2022/09/21/dubbo%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2022/09/21/dubbo%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<div align="center"><a href="https://i-xiaoxin.github.io/"><img src="https://readme-typing-svg.demolab.com?font=Fira+Code&size=25&pause=1000&width=435&lines=%F0%9F%8D%8E%E8%B7%AF%E6%BC%AB%E6%BC%AB%E5%85%B6%E4%BF%AE%E8%BF%9C%E5%85%AE%2C%E5%90%BE%E5%B0%86%E4%B8%8A%E4%B8%8B%E8%80%8C%E6%B1%82%E7%B4%A2;The+road+ahead+will+be+long;+Our+climb+will+be+steep" alt="Typing SVG" /></a></div><h3 id="ğŸš©å¾®æœåŠ¡å‡ºç°èƒŒæ™¯ç®€è¿°"><a href="#ğŸš©å¾®æœåŠ¡å‡ºç°èƒŒæ™¯ç®€è¿°" class="headerlink" title="ğŸš©å¾®æœåŠ¡å‡ºç°èƒŒæ™¯ç®€è¿°"></a>ğŸš©å¾®æœåŠ¡å‡ºç°èƒŒæ™¯ç®€è¿°</h3><p>2008å¹´ä»¥åï¼Œå›½å†…äº’è”ç½‘è¡Œä¸šé£é€Ÿå‘å±•ï¼Œæˆ‘ä»¬å¯¹è½¯ä»¶ç³»ç»Ÿçš„éœ€æ±‚å·²ç»ä¸å†æ˜¯è¿‡å»â€èƒ½ç”¨å°±è¡Œâ€è¿™ç§éœ€æ±‚äº†ï¼Œåƒ<strong>æŠ¢çº¢åŒ…ã€åŒåä¸€</strong>è¿™æ ·çš„æ´»åŠ¨ä¸æ–­é€¼è¿«æˆ‘ä»¬å»çªç ´è½¯ä»¶ç³»ç»Ÿçš„æ€§èƒ½ä¸Šé™ï¼Œä¼ ç»Ÿçš„ITä¼ä¸šâ€èƒ½ç”¨å°±è¡Œâ€çš„å¼€å‘æ€æƒ³å·²ç»ä¸èƒ½æ»¡è¶³äº’è”ç½‘<strong>é«˜å¹¶å‘ã€å¤§æµé‡</strong>çš„æ€§èƒ½è¦æ±‚ã€‚ç³»ç»Ÿæ¶æ„èµ°å‘<strong>åˆ†å¸ƒå¼</strong>å·²ç»æ˜¯æœåŠ¡å™¨å¼€å‘é¢†åŸŸè§£å†³è¯¥é—®é¢˜å”¯ä¸€çš„å‡ºè·¯ï¼Œç„¶è€Œåˆ†å¸ƒå¼ç³»ç»Ÿç”±äºå¤©ç”Ÿçš„å¤æ‚åº¦ï¼Œå¹¶ä¸åƒå¼€å‘å•ä½“åº”ç”¨ä¸€æ ·æŠŠæ¡†æ¶ä¸€å †å°±èƒ½æå®šï¼Œå› æ­¤å„å¤§äº’è”ç½‘å…¬å¸éƒ½åœ¨æŠ•å…¥æŠ€æœ¯åŠ›é‡ç ”å‘è‡ªå·±çš„åŸºç¡€è®¾æ–½ã€‚è¿™é‡Œé¢æ¯”è¾ƒæœ‰åçš„å¦‚é˜¿é‡Œçš„å¼€æºé¡¹ç›®dubbo, Netflixå¼€å‘çš„ä¸€ç³»åˆ—æœåŠ¡æ¡†æ¶ã€‚</p><h3 id="ğŸš©ç³»ç»Ÿæ¶æ„æ¼”å˜"><a href="#ğŸš©ç³»ç»Ÿæ¶æ„æ¼”å˜" class="headerlink" title="ğŸš©ç³»ç»Ÿæ¶æ„æ¼”å˜"></a>ğŸš©ç³»ç»Ÿæ¶æ„æ¼”å˜</h3><ul><li><h4 id="å•ä½“æ¶æ„"><a href="#å•ä½“æ¶æ„" class="headerlink" title="å•ä½“æ¶æ„"></a>å•ä½“æ¶æ„</h4><p>  å•ä½“æ¶æ„ä¹Ÿç§°ä¹‹ä¸ºå•ä½“ç³»ç»Ÿæˆ–è€…æ˜¯å•ä½“åº”ç”¨ã€‚å°±æ˜¯ä¸€ç§æŠŠç³»ç»Ÿä¸­æ‰€æœ‰çš„åŠŸèƒ½ã€æ¨¡å—è€¦åˆåœ¨ä¸€ä¸ªåº”ç”¨ä¸­çš„æ¶æ„æ–¹å¼</p><p>  <img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20220922204728268.png" alt="å•ä½“æ¶æ„"></p><blockquote><p>å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p><p>â€‹<a href="https://emojipedia.org/basketball/">ğŸ€</a> ä»£ç è€¦åˆï¼šæ¨¡å—çš„è¾¹ç•Œæ¨¡ç³Šã€ä¾èµ–å…³ç³»ä¸æ¸…æ™°ï¼Œæ•´ä¸ªé¡¹ç›®éå¸¸å¤æ‚ï¼Œæ¯æ¬¡ä¿®æ”¹ä»£ç éƒ½å¿ƒæƒŠèƒ†æˆ˜</p><p>â€‹<a href="https://emojipedia.org/basketball/">ğŸ€</a>  è¿­ä»£å›°éš¾ï¼šæ¯æ¬¡åŠŸèƒ½çš„å˜æ›´æˆ–bugçš„ä¿®å¤éƒ½ä¼šå¯¼è‡´é‡æ–°éƒ¨ç½²æ•´ä¸ªåº”ç”¨ï¼Œéšç€ä»£ç çš„å¢å¤šï¼Œæ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²çš„æ—¶é—´ä¹Ÿä¼šå¢åŠ </p><p>â€‹<a href="https://emojipedia.org/basketball/">ğŸ€</a>  æ‰©å±•å—é™ï¼šå•ä½“åº”ç”¨åªèƒ½ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œæ‰©å±•ï¼Œæ— æ³•æ ¹æ®ä¸šåŠ¡æ¨¡å—çš„éœ€è¦è¿›è¡Œä¼¸ç¼©</p><p>â€‹<a href="https://emojipedia.org/basketball/">ğŸ€</a>  æŠ€æœ¯å€ºåŠ¡ï¼šéšç€æ—¶é—´æ¨ç§»ã€éœ€æ±‚å˜æ›´å’Œäººå‘˜æ›´è¿­ï¼Œä¼šé€æ¸å½¢æˆåº”ç”¨ç¨‹åºçš„æŠ€æœ¯å€ºåŠ¡ï¼Œå¹¶ä¸”è¶Šç§¯è¶Šå¤šä¸åä¸ä¿®</p><p>â€‹<a href="https://emojipedia.org/basketball/">ğŸ€</a>  é˜»ç¢åˆ›æ–°ï¼šå•ä½“åº”ç”¨å¾€å¾€ä½¿ç”¨ç»Ÿä¸€çš„æŠ€æœ¯å¹³å°æˆ–æ–¹æ¡ˆè§£å†³æ‰€æœ‰çš„é—®é¢˜ï¼Œè¦æƒ³å¼•å…¥æ–°æŠ€æœ¯å¹³å°ä¼šéå¸¸å›°éš¾</p></blockquote></li><li><h4 id="åˆ†å¸ƒå¼æ¶æ„"><a href="#åˆ†å¸ƒå¼æ¶æ„" class="headerlink" title="åˆ†å¸ƒå¼æ¶æ„"></a>åˆ†å¸ƒå¼æ¶æ„</h4><p>  åˆ†å¸ƒå¼æ˜¯éœ€è¦æŒ‰ç…§åŠŸèƒ½ç‚¹æŠŠç³»ç»Ÿæ‹†åˆ†ï¼Œæ‹†åˆ†æˆç‹¬ç«‹çš„åŠŸèƒ½ï¼Œå•ç‹¬ä¸ºæŸä¸€ä¸ªèŠ‚ç‚¹æ·»åŠ æœåŠ¡å™¨ï¼Œéœ€è¦ç³»ç»Ÿä¹‹é—´é…åˆæ‰èƒ½å®Œæˆæ•´ä¸ªä¸šåŠ¡é€»è¾‘ã€‚</p><p>  <img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20220922205059287.png" alt="åˆ†å¸ƒå¼æ¶æ„"></p><blockquote><p>åˆ†å¸ƒå¼æ¶æ„ä¼˜ç‚¹ï¼š</p><p>â€‹<a href="https://emojipedia.org/puzzle-piece/">ğŸ§©</a> ä¸åŒçš„å›¢é˜Ÿè´Ÿè´£ä¸åŒçš„å­é¡¹ç›®</p><p>â€‹<a href="https://emojipedia.org/puzzle-piece/">ğŸ§©</a> å¯ä»¥çµæ´»çš„è¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½²</p><p>â€‹<a href="https://emojipedia.org/puzzle-piece/">ğŸ§©</a> å¯ä»¥ä¸ºæŸä¸€æ¨¡å—å•ç‹¬åŠ é›†ç¾¤</p><p>åˆ†å¸ƒå¼æ¶æ„ç¼ºç‚¹ï¼š</p><p>â€‹<a href="https://emojipedia.org/clapper-board/">ğŸ¬</a>  æ¨¡å—ä¹‹é—´æœ‰ä¸€äº›é€šç”¨çš„ä¸šåŠ¡é€»è¾‘æ— æ³•å…±ç”¨ã€‚</p></blockquote></li><li><h4 id="SOAæ¶æ„"><a href="#SOAæ¶æ„" class="headerlink" title="SOAæ¶æ„"></a>SOAæ¶æ„</h4><p>  SOAï¼šService Oriented Architectureï¼ˆé¢å‘æœåŠ¡çš„æ¶æ„ï¼‰ã€‚ä¹Ÿå°±æ˜¯æŠŠå·¥ç¨‹æ‹†åˆ†æˆ<strong>æœåŠ¡å±‚ï¼Œè¡¨ç°å±‚</strong>ä¸¤ä¸ªå·¥ç¨‹ã€‚æœåŠ¡å±‚ä¸­åŒ…å«ä¸šåŠ¡é€»è¾‘ï¼Œåªéœ€è¦å¯¹å¤–æä¾›æœåŠ¡å³å¯ã€‚è¡¨ç°å±‚åªéœ€è¦å¤„ç†å’Œé¡µé¢çš„äº¤äº’ï¼Œä¸šåŠ¡é€»è¾‘éƒ½æ˜¯è°ƒç”¨æœåŠ¡å±‚çš„æœåŠ¡æ¥å®ç°ï¼Œä½¿ç”¨ESBï¼ˆEnterparise Servce Busä¼ä¸šæœåŠ¡æ€»çº¿ï¼Œä»£è¡¨æŠ€æœ¯ï¼šMuleã€WSO2ï¼‰æä¾›è¡¨ç°å±‚å’ŒæœåŠ¡å±‚ä¹‹é—´çš„äº¤äº’ã€‚</p></li></ul><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20220922205438294.png" alt="SOAæ¶æ„"></p><blockquote><p>å­˜åœ¨çš„é—®é¢˜ï¼š</p><p><a href="https://emojipedia.org/volleyball/">ğŸ</a>  ä¸æ”¯æŒé›†ç¾¤ã€è‡ƒè‚¿</p></blockquote><h3 id="Dubboæ¡†æ¶"><a href="#Dubboæ¡†æ¶" class="headerlink" title="Dubboæ¡†æ¶"></a>Dubboæ¡†æ¶</h3><h4 id="Dubboç®€ä»‹"><a href="#Dubboç®€ä»‹" class="headerlink" title="Dubboç®€ä»‹"></a>Dubboç®€ä»‹</h4><p>å› ä¸ºéœ€æ±‚çš„å¢é•¿å¯¼è‡´æ¶æ„åˆ›æ–°ï¼Œdubboçš„å‡ºç°å°±æ˜¯ä¸ºäº†å®ç°SOAæ¶æ„çš„æ¡†æ¶ï¼ŒDubbo(è¯»éŸ³[ËˆdÊŒbÉ™ÊŠ])æ˜¯é˜¿é‡Œå·´å·´å…¬å¸å¼€æºçš„ä¸€ä¸ªåŸºäºJavaçš„é«˜æ€§èƒ½<strong>RPC</strong>ï¼ˆRemote Procedure Callï¼‰æ¡†æ¶ï¼Œä½¿å¾—åº”ç”¨å¯é€šè¿‡é«˜æ€§èƒ½çš„ RPC å®ç°æœåŠ¡çš„è¾“å‡ºå’Œè¾“å…¥åŠŸèƒ½ï¼Œå¯ä»¥å’Œ Springæ¡†æ¶æ— ç¼é›†æˆã€‚åæœŸé˜¿é‡Œå·´å·´åœæ­¢äº†è¯¥é¡¹ç›®çš„ç»´æŠ¤ï¼Œäºæ˜¯å½“å½“ç½‘åœ¨è¿™ä¹‹ä¸Šæ¨å‡ºäº†è‡ªå·±çš„Dubboxï¼Œé¡¹ç›® <a href="https://dubbo.apache.org/zh/">Apache Dubbo</a></p><h4 id="Dubboæ¶æ„"><a href="#Dubboæ¶æ„" class="headerlink" title="Dubboæ¶æ„"></a>Dubboæ¶æ„</h4><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20220922205824470.png" alt="Dubboæ¶æ„"></p><h3 id="æ³¨å†Œä¸­å¿ƒ-zookeeper"><a href="#æ³¨å†Œä¸­å¿ƒ-zookeeper" class="headerlink" title="æ³¨å†Œä¸­å¿ƒ zookeeper"></a>æ³¨å†Œä¸­å¿ƒ zookeeper</h3><p><a href="https://zookeeper.apache.org/">Zookeeper</a>æ˜¯Apacahe Hadoopçš„å­é¡¹ç›®ï¼Œå¯ä»¥ä¸ºåˆ†å¸ƒå¼åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡ï¼Œé€‚åˆä½œä¸ºDubboæœåŠ¡çš„æ³¨å†Œä¸­å¿ƒï¼Œè´Ÿè´£æœåŠ¡åœ°å€çš„æ³¨å†Œä¸æŸ¥æ‰¾ï¼Œç›¸å½“äºç›®å½•æœåŠ¡ï¼ŒæœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…åªåœ¨å¯åŠ¨æ—¶ä¸æ³¨å†Œä¸­å¿ƒäº¤äº’ã€‚</p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20220922210506808.png" alt="zookeeper"></p><h3 id="zookeeperçš„å®‰è£…"><a href="#zookeeperçš„å®‰è£…" class="headerlink" title="zookeeperçš„å®‰è£…"></a>zookeeperçš„å®‰è£…</h3><p class="note note-success">    (1) å®‰è£…jdk</p><p class="note note-success">    (2) ä¸Šä¼ å¹¶è§£å‹ç¼©zookeeperå‹ç¼©åŒ…</p><p class="note note-success">    (3) è¿›å…¥ bin ç›®å½•ï¼Œå¯åŠ¨æœåŠ¡è¾“å…¥å‘½ä»¤</p><h3 id="Dubboæ¡ˆä¾‹Demo"><a href="#Dubboæ¡ˆä¾‹Demo" class="headerlink" title="Dubboæ¡ˆä¾‹Demo"></a>Dubboæ¡ˆä¾‹Demo</h3><h4 id="ğŸ…çˆ¶å·¥ç¨‹çš„pom-xmlä¸­æ·»åŠ ä¾èµ–"><a href="#ğŸ…çˆ¶å·¥ç¨‹çš„pom-xmlä¸­æ·»åŠ ä¾èµ–" class="headerlink" title="ğŸ…çˆ¶å·¥ç¨‹çš„pom.xmlä¸­æ·»åŠ ä¾èµ–"></a><a href="https://emojipedia.org/sports-medal/">ğŸ…</a>çˆ¶å·¥ç¨‹çš„pom.xmlä¸­æ·»åŠ ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.2.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.bjpowernode<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dubbox_parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- Dubbo Spring Boot Starter --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>dubbo-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- ç”±äºä½¿â½¤äº†zookeeperä½œä¸ºæ³¨å†Œä¸­â¼¼ï¼Œåˆ™éœ€è¦åŠ â¼Šzookeeperçš„å®¢æˆ·ç«¯jaråŒ…ï¼š --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.101tec<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>zkclient<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h4 id="ğŸ…åˆ›å»ºå…¬å…±æ¥å£"><a href="#ğŸ…åˆ›å»ºå…¬å…±æ¥å£" class="headerlink" title="ğŸ…åˆ›å»ºå…¬å…±æ¥å£"></a><a href="https://emojipedia.org/sports-medal/">ğŸ…</a>åˆ›å»ºå…¬å…±æ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">HelloService</span>&#123;<br>    String <span class="hljs-title function_">hello</span><span class="hljs-params">()</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="ğŸ…å®šä¹‰æœåŠ¡æä¾›æ–¹å¹¶é…ç½®"><a href="#ğŸ…å®šä¹‰æœåŠ¡æä¾›æ–¹å¹¶é…ç½®" class="headerlink" title="ğŸ…å®šä¹‰æœåŠ¡æä¾›æ–¹å¹¶é…ç½®"></a><a href="https://emojipedia.org/sports-medal/">ğŸ…</a>å®šä¹‰æœåŠ¡æä¾›æ–¹å¹¶é…ç½®</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åˆ›å»ºservice</span><br><span class="hljs-keyword">import</span> com.alibaba.dubbo.config.annotation.Service;<br><span class="hljs-comment">//import org.springframework.stereotype.Service;</span><br><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HelloService</span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">hello</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello,Dubbox.......&quot;</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="ğŸ…å®šä¹‰æœåŠ¡æ¶ˆè´¹æ–¹"><a href="#ğŸ…å®šä¹‰æœåŠ¡æ¶ˆè´¹æ–¹" class="headerlink" title="ğŸ…å®šä¹‰æœåŠ¡æ¶ˆè´¹æ–¹"></a><a href="https://emojipedia.org/sports-medal/">ğŸ…</a>å®šä¹‰æœåŠ¡æ¶ˆè´¹æ–¹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®šä¹‰controller</span><br><span class="hljs-keyword">import</span> com.alibaba.dubbo.config.annotation.Reference;<br><span class="hljs-keyword">import</span> com.bjpowernode.service.HelloService;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;<br><br><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloController</span> &#123;<br><br>    <span class="hljs-meta">@Reference</span><br>    <span class="hljs-comment">//@Autowired</span><br>   <span class="hljs-keyword">private</span> HelloService helloService;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span><br>    <span class="hljs-meta">@ResponseBody</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">hello</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> helloService.hello();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="æ¨èIDEAå®‰è£…zookeeperæ’ä»¶"><a href="#æ¨èIDEAå®‰è£…zookeeperæ’ä»¶" class="headerlink" title="æ¨èIDEAå®‰è£…zookeeperæ’ä»¶"></a>æ¨èIDEAå®‰è£…zookeeperæ’ä»¶</h3>]]></content>
    
    
    <categories>
      
      <category>å¾®æœåŠ¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Dubbo</tag>
      
      <tag>Dubbox</tag>
      
      <tag>Zookeeper</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¸ƒç‰›äº‘ä½¿ç”¨Demo</title>
    <link href="/2022/09/21/%E4%B8%83%E7%89%9B%E4%BA%91%E4%BD%BF%E7%94%A8Demo/"/>
    <url>/2022/09/21/%E4%B8%83%E7%89%9B%E4%BA%91%E4%BD%BF%E7%94%A8Demo/</url>
    
    <content type="html"><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p class="note note-success">    å¾®æœåŠ¡ä¸­é‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„ï¼Œå‡è®¾ç”¨æˆ·è®¿é—®appæ—¶ï¼ŒæœåŠ¡å¯èƒ½é€šè¿‡é›†ç¾¤é…åˆ†é…åˆ°æµ·åº•æˆ–è€…å±±æ´é‡Œçš„æŸä¸ªå¹¸è¿æœåŠ¡å™¨ï¼Œè¿™æ—¶å›¾ç‰‡å•ä¸€éƒ¨ç½²åœ¨æœåŠ¡å™¨éœ€è¦é‡‡ç”¨ç»Ÿä¸€URIï¼Œäºæ˜¯äº‘å­˜å‚¨å›¾ç‰‡æœåŠ¡è·å¾—URIè¿›è¡Œéƒ¨ç½²å³å¯è§£å†³é—®é¢˜ã€‚æœ¬æ¬¡é‡‡ç”¨çš„æ˜¯ä¸ƒç‰›äº‘ä½œä¸ºDemoæµ‹è¯•ï¼ˆä¼˜æƒ ï¼‰çœã€‚</p><h3 id="ä¸ƒç‰›äº‘å‰ç½®å·¥ä½œç¯å¢ƒæ­å»º"><a href="#ä¸ƒç‰›äº‘å‰ç½®å·¥ä½œç¯å¢ƒæ­å»º" class="headerlink" title="ä¸ƒç‰›äº‘å‰ç½®å·¥ä½œç¯å¢ƒæ­å»º"></a>ä¸ƒç‰›äº‘å‰ç½®å·¥ä½œç¯å¢ƒæ­å»º</h3><h4 id="1-æ³¨å†Œç™»å½•"><a href="#1-æ³¨å†Œç™»å½•" class="headerlink" title="1.æ³¨å†Œç™»å½•"></a>1.æ³¨å†Œç™»å½•</h4><h4 id="2-æ„å»ºå­˜å‚¨ç©ºé—´"><a href="#2-æ„å»ºå­˜å‚¨ç©ºé—´" class="headerlink" title="2.æ„å»ºå­˜å‚¨ç©ºé—´"></a>2.æ„å»ºå­˜å‚¨ç©ºé—´</h4><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/20220924153231.png"></p><p class="note note-success">   <1>é€‰æ‹©<font color="#FF00FF">å¯¹è±¡å­˜å‚¨</font></br>       </p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20220924153909853.png" alt="æ–°å»ºå­˜å‚¨ç©ºé—´"></p><p class="note note-success">   <2>è¿›å…¥<font color="#FF00FF">æ–°å»ºç©ºé—´</font>ï¼Œå­˜å‚¨ç©ºé—´åç§°å³å…¥å£ï¼Œè¯·ä¾ç…§è§„èŒƒæ ‡å‡†å‘½åï¼›å­˜å‚¨åŒºåŸŸæ ¹æ®è‡ªå·±åœ°ç†ä½ç½®è¿›è¡Œé€‰æ‹©ï¼›è®¿é—®æ§åˆ¶å…¬å¼€</br>       </p><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/image-20220924154507736.png" alt="image-20220924154507736"></p><p class="note note-success">   <3>è¿›å…¥æ„å»ºç©ºé—´ï¼Œè·å–<font color="#FF00FF">ç³»ç»Ÿåˆ†é…çš„åŸŸåå‰ç¼€</font>ä»¥ä¾¿ç¨‹åºä¸­ä½¿ç”¨</br>       </p><p class="note note-success">   <4>å®˜æ–¹SDKå·¥å…·ä¸­æ‰¾åˆ°å¯¹åº”ç¼–ç¨‹è¯­è¨€å¾—SDKé…ç½®æ–‡æ¡£ï¼Œå«Œéº»çƒ¦å°±ç›´æ¥æ‰¾å®¢æœ</br>       </p><p class="note note-success">    <5>ç‚¹å‡»<font color="#FF00FF">ä¸ªäººä¸­å¿ƒ->å¯†é’¥ç®¡ç†</font>è·å–AccessKey/SecretKey</br>       </p><h3 id="javaæ¡ˆä¾‹"><a href="#javaæ¡ˆä¾‹" class="headerlink" title="javaæ¡ˆä¾‹"></a>javaæ¡ˆä¾‹</h3><h4 id="SDKå·¥å…·ç±»"><a href="#SDKå·¥å…·ç±»" class="headerlink" title="SDKå·¥å…·ç±»"></a>SDKå·¥å…·ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">QiniuyunUtils</span> &#123;<br>    <span class="hljs-comment">// AccessKey </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">String</span> <span class="hljs-variable">accessKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ftn79KS0pDDPoGqtd9wNyNICRuMq_fqo9Jt3Gjj1&quot;</span>;<br>    <span class="hljs-comment">// SecretKey</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">String</span> <span class="hljs-variable">secretKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;pKUaRo5vxUKtZVSrCpy5J5kayUtpcvsu9ykbm1mh&quot;</span>;<br>    <span class="hljs-comment">// äº‘ç©ºé—´åç§°</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">String</span> <span class="hljs-variable">bucket</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;CloudDemo&quot;</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">upload2Qiniu</span><span class="hljs-params">(String filePath,String fileName)</span>&#123;<br>        <span class="hljs-comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®šZoneå¯¹è±¡çš„é…ç½®ç±»</span><br>        <span class="hljs-type">Configuration</span> <span class="hljs-variable">cfg</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>(Zone.zone1());<br>        <span class="hljs-type">UploadManager</span> <span class="hljs-variable">uploadManager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UploadManager</span>(cfg);<br>        <span class="hljs-type">Auth</span> <span class="hljs-variable">auth</span> <span class="hljs-operator">=</span> Auth.create(accessKey, secretKey);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">upToken</span> <span class="hljs-operator">=</span> auth.uploadToken(bucket);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">Response</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> uploadManager.put(filePath, fileName, upToken);<br>            <span class="hljs-comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span><br>            <span class="hljs-type">DefaultPutRet</span> <span class="hljs-variable">putRet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>().fromJson(response.bodyString(), DefaultPutRet.class);<br>        &#125; <span class="hljs-keyword">catch</span> (QiniuException ex) &#123;<br>            <span class="hljs-type">Response</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> ex.response;<br>            <span class="hljs-keyword">try</span> &#123;<br>                System.err.println(r.bodyString());<br>            &#125; <span class="hljs-keyword">catch</span> (QiniuException ex2) &#123;<br>                <span class="hljs-comment">//ignore</span><br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//ä¸Šä¼ æ–‡ä»¶</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">upload2Qiniu</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] bytes, String fileName)</span>&#123;<br>        <span class="hljs-comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®šZoneå¯¹è±¡çš„é…ç½®ç±»</span><br>        <span class="hljs-type">Configuration</span> <span class="hljs-variable">cfg</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>(Zone.zone1());<br>        <span class="hljs-comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span><br>        <span class="hljs-type">UploadManager</span> <span class="hljs-variable">uploadManager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UploadManager</span>(cfg);<br><br>        <span class="hljs-comment">//é»˜è®¤ä¸æŒ‡å®škeyçš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> fileName;<br>        <span class="hljs-type">Auth</span> <span class="hljs-variable">auth</span> <span class="hljs-operator">=</span> Auth.create(accessKey, secretKey);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">upToken</span> <span class="hljs-operator">=</span> auth.uploadToken(bucket);<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-type">Response</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> uploadManager.put(bytes, key, upToken);<br>            <span class="hljs-comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span><br>            <span class="hljs-type">DefaultPutRet</span> <span class="hljs-variable">putRet</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gson</span>().fromJson(response.bodyString(), DefaultPutRet.class);<br>            System.out.println(putRet.key);<br>            System.out.println(putRet.hash);<br>        &#125; <span class="hljs-keyword">catch</span> (QiniuException ex) &#123;<br>            <span class="hljs-type">Response</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> ex.response;<br>            System.err.println(r.toString());<br>            <span class="hljs-keyword">try</span> &#123;<br>                System.err.println(r.bodyString());<br>            &#125; <span class="hljs-keyword">catch</span> (QiniuException ex2) &#123;<br>                <span class="hljs-comment">//ignore</span><br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">//åˆ é™¤æ–‡ä»¶</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteFileFromQiniu</span><span class="hljs-params">(String fileName)</span>&#123;<br>        <span class="hljs-comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®šZoneå¯¹è±¡çš„é…ç½®ç±»</span><br>        <span class="hljs-type">Configuration</span> <span class="hljs-variable">cfg</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>(Zone.zone1());<br>        <span class="hljs-type">String</span> <span class="hljs-variable">key</span> <span class="hljs-operator">=</span> fileName;<br>        <span class="hljs-type">Auth</span> <span class="hljs-variable">auth</span> <span class="hljs-operator">=</span> Auth.create(accessKey, secretKey);<br>        <span class="hljs-type">BucketManager</span> <span class="hljs-variable">bucketManager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BucketManager</span>(auth, cfg);<br>        <span class="hljs-keyword">try</span> &#123;<br>            bucketManager.delete(bucket, key);<br>        &#125; <span class="hljs-keyword">catch</span> (QiniuException ex) &#123;<br>            <span class="hljs-comment">//å¦‚æœé‡åˆ°å¼‚å¸¸ï¼Œè¯´æ˜åˆ é™¤å¤±è´¥</span><br>            System.err.println(ex.code());<br>            System.err.println(ex.response.toString());<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="æµ‹è¯•ç±»"><a href="#æµ‹è¯•ç±»" class="headerlink" title="æµ‹è¯•ç±»"></a>æµ‹è¯•ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">QinNiuTest</span> &#123;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testUpload</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">filePath</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;C:\\Users\\0\\Desktop\\avatar.jpg&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;123.jpg&quot;</span>;<br>        QiniuyunUtils.upload2Qiniu(filePath,fileName);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testDelete</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;123.jpg&quot;</span>;<br>        QiniuyunUtils.deleteFileFromQiniu(fileName);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Other</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>Spring</tag>
      
      <tag>ä¸ƒç‰›äº‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Javaé›†åˆä½“ç³»</title>
    <link href="/2022/09/21/java%E9%9B%86%E5%90%88%E4%BD%93%E7%B3%BB/"/>
    <url>/2022/09/21/java%E9%9B%86%E5%90%88%E4%BD%93%E7%B3%BB/</url>
    
    <content type="html"><![CDATA[<div align="center">    <a title="Github Total Stars" target="_blank" href="https://i-xiaoxin.github.io">        <img src="https://img.shields.io/github/stars/i-xiaoxin/i-xiaoxin.github.io?affiliations=OWNER&color=success&logo=github&style=plastic" />    </a>    <a title="Github Followers" target="_blank" href="https://i-xiaoxin.github.io">        <img src="https://img.shields.io/github/followers/i-xiaoxin?color=success&logo=github&style=plastic" />    </a>    <a title="Target " target="_blank" href="https://i-xiaoxin.github.io">        <img src="https://img.shields.io/github/languages/top/i-xiaoxin/i-xiaoxin.github.io?color=success&label=java&logo=github&style=plastic" />    </a></div><div align="center"><a href="https://i-xiaoxin.github.io/"><img src="https://readme-typing-svg.demolab.com?font=Ma+Shan+Zheng&pause=1000&width=435&lines=%F0%9F%9A%80%E5%AE%9D%E5%89%91%E9%94%8B%E4%BB%8E%E7%A3%A8%E7%A0%BA%E5%87%BA%EF%BC%8C%E6%A2%85%E8%8A%B1%E9%A6%99%E8%87%AA%E8%8B%A6%E5%AF%92%E6%9D%A5" alt="Typing SVG" /></a></div><h3 id="æ•°ç»„å­˜åœ¨é—®é¢˜"><a href="#æ•°ç»„å­˜åœ¨é—®é¢˜" class="headerlink" title="æ•°ç»„å­˜åœ¨é—®é¢˜:"></a>æ•°ç»„å­˜åœ¨é—®é¢˜:</h3><ul><li><p>æ•°ç»„é•¿åº¦å›ºå®š</p></li><li><p>å­˜å…¥çš„ç±»å‹åªèƒ½æ˜¯ä¸€ç§(æ•°æ®å•ä¸€)</p></li><li><p>æ•°ç»„æ˜¯çº¿æ€§ç»“æ„ï¼Œå¢åˆ æ•ˆç‡ä½</p></li></ul><p>å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªæƒ…æ™¯éœ€æ±‚ï¼Œç»Ÿè®¡ä¸€ä¸ªå­¦æ ¡çš„å­¦ç”Ÿ,å¦‚æœä½¿ç”¨æ•°ç»„åˆ™éœ€è¦å›ºå®šé•¿åº¦,è€Œä¸€æ—¦å›ºå®šäº†ä¹‹å,åŠ å…¥å­¦æ ¡å¼€é™¤å­¦ç”Ÿäº†åˆ™ä¸èƒ½å‡å°‘æ•°ç»„é•¿åº¦,åŒæ ·å¦‚æœå­¦æ ¡ä¸­é€”åˆæ¥äº†å­¦ç”Ÿä¹Ÿæ²¡åŠæ³•æ·»åŠ ;æ‰€ä»¥æ•°ç»„æ˜¯æ— æ³•è§£å†³è¿™ä¸ªé—®é¢˜çš„,å› ä¸ºå­¦ç”Ÿçš„ç»Ÿè®¡æ˜¯ä¸å›ºå®šçš„,æœ‰å¯èƒ½ä¼šå¢åŠ ä¹Ÿæœ‰å¯èƒ½ä¼šå‡å°‘ï¼›æ‰€ä»¥å‡ºç°äº†é›†åˆ</p><p>é›†åˆçš„å‡ºç°å°±æ˜¯ä¸ºäº†è§£å†³æ•°ç»„çš„é—®é¢˜,æ‰€ä»¥èƒ½å¤Ÿç¡®å®šä¸€ç‚¹å°±æ˜¯é›†åˆæ›´åŠ çš„å¼ºå¤§;<strong>é›†åˆå­˜å‚¨æ•°æ®å¿…é¡»æ˜¯å¼•ç”¨æ•°æ®ç±»å‹</strong></p><h3 id="é›†åˆä½“ç³»"><a href="#é›†åˆä½“ç³»" class="headerlink" title="é›†åˆä½“ç³»"></a>é›†åˆä½“ç³»</h3><blockquote><p>Collectionæ¥å£ä½“ç³»</p></blockquote><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/09.png" alt="Collectionæ¥å£ä½“ç³»"></p><blockquote><p>Mapæ¥å£ä½“ç³»</p></blockquote><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/10.png" alt="Mapæ¥å£ä½“ç³»"></p><h3 id="Collectionæ¥å£"><a href="#Collectionæ¥å£" class="headerlink" title="Collectionæ¥å£"></a>Collectionæ¥å£</h3><ul><li><p><code>boolean add(E e)</code>:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ </p></li><li><p><code>boolean addAll(Collection&lt;? extends E&gt; c)</code>:å‘é›†åˆä¸­æ·»åŠ ä¸€ä¸ªé›†åˆå…ƒç´ </p></li><li><p><code>boolean contains(Object o)</code>:æ£€æµ‹é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </p></li><li><p><code>boolean containsAll(Collection&lt;?&gt; c)</code>:æ£€æµ‹é›†åˆä¸­æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ </p></li><li><p><code>boolean remove(Object o)</code>:ä»é›†åˆä¸­ç§»é™¤æŒ‡å®šæ•°æ®(å¯¹è±¡)</p></li><li><p><code>boolean removeAll(Collection&lt;?&gt; c)</code>:ç§»é™¤æ­¤é›†åˆçš„æ‰€æœ‰ä¹ŸåŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­çš„å…ƒç´ </p></li><li><p><code>boolean retainAll(Collection&lt;?&gt; c)</code>:ç§»é™¤åˆºæ¿€å’Œçš„æ‰€æœ‰ä¸åŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­çš„å…ƒç´ (ç§»é™¤éç›¸åŒçš„å…ƒç´ ,éäº¤é›†å…ƒç´ )</p></li><li><p><code>int size()</code>:è¿”å›é›†åˆä¸­çš„å…ƒç´ æ•°é‡</p></li><li><p><code>boolean isEmpty()</code>:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</p></li><li><p><code>Object[] toArray()</code>:å°†é›†åˆè½¬ä¸ºæ•°ç»„</p></li><li><p><code>void clear()</code>:æ¸…ç©ºé›†åˆå†…å…ƒç´ </p></li><li><p><code>Iterator&lt;E&gt; iterator()</code>:è¿”å›é›†åˆè¿­ä»£å™¨å…ƒç´ ,ç”¨äºéå†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </p><p>  ä»£ç æ¡ˆä¾‹ï¼š</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CollectionDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// ç”±äºCollectionæ˜¯æ¥å£æ‰€ä»¥æ— æ³•ç›´æ¥åˆ›å»ºå¯¹è±¡,æ‰€ä»¥ä½¿ç”¨å…¶å­ç±»åˆ›å»º(ArrayList)</span><br>        <span class="hljs-comment">// ä»¥å¤šæ€æ–¹å¼åˆ›å»ºCollectionæ¥å£é›†åˆ,å¹¶ä¸”åªèƒ½ä½¿ç”¨Collectionæ¥å£ä¸­çš„æ–¹æ³•</span><br>        <span class="hljs-type">Collection</span> <span class="hljs-variable">collection</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        <span class="hljs-comment">// 1. `boolean add(E e)`:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ </span><br>        collection.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        collection.add(<span class="hljs-number">18</span>);<br>        collection.add(<span class="hljs-number">185.2</span>);<br>        collection.add(<span class="hljs-string">&quot;ç”·&quot;</span>);<br>        System.out.println(collection);<br>        <span class="hljs-comment">// 2. `boolean addAll(Collection&lt;? extends E&gt; c)`:å‘é›†åˆä¸­æ·»åŠ ä¸€ä¸ªé›†åˆå…ƒç´ </span><br>        <span class="hljs-type">Collection</span> <span class="hljs-variable">collection1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        collection.add(<span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>);<br>        collection.add(<span class="hljs-number">19</span>);<br>        collection.add(<span class="hljs-number">182.2</span>);<br>        collection.add(<span class="hljs-string">&quot;ç”·&quot;</span>);<br>        collection.addAll(collection1);<br>        System.out.println(collection);<br>        <span class="hljs-comment">// 3. `boolean contains(Object o)`:æ£€æµ‹é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isContains</span> <span class="hljs-operator">=</span> collection.contains(<span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>);<br>        System.out.println(isContains);<br>        isContains = collection.contains(<span class="hljs-string">&quot;å´å½¦ç¥–1&quot;</span>);<br>        System.out.println(isContains);<br>        <span class="hljs-comment">// 4. `boolean containsAll(Collection&lt;?&gt; c)`:æ£€æµ‹é›†åˆä¸­æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ </span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isContainsAll</span> <span class="hljs-operator">=</span> collection.containsAll(collection1);<br>        System.out.println(isContainsAll);<br>        <span class="hljs-comment">// collection1ä¸­å†æ·»åŠ ä¸€æ¡æ•°æ®</span><br>        collection1.add(<span class="hljs-string">&quot;å¸…&quot;</span>);<br>        isContainsAll = collection.containsAll(collection1);<br>        System.out.println(isContainsAll);<br>        <span class="hljs-comment">// 5.  `boolean remove(Object o)`:ä»é›†åˆä¸­ç§»é™¤æŒ‡å®šæ•°æ®(å¯¹è±¡)</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isRemove</span> <span class="hljs-operator">=</span> collection.remove(<span class="hljs-string">&quot;å¸…&quot;</span>);<br>        System.out.println(isRemove);<br>        System.out.println(collection);<br>        isRemove = collection.remove(<span class="hljs-string">&quot;ç”·&quot;</span>);<br>        System.out.println(isRemove);<br>        System.out.println(collection);<br>        <span class="hljs-comment">// 6. `boolean removeAll(Collection&lt;?&gt; c)`:ç§»é™¤æ­¤é›†åˆçš„æ‰€æœ‰ä¹ŸåŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­çš„å…ƒç´ </span><br>        <span class="hljs-comment">// 7. `boolean retainAll(Collection&lt;?&gt; c)`:ç§»é™¤åˆºæ¿€å’Œçš„æ‰€æœ‰ä¸åŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­çš„å…ƒç´ (ç§»é™¤éç›¸åŒçš„å…ƒç´ ,éäº¤é›†å…ƒç´ )</span><br>        <span class="hljs-comment">// 8. `int size()`:è¿”å›é›†åˆä¸­çš„å…ƒç´ æ•°é‡</span><br>        System.out.println(collection.size());<br>        <span class="hljs-comment">// 9. `boolean isEmpty()`:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(collection.isEmpty());<br>        <span class="hljs-comment">// 10. `Object[] toArray()`:å°†é›†åˆè½¬ä¸ºæ•°ç»„</span><br>        <span class="hljs-comment">// 11. `void clear()`:æ¸…ç©ºé›†åˆå†…å…ƒç´ </span><br>        collection.clear();<br>        System.out.println(collection);<br>        System.out.println(collection.isEmpty());<br>        <span class="hljs-comment">// 12. `Iterator&lt;E&gt; iterator()`:è¿”å›é›†åˆè¿­ä»£å™¨å…ƒç´ ,ç”¨äºéå†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="Listæ¥å£"><a href="#Listæ¥å£" class="headerlink" title="Listæ¥å£"></a>Listæ¥å£</h3><ul><li><code>boolean add(E e)</code>:å‘Listé›†åˆä¸­æ·»åŠ å…ƒç´ <code>å¸¸ç”¨</code></li><li><code>void add(int index, E element)</code>:å‘Listé›†åˆä¸­æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ </li><li><code>boolean addAll(Collection&lt;? extends E&gt; c)</code>:å°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ è¿½åŠ åˆ°æ­¤é›†åˆçš„æœ«å°¾</li><li><code>boolean addAll(int index, Collection&lt;? extends E&gt; c)</code>:å°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ è¿½åŠ åˆ°æ­¤é›†åˆçš„æŒ‡å®šä½ç½®</li><li><code>boolean contains(Object o)</code>:æ£€æµ‹æ­¤é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ <code>å¸¸ç”¨</code></li><li><code>boolean containsAll(Collection&lt;?&gt; c)</code>:æ£€æµ‹é›†åˆä¸­æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ </li><li><code>E get(int index)</code>:è·å–é›†åˆä¸­æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ å¹¶è¿”å›<code>å¸¸ç”¨</code></li><li><code>E set(int index, E element)</code>:ä¿®æ”¹é›†åˆä¸­æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ </li><li><code>int indexOf(Object o)</code>:åœ¨é›†åˆä¸­æŸ¥æ‰¾å…ƒç´ å¦‚æœå­˜åœ¨åˆ™è¿”å›æ­¤å…ƒç´ çš„ä¸‹æ ‡ç´¢å¼•(è¿”å›ç¬¬ä¸€æ¬¡å‘ç°çš„ä¸‹æ ‡ç´¢å¼•)</li><li><code>int lastIndexOf(Object o)</code>:åœ¨é›†åˆä¸­æŸ¥æ‰¾å…ƒç´ å¦‚æœå­˜åœ¨åˆ™è¿”å›æ­¤å…ƒç´ çš„ä¸‹æ ‡ç´¢å¼•(è¿”å›æœ€åä¸€æ¬¡å‘ç°çš„ä¸‹æ ‡ç´¢å¼•)</li><li><code>List&lt;E&gt; subList(int fromIndex, int toIndex)</code>:åˆ‡å‰²é›†åˆ,æŒ‡å®šèµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®</li><li><code>ListIterator&lt;E&gt; listIterator()</code>:è¿”å›Listæ¥å£è¿­ä»£å™¨</li><li><code>int size()</code>:è¿”å›é›†åˆä¸­çš„å…ƒç´ æ•°é‡<code>å¸¸ç”¨</code></li><li><code>boolean isEmpty()</code>:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º<code>å¸¸ç”¨</code></li><li><code>Object[] toArray()</code>:å°†é›†åˆè½¬ä¸ºæ•°ç»„</li><li><code>void clear()</code>:æ¸…ç©ºé›†åˆå†…å…ƒç´ </li><li><code>Iterator&lt;E&gt; iterator()</code>:è¿”å›é›†åˆè¿­ä»£å™¨å…ƒç´ ,ç”¨äºéå†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </li></ul><p>ä»£ç æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ListDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// ä½¿ç”¨å¤šæ€æ–¹å¼åˆ›å»ºListæ¥å£å¯¹è±¡--&gt;ä½¿ç”¨å…¶å­ç±»ArrayList</span><br>        <span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        <span class="hljs-comment">// 1. `boolean add(E e)`:å‘Listé›†åˆä¸­æ·»åŠ å…ƒç´ `å¸¸ç”¨`</span><br>        list.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        list.add(<span class="hljs-number">18</span>);<br>        list.add(<span class="hljs-string">&quot;ç”·ç¥&quot;</span>);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 2. `void add(int index, E element)`:å‘Listé›†åˆä¸­æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ </span><br>        list.add(<span class="hljs-number">2</span>, <span class="hljs-number">185.3</span>);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 3. `boolean addAll(Collection&lt;? extends E&gt; c)`:å°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ è¿½åŠ åˆ°æ­¤é›†åˆçš„æœ«å°¾</span><br>        <span class="hljs-comment">// 4. `boolean addAll(int index, Collection&lt;? extends E&gt; c)`:å°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ è¿½åŠ åˆ°æ­¤é›†åˆçš„æŒ‡å®šä½ç½®</span><br>        <span class="hljs-comment">// 5. `boolean contains(Object o)`:æ£€æµ‹æ­¤é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ `å¸¸ç”¨`</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isContains</span> <span class="hljs-operator">=</span> list.contains(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(isContains);<br>        isContains = list.contains(<span class="hljs-string">&quot;å½­äºæ™1&quot;</span>);<br>        System.out.println(isContains);<br>        <span class="hljs-comment">// 6. `boolean containsAll(Collection&lt;?&gt; c)`:æ£€æµ‹é›†åˆä¸­æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ </span><br>        <span class="hljs-comment">// 7. `E get(int index)`:è·å–é›†åˆä¸­æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ å¹¶è¿”å›`å¸¸ç”¨`</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> list.get(<span class="hljs-number">0</span>);<br>        System.out.println(o);<br>        <span class="hljs-comment">// å¦‚æœè°ƒç”¨è¶…å‡ºèŒƒå›´åˆ™æŠ¥å¼‚å¸¸--&gt;IndexOutOfBoundsException: Index: 100, Size: 4</span><br>        <span class="hljs-comment">// Object o1 = list.get(100);</span><br>        <span class="hljs-comment">// System.out.println(o1);</span><br>        <span class="hljs-comment">// 8. `E set(int index, E element)`:ä¿®æ”¹é›†åˆä¸­æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ </span><br>        <span class="hljs-comment">// è¿”å›çš„ç»“æœæ˜¯ä¿®æ”¹å‰çš„å†…å®¹</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">set</span> <span class="hljs-operator">=</span> list.set(<span class="hljs-number">2</span>, <span class="hljs-number">185.0</span>);<br>        System.out.println(set);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 9. `int indexOf(Object o)`:åœ¨é›†åˆä¸­æŸ¥æ‰¾å…ƒç´ å¦‚æœå­˜åœ¨åˆ™è¿”å›æ­¤å…ƒç´ çš„ä¸‹æ ‡ç´¢å¼•(è¿”å›ç¬¬ä¸€æ¬¡å‘ç°çš„ä¸‹æ ‡ç´¢å¼•)</span><br>        <span class="hljs-comment">// åœ¨é›†åˆä¸­å¤šæ·»åŠ ä¸€äº›æ•°æ®</span><br>        list.add(<span class="hljs-string">&quot;ç”·&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;ç”·ç¥&quot;</span>);<br>        System.out.println(list);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> list.indexOf(<span class="hljs-string">&quot;ç”·ç¥&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;è¿”å›ä¸‹æ ‡:&quot;</span> + index);<br>        <span class="hljs-comment">// å¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1</span><br>        index = list.indexOf(<span class="hljs-string">&quot;ç”·ç¥123&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;è¿”å›ä¸‹æ ‡:&quot;</span> + index);<br>        <span class="hljs-comment">// 10. `int lastIndexOf(Object o)`:åœ¨é›†åˆä¸­æŸ¥æ‰¾å…ƒç´ å¦‚æœå­˜åœ¨åˆ™è¿”å›æ­¤å…ƒç´ çš„ä¸‹æ ‡ç´¢å¼•(è¿”å›æœ€åä¸€æ¬¡å‘ç°çš„ä¸‹æ ‡ç´¢å¼•)</span><br>        index = list.lastIndexOf(<span class="hljs-string">&quot;ç”·ç¥&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;è¿”å›ä¸‹æ ‡:&quot;</span> + index);<br>        <span class="hljs-comment">// å¦‚æœä¸å­˜åœ¨åˆ™è¿”å›-1</span><br>        index = list.lastIndexOf(<span class="hljs-string">&quot;ç”·ç¥123&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;è¿”å›ä¸‹æ ‡:&quot;</span> + index);<br>        <span class="hljs-comment">// 11. `List&lt;E&gt; subList(int fromIndex, int toIndex)`:åˆ‡å‰²é›†åˆ,æŒ‡å®šèµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®</span><br>        <span class="hljs-type">List</span> <span class="hljs-variable">subList</span> <span class="hljs-operator">=</span> list.subList(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>);<br>        System.out.println(subList);<br>        <span class="hljs-comment">// 12. `ListIterator&lt;E&gt; listIterator()`:è¿”å›Listæ¥å£è¿­ä»£å™¨</span><br>        <span class="hljs-comment">// 13. `int size()`:è¿”å›é›†åˆä¸­çš„å…ƒç´ æ•°é‡`å¸¸ç”¨`</span><br>        <span class="hljs-comment">// 14. `boolean isEmpty()`:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º`å¸¸ç”¨`</span><br>        <span class="hljs-comment">// 15. `Object[] toArray()`:å°†é›†åˆè½¬ä¸ºæ•°ç»„</span><br>        <span class="hljs-comment">// 16. `void clear()`:æ¸…ç©ºé›†åˆå†…å…ƒç´ </span><br>        <span class="hljs-comment">// 17. `Iterator&lt;E&gt; iterator()`:è¿”å›é›†åˆè¿­ä»£å™¨å…ƒç´ ,ç”¨äºéå†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </span><br><br><br>        System.out.println(<span class="hljs-string">&quot;========================================&quot;</span>);<br>        <span class="hljs-comment">// ä½¿ç”¨è¿­ä»£å™¨</span><br>        <span class="hljs-comment">// `Iterator&lt;E&gt; iterator()`:è¿”å›é›†åˆè¿­ä»£å™¨å…ƒç´ ,ç”¨äºéå†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </span><br>        <span class="hljs-type">Iterator</span> <span class="hljs-variable">iterator</span> <span class="hljs-operator">=</span> list.iterator();<br>        <span class="hljs-comment">// è¿­ä»£å™¨æ–¹æ³•boolean hasNext();--&gt;åˆ¤æ–­iteratorä¸­æ˜¯å¦è¿˜æœ‰å¯è¿­ä»£çš„å…ƒç´ </span><br>        <span class="hljs-comment">// è¿­ä»£å™¨æ–¹æ³•E next();--&gt;è¾“å‡ºè¿­ä»£å™¨ä¸­çš„å…ƒç´ --&gt;ç±»ä¼¼äºæŒ‡é’ˆæ¯æ¬¡è°ƒç”¨éƒ½ä¼šå‘åç§»</span><br>        <span class="hljs-comment">// nextå¦‚æœè¶…å‡ºèŒƒå›´åˆ™æŠ¥é”™--&gt;NoSuchElementException</span><br>        <span class="hljs-comment">// å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br>        <span class="hljs-comment">/*Object next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);</span><br><span class="hljs-comment">        // å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">        next = iterator.next();</span><br><span class="hljs-comment">        System.out.println(next);*/</span><br>        <span class="hljs-comment">// iterator.hasNext()éªŒè¯æ˜¯å¦æœ‰ä¸‹ä¸€æ¡æ•°æ®</span><br>        <span class="hljs-comment">/*boolean b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);</span><br><span class="hljs-comment">        iterator.next();</span><br><span class="hljs-comment">        b = iterator.hasNext();</span><br><span class="hljs-comment">        System.out.println(b);*/</span><br>        <span class="hljs-comment">// ä½¿ç”¨whileå¾ªç¯</span><br>        <span class="hljs-comment">// iterator.hasNext()åˆ¤æ–­æ˜¯å¦å­˜åœ¨å…ƒç´ </span><br>        <span class="hljs-comment">// list.clear();</span><br>        <span class="hljs-comment">// iterator = list.iterator();</span><br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            <span class="hljs-comment">// å°†nextæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€æ¡æ•°æ®</span><br>            <span class="hljs-type">Object</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> iterator.next();<br>            <span class="hljs-comment">// è¾“å‡ºç»“æœ</span><br>            System.out.println(next);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;========================================&quot;</span>);<br>        <span class="hljs-comment">// forå¾ªç¯éå†ä¸ä¸Šé¢çš„iteratorè¿­ä»£å™¨ç›¸åŒéƒ½æ˜¯éå†</span><br>        <span class="hljs-keyword">for</span> (Object o1 : list) &#123;<br>            System.out.println(o1);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;========================================&quot;</span>);<br>        <span class="hljs-comment">// `ListIterator&lt;E&gt; listIterator()`:è¿”å›Listæ¥å£è¿­ä»£å™¨</span><br>        <span class="hljs-type">ListIterator</span> <span class="hljs-variable">listIterator</span> <span class="hljs-operator">=</span> list.listIterator();<br>        <span class="hljs-keyword">while</span> (listIterator.hasNext()) &#123;<br>            <span class="hljs-type">Object</span> <span class="hljs-variable">next</span> <span class="hljs-operator">=</span> listIterator.next();<br>            System.out.println(next);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Listæ¥å£ä¹‹å®ç°ç±»ArrayList"><a href="#Listæ¥å£ä¹‹å®ç°ç±»ArrayList" class="headerlink" title="Listæ¥å£ä¹‹å®ç°ç±»ArrayList"></a>Listæ¥å£ä¹‹å®ç°ç±»ArrayList</h3><h4 id="ArrayListæ¦‚è¿°"><a href="#ArrayListæ¦‚è¿°" class="headerlink" title="ArrayListæ¦‚è¿°"></a>ArrayListæ¦‚è¿°</h4><blockquote><p>ArrayListâ€“&gt;ä»…ä»åå­—çœ‹æ˜¯æ•°ç»„é›†åˆâ€“&gt;ArrayListå…¶åº•å±‚æ˜¯æ•°ç»„å®ç°çš„,ä½†æ˜¯é€šè¿‡æŸäº›æ‰‹æ®µå®ç°äº†å¯å˜é•¿åº¦çš„æ•°ç»„(åŠ¨æ€æ•°ç»„),å…¶å®¹é‡å¯ä»¥è‡ªåŠ¨å¢é•¿åŠ¨æ€å¢åŠ å®¹é‡<br>å®˜æ–¹è§£é‡Š:</p><p>Listæ¥å£çš„å¯è°ƒæ•´å¤§å°çš„æ•°ç»„å®ç°(ArrayListæ˜¯Listæ¥å£çš„å®ç°ç±»,å¹¶ä¸”æ˜¯åŠ¨æ€æ•°ç»„å¤§å°)ã€‚å®ç°äº†Listæ¥å£çš„æ‰€æœ‰æ“ä½œï¼Œå¹¶å…è®¸æ·»åŠ æ‰€æœ‰å…ƒç´ ï¼ŒåŒ…æ‹¬null(ä½†ä¸å»ºè®®æ·»åŠ null) ã€‚é™¤äº†å®ç°Listæ¥å£ä¹‹å¤–ï¼Œè¯¥ç±»è¿˜æä¾›äº†ä¸€äº›è‡ªå·±çš„æ–¹æ³•ç”¨æ¥å®ç°åŠ¨æ€æ•°ç»„å¤§å°çš„æ–¹æ³•;</p><p><code>(æ³¨æ„:ArrayListç±»ä¸Vectorç±»çš„æ–¹æ³•ç›¸åŒ,ä¸åŒä¹‹å¤„åœ¨äºArrayListæ˜¯çº¿ç¨‹ä¸å®‰å…¨,è€ŒVectoræ˜¯çº¿ç¨‹å®‰å…¨)</code></p></blockquote><h4 id="ArrayListä¸­çš„åº•å±‚å®ç°æºç "><a href="#ArrayListä¸­çš„åº•å±‚å®ç°æºç " class="headerlink" title="ArrayListä¸­çš„åº•å±‚å®ç°æºç "></a>ArrayListä¸­çš„åº•å±‚å®ç°æºç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayList</span>&lt;E&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractList</span>&lt;E&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable &#123;<br>    <span class="hljs-comment">// ArrayListåº•å±‚å®ç°æ˜¯ä½¿ç”¨æ•°ç»„å®ç°çš„</span><br>    <span class="hljs-comment">// transient--&gt;(ç¬æ—¶/ç¬æ€/çŸ­æš‚çš„)--&gt;å¦‚æœé€šè¿‡ç½‘ç»œä¼ è¾“æ­¤å¯¹è±¡æˆ–å‘æ–‡ä»¶ä¸­å†™å…¥æ­¤å¯¹è±¡åˆ™ä¸ä¿ç•™çš„å­—æ®µ(æ­¤å­—æ®µä¸ä¼ è¾“çš„å†…å®¹)</span><br>    <span class="hljs-comment">// é€šè¿‡transientå…³é”®å­—ä¿®é¥°çš„åªèƒ½åœ¨Javaä¸­ä½¿ç”¨,ä¸èƒ½ä¼ è¾“(ä¾‹å¦‚å†™å…¥æ–‡ä»¶å’Œç½‘ç»œä¼ è¾“)</span><br>    <span class="hljs-keyword">transient</span> Object[] elementData;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ArrayListæ·»åŠ æ–¹æ³•"><a href="#ArrayListæ·»åŠ æ–¹æ³•" class="headerlink" title="ArrayListæ·»åŠ æ–¹æ³•"></a>ArrayListæ·»åŠ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ArrayListé›†åˆçš„å…ƒç´ æ•°é‡,ä¸æ•°ç»„æ— å…³,å› ä¸ºæ˜¯æˆå‘˜å˜é‡æ‰€ä»¥é»˜è®¤æ˜¯0</span><br><span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;<br><span class="hljs-comment">// å‘é›†åˆæœ«å°¾æ·»åŠ å…ƒç´ </span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span> &#123;<br>    <span class="hljs-comment">// åˆ¤æ–­å½“å‰é›†åˆçš„å¤§å°,sizeæ˜¯å½“å‰æ·»åŠ çš„å…ƒç´ æ•°é‡,å¦‚æœæ²¡æœ‰æ·»åŠ åˆ™é»˜è®¤æ˜¯0</span><br>    ensureCapacityInternal(size + <span class="hljs-number">1</span>);  <span class="hljs-comment">// Increments modCount!!</span><br>    elementData[size++] = e;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-comment">// æ­¤æ–¹æ³•æ˜¯addæ·»åŠ æ—¶è°ƒç”¨çš„,ç”¨äºåˆ¤æ–­é›†åˆç©ºé—´çš„å¤§å°</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ensureCapacityInternal</span><span class="hljs-params">(<span class="hljs-type">int</span> minCapacity)</span> &#123;<br>    <span class="hljs-comment">// ç¡®ä¿æ˜¾å¼å®¹é‡,å¹¶ä¸”å‚æ•°æ˜¯è®¡ç®—å®¹é‡calculateCapacity()æ–¹æ³•,ç”¨äºè®¡ç®—å½“å‰å®¹é‡</span><br>    <span class="hljs-comment">// calculateCapacity()ä¸­çš„å‚æ•°elementDataæ˜¯æ•°ç»„,minCapacityä¼ å…¥çš„æœ€å°å®¹é‡</span><br>    ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));<br>&#125;<br><span class="hljs-comment">// æ­¤æ–¹æ³•æ˜¯ensureExplicitCapacityä¸­å†…éƒ¨è°ƒç”¨çš„,ä½œç”¨æ˜¯è®¡ç®—å®¹å™¨çš„å®¹é‡å¤§å°</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">calculateCapacity</span><span class="hljs-params">(Object[] elementData, <span class="hljs-type">int</span> minCapacity)</span> &#123;<br>    <span class="hljs-comment">// ä½¿ç”¨ä¼ å…¥çš„æ•°ç»„å®¹å™¨ä¸é»˜è®¤æ•°ç»„å®¹å™¨ä½¿ç”¨==åˆ¤æ–­,åˆ¤æ–­æ˜¯å¦ç›¸åŒçš„å†…å­˜åœ°å€</span><br>    <span class="hljs-keyword">if</span> (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;<br>        <span class="hljs-comment">// è¿”å›Mathæ•°å­¦ç±»ä¸­çš„maxæ–¹æ³•è®¡ç®—å‡ºçš„å¤§å°</span><br>        <span class="hljs-comment">// å¦‚æœDEFAULT_CAPACITYå¤§åˆ™è¿”å›DEFAULT_CAPACITY</span><br>        <span class="hljs-comment">// å¦‚æœminCapacityå¤§åˆ™è¿”å›minCapacity</span><br>        <span class="hljs-keyword">return</span> Math.max(DEFAULT_CAPACITY, minCapacity);<br>    &#125;<br>    <span class="hljs-comment">// ç›´æ¥è¿”å›æœ€å°ç©ºé—´</span><br>    <span class="hljs-keyword">return</span> minCapacity;<br>&#125;<br><span class="hljs-comment">// ç¡®ä¿å†…éƒ¨å®¹é‡å¤§å°,minCapacityç©ºé—´æ˜¯ä»--&gt;calculateCapacityæ–¹æ³•è®¡ç®—è€Œæ¥</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ensureExplicitCapacity</span><span class="hljs-params">(<span class="hljs-type">int</span> minCapacity)</span> &#123;<br>    <span class="hljs-comment">// é›†åˆä¿®æ”¹çš„æ¬¡æ•°(ä¸ç”¨ç®¡)</span><br>    modCount++;<br>    <span class="hljs-comment">// ä½¿ç”¨ä¼ å…¥çš„æœ€å°ç©ºé—´minCapacityå‡å»æ•°ç»„é•¿åº¦elementData.length,å¦‚æœå¤§äº0åˆ™ç©ºé—´æº¢å‡º,</span><br>    <span class="hljs-keyword">if</span> (minCapacity - elementData.length &gt; <span class="hljs-number">0</span>)<br>        <span class="hljs-comment">// å¦‚æœæ²¡æœ‰ç©ºé—´åˆ™è¿›å…¥ç»§ç»­è®¡ç®—,è®¾ç½®elementDataæ•°ç»„çš„ç©ºé—´</span><br>        <span class="hljs-comment">// è°ƒç”¨growæ–¹æ³•å¢åŠ æ•°ç»„é•¿åº¦</span><br>        grow(minCapacity);<br>&#125;<br><span class="hljs-comment">// åŠ¨æ€å¢åŠ æ•°ç»„é•¿åº¦--&gt;æ•°ç»„é•¿åº¦ä¸è¶³æ—¶ä¼šè°ƒç”¨çš„æ–¹æ³•</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">grow</span><span class="hljs-params">(<span class="hljs-type">int</span> minCapacity)</span> &#123;<br>    <span class="hljs-comment">// ç¬¬ä¸€æ­¥å°†æ•°ç»„é•¿åº¦èµ‹å€¼ç»™oldç©ºé—´(oldCapacity)</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">oldCapacity</span> <span class="hljs-operator">=</span> elementData.length;<br>    <span class="hljs-comment">// è®¾ç½®æ–°ç©ºé—´(newCapacity) = oldCapacity(è€ç©ºé—´)+(oldCapacity&gt;&gt;1)è€ç©ºé—´å³ç§»ä¸€ä½,ä»£è¡¨ç©ºé—´é™¤2</span><br>    <span class="hljs-comment">// ä¸ºä»€ä¹ˆè®¡ç®—ç©ºé—´æ—¶è¦åŠ è¿™ä¹ˆå¤§çš„ç©ºé—´,åŸå› æ˜¯ä½ éƒ½è°ƒç”¨äº†å¹¶ä¸”èƒ½åŠ åˆ°è¿™ä¸ªæ•°å€¼ä»£è¡¨ä½ æ˜¯å¸¸ç”¨,æ‰€ä»¥ä¸å¯èƒ½ä¸€ç›´ç»™ä½ é»˜è®¤ä¸€ä¸ªæ•°å€¼</span><br>    <span class="hljs-comment">// æ–°æ•°ç»„ç©ºé—´çš„è®¡ç®—ç»“æœå…¶å®å°±æ˜¯åŸç©ºé—´çš„1.5å€</span><br>    <span class="hljs-type">int</span> <span class="hljs-variable">newCapacity</span> <span class="hljs-operator">=</span> oldCapacity + (oldCapacity &gt;&gt; <span class="hljs-number">1</span>);<br>    <span class="hljs-comment">// æ–°ç©ºé—´å‡å»ä¼ å…¥çš„æœ€å°ç©ºé—´å¦‚æœå°äº0åˆ™ä»£è¡¨è®¡ç®—å‡ºæ¥ç©ºé—´å¤ªå°</span><br>    <span class="hljs-keyword">if</span> (newCapacity - minCapacity &lt; <span class="hljs-number">0</span>)<br>        <span class="hljs-comment">// å¦‚æœå°äº†åˆ™å°†æœ€å°ç©ºé—´é‡æ–°èµ‹å€¼ç»™æ–°ç©ºé—´</span><br>        newCapacity = minCapacity;<br>    <span class="hljs-comment">// å¦‚æœæ–°ç©ºé—´å‡å»æœ€å¤§ç©ºé—´(MAX_ARRAY_SIZE=2147483639)</span><br>    <span class="hljs-keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="hljs-number">0</span>)<br>        <span class="hljs-comment">// å¦‚æœå¤§äºåˆ™å°†æ–°ç©ºé—´é‡æ–°è®¡ç®—ä¸€ä¸ªæ•°å€¼å¹¶èµ‹å€¼</span><br>        newCapacity = hugeCapacity(minCapacity);<br>    <span class="hljs-comment">// æœ€ç»ˆçš„æ‰©å®¹,å°†åŸæ•°ç»„ä¸æ–°ç©ºé—´é€šè¿‡Arrays.copyOf()æ–¹æ³•æ‹·è´è‡³å½“å‰æ•°ç»„ä¸­,å®Œæˆäº†æ•°ç»„çš„æ‰©å®¹</span><br>    elementData = Arrays.copyOf(elementData, newCapacity);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/11.png"></p><h4 id="ArrayListè·å–æ–¹æ³•"><a href="#ArrayListè·å–æ–¹æ³•" class="headerlink" title="ArrayListè·å–æ–¹æ³•"></a>ArrayListè·å–æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// è·å–ä¸‹æ ‡ç´¢å¼•å…ƒç´ æ–¹æ³•</span><br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">get</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> &#123;<br>    <span class="hljs-comment">// éªŒè¯è¾“å…¥çš„indexæ˜¯å¦è¶…å‡ºèŒƒå›´,è¶…å‡ºåˆ™æŠ›å¼‚å¸¸</span><br>    rangeCheck(index);<br>    <span class="hljs-comment">// è¿”å›indexå°è¡¨ç´¢å¼•çš„å…ƒç´ </span><br>    <span class="hljs-keyword">return</span> elementData(index);<br>&#125;<br><span class="hljs-comment">// è·å–indexä¸‹æ ‡ç´¢å¼•å…ƒç´ çš„æ–¹æ³•</span><br>E <span class="hljs-title function_">elementData</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> &#123;<br>    <span class="hljs-comment">// è¿”å›æ•°ç»„å½“å‰indexä¸‹æ ‡å…ƒç´ ;ä¾‹å¦‚:String[]strs = &#123;&quot;a&quot;,&quot;b&quot;,&quot;c&quot;&#125;--&gt;strs[1]</span><br>    <span class="hljs-keyword">return</span> (E) elementData[index];<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ArrayListä¿®æ”¹æ–¹æ³•"><a href="#ArrayListä¿®æ”¹æ–¹æ³•" class="headerlink" title="ArrayListä¿®æ”¹æ–¹æ³•"></a>ArrayListä¿®æ”¹æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä¿®æ”¹æ–¹æ³•</span><br><span class="hljs-keyword">public</span> E <span class="hljs-title function_">set</span><span class="hljs-params">(<span class="hljs-type">int</span> index, E element)</span> &#123;<br>    <span class="hljs-comment">// éªŒè¯è¾“å…¥çš„indexæ˜¯å¦è¶…å‡ºèŒƒå›´,è¶…å‡ºåˆ™æŠ›å¼‚å¸¸</span><br>    rangeCheck(index);<br>    <span class="hljs-comment">// è·å–å½“å‰æ•°ç»„indexä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ </span><br>    <span class="hljs-type">E</span> <span class="hljs-variable">oldValue</span> <span class="hljs-operator">=</span> elementData(index);<br>    <span class="hljs-comment">// å°†å½“å‰indexä¸‹æ ‡ç´¢å¼•æ•°æ®ä¿®æ”¹ä¸ºä¼ å…¥çš„æ•°æ®</span><br>    elementData[index] = element;<br>    <span class="hljs-comment">// è¿”å›ä¿®æ”¹å‰çš„å†…å®¹</span><br>    <span class="hljs-keyword">return</span> oldValue;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ArrayListä½¿ç”¨ä»£ç æ¡ˆä¾‹"><a href="#ArrayListä½¿ç”¨ä»£ç æ¡ˆä¾‹" class="headerlink" title="ArrayListä½¿ç”¨ä»£ç æ¡ˆä¾‹"></a>ArrayListä½¿ç”¨ä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayListDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// ä½¿ç”¨ArrayListé›†åˆ,æ³¨æ„é€šå¸¸ä½¿ç”¨ArrayListéƒ½æ˜¯ä½¿ç”¨å¤šæ€æ–¹å¼åˆ›å»ºæ—¢:List list=new ArrayList()è¿™ç§æ–¹å¼</span><br>        <span class="hljs-type">ArrayList</span> <span class="hljs-variable">arrayList</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<span class="hljs-comment">// é»˜è®¤</span><br>        <span class="hljs-comment">// è¿½åŠ æ•°æ®--&gt;ä¼šæ‰©å®¹åˆ°10å¤§å°çš„ç©ºé—´</span><br>        arrayList.add(<span class="hljs-string">&quot;å°æ˜&quot;</span>);<br>        System.out.println(arrayList);<br>        <span class="hljs-comment">// æ’å…¥æ•°æ®</span><br>        arrayList.add(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(arrayList);<br>        <span class="hljs-comment">// ä¿®æ”¹æ•°æ®</span><br>        arrayList.set(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>);<br>        System.out.println(arrayList);<br>        <span class="hljs-comment">// ç§»é™¤æ•°æ®</span><br>        arrayList.remove(<span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>);<br>        System.out.println(arrayList);<br>        <span class="hljs-comment">// è·å–æ•°æ®</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> arrayList.get(<span class="hljs-number">0</span>);<br>        System.out.println(o);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="é‡å†™å®ç°ArrayListéƒ¨åˆ†åŠŸèƒ½"><a href="#é‡å†™å®ç°ArrayListéƒ¨åˆ†åŠŸèƒ½" class="headerlink" title="é‡å†™å®ç°ArrayListéƒ¨åˆ†åŠŸèƒ½"></a>é‡å†™å®ç°ArrayListéƒ¨åˆ†åŠŸèƒ½</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è‡ªå®šä¹‰å®ç°ArrayListéƒ¨åˆ†æ–¹æ³•</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayList</span> &#123;<br>    <span class="hljs-comment">// ä½¿ç”¨æ•°ç»„å½“åšé›†åˆçš„åº•å±‚å­˜æ”¾</span><br>    <span class="hljs-keyword">private</span> Object[] elementData;<br><br>    <span class="hljs-comment">// ç”¨äºè®°å½•é›†åˆä¸­å…ƒç´ æ•°é‡çš„å˜é‡</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * é»˜è®¤åˆå§‹åŒ–æ•°ç»„ç©ºé—´å³å¯</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ArrayList</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºæ•°ç»„å¹¶åˆ†é…é»˜è®¤ç©ºé—´--&gt;é»˜è®¤10å³å¯</span><br>        <span class="hljs-built_in">this</span>.elementData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[<span class="hljs-number">10</span>];<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * åˆ›å»ºè‡ªå®šä¹‰å®¹é‡å¤§å°çš„æ„é€ æ–¹æ³•</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> initCapacity åˆå§‹åŒ–å®¹é‡</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">ArrayList</span><span class="hljs-params">(<span class="hljs-type">int</span> initCapacity)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºæ•°ç»„å¹¶åˆ†é…é»˜è®¤ç©ºé—´--&gt;é»˜è®¤10å³å¯</span><br>        <span class="hljs-built_in">this</span>.elementData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>[initCapacity];<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ·»åŠ å…ƒç´ æ–¹æ³•</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> element ä¼ å…¥éœ€è¦æ·»åŠ çš„å…ƒç´ </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> è¿”å›æ˜¯å¦æ·»åŠ æˆåŠŸ</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(Object element)</span> &#123;<br>        <span class="hljs-comment">// åˆ¤æ–­å®¹é‡æ˜¯å¦éœ€è¦æ‰©å®¹</span><br>        ensureCapacityInternal();<br>        <span class="hljs-comment">// å°†æ•°æ®æ·»åŠ è‡³æ•°ç»„ä¸­--&gt;å…¶ä¸­sizeä»£è¡¨å½“å‰é›†åˆä¸­çš„æ•°æ®æœ‰å¤šå°‘</span><br>        <span class="hljs-built_in">this</span>.elementData[size++] = element;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">ensureCapacityInternal</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// ä½¿ç”¨sizeä¸æ•°ç»„é•¿åº¦å¯¹æ¯”,å¦‚æœsizeå¤§äº†åˆ™ä»£è¡¨éœ€è¦æ‰©å®¹</span><br>        <span class="hljs-comment">/*if (size &gt;= this.elementData.length) &#123;</span><br><span class="hljs-comment">            // å°†æ•°ç»„é•¿åº¦è·å–å¹¶èµ‹å€¼</span><br><span class="hljs-comment">            int oldLength = this.elementData.length;</span><br><span class="hljs-comment">            // åˆ›å»ºæ–°æ•°ç»„å¹¶æŒ‡å®šç©ºé—´å¤§å°</span><br><span class="hljs-comment">            Object[] newElementData = new Object[oldLength + (oldLength &gt;&gt; 1) + 1];</span><br><span class="hljs-comment">            // ä½¿ç”¨å¾ªç¯éå†æ–¹å¼å°†æ•°æ®è½¬ä¹‰è‡³æ–°æ•°ç»„ä¸­--&gt;å¸¦ç€å¤§å®¶ä½¿ç”¨åŸå§‹æ–¹å¼æ¥ä¸€é</span><br><span class="hljs-comment">            // æ ¹æ®è€æ•°ç»„çš„é•¿åº¦è®¡ç®—å¾ªç¯</span><br><span class="hljs-comment">            for (int i = 0; i &lt; this.elementData.length; i++) &#123;</span><br><span class="hljs-comment">                // å¾ªç¯å°†åŸå§‹æ•°ç»„æ•°æ®å¤åˆ¶ç»™æ–°æ•°ç»„</span><br><span class="hljs-comment">                newElementData[i] = this.elementData[i];</span><br><span class="hljs-comment">            &#125;</span><br><span class="hljs-comment">            // é‡æ–°èµ‹å€¼åå†å°†this.elementDataé‡æ–°èµ‹å€¼æŒ‡å‘æ–°æ•°ç»„å†…å­˜åœ°å€</span><br><span class="hljs-comment">            this.elementData = newElementData;</span><br><span class="hljs-comment">        &#125;*/</span><br>        <span class="hljs-comment">// æ¨¡ä»¿å®˜æ–¹å†™æ³•</span><br>        <span class="hljs-keyword">if</span> (size &gt;= <span class="hljs-built_in">this</span>.elementData.length) &#123;<br>            <span class="hljs-comment">// å°†æ•°ç»„é•¿åº¦è·å–å¹¶èµ‹å€¼</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">oldCapacity</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.elementData.length;<br>            <span class="hljs-comment">// è®¡ç®—æ–°ç©ºé—´å¤§å°</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">newCapacity</span> <span class="hljs-operator">=</span> oldCapacity + (oldCapacity &gt;&gt; <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>;<br>            <span class="hljs-comment">// ä½¿ç”¨æ•°ç»„å·¥å…·ç±»æ‹·è´æ•°ç»„</span><br>            <span class="hljs-built_in">this</span>.elementData = Arrays.copyOf(<span class="hljs-built_in">this</span>.elementData, newCapacity);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * è·å–é›†åˆä¸­çš„å…ƒç´ </span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index ä¼ å…¥ä¸‹æ ‡ç´¢å¼•</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> è¿”å›å½“å‰ä¸‹æ ‡å…ƒç´ </span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">get</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> &#123;<br>        <span class="hljs-comment">// éªŒè¯ä¼ å…¥çš„indexæ˜¯å¦è¶…å‡ºç´¢å¼•èŒƒå›´</span><br>        rangeCheck(index);<br>        <span class="hljs-comment">// è¿”å›æ•°æ®</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.elementData[index];<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * æ£€æŸ¥ä¼ å…¥çš„indexæ˜¯å¦è¶…å‡ºèŒƒå›´</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index ä¼ å…¥çš„ä¸‹æ ‡ç´¢å¼•</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rangeCheck</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> &#123;<br>        <span class="hljs-comment">// åˆ¤æ–­indexæ˜¯å¦å°äº0,ä»¥åŠæ˜¯å¦å¤§äºsize</span><br>        <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= size) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IndexOutOfBoundsException</span>(<span class="hljs-string">&quot;æ•°ç»„ä¸‹æ ‡ç´¢å¼•è¶…å‡ºèŒƒå›´:&quot;</span> + index);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * ä¿®æ”¹å…ƒç´ </span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> index   ä¼ å…¥éœ€è¦ä¿®æ”¹çš„ä¸‹æ ‡ç´¢å¼•</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> element ä¼ å…¥ä¿®æ”¹çš„æ•°æ®</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> è¿”å›ä¿®æ”¹å‰çš„æ•°æ®</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">set</span><span class="hljs-params">(<span class="hljs-type">int</span> index, Object element)</span> &#123;<br>        <span class="hljs-comment">// éªŒè¯ä¸‹æ ‡æ˜¯å¦åˆæ³•</span><br>        rangeCheck(index);<br>        <span class="hljs-comment">// å°†è€æ•°æ®æå–</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">oldElementData</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.elementData[index];<br>        <span class="hljs-comment">// ä¿®æ”¹indexä¸‹æ ‡ç´¢å¼•çš„æ•°æ®</span><br>        <span class="hljs-built_in">this</span>.elementData[index] = element;<br>        <span class="hljs-keyword">return</span> oldElementData;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * toStringæ–¹æ³•ç”¨äºæ‰“å°æ•°æ®</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> è¿”å›çš„æ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°æ®</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ArrayList&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;elementData=&quot;</span> + Arrays.toString(elementData) +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-comment">// æµ‹è¯•æ–¹æ³•</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyArrayListDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºè‡ªå·±å†™çš„ArrayList</span><br>        <span class="hljs-type">ArrayList</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        <span class="hljs-comment">// æ·»åŠ æ•°æ®</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">50</span>; i++) &#123;<br>            list.add(<span class="hljs-string">&quot;æ·»åŠ æ•°æ®æµ‹è¯•&quot;</span> + i);<br>        &#125;<br>        <span class="hljs-comment">// æ‰“å°ç»“æœ</span><br>        System.out.println(list);<br>        <span class="hljs-comment">// è·å–æ•°æ®</span><br>        System.out.println(list.get(<span class="hljs-number">1</span>));<br>        System.out.println(list.get(<span class="hljs-number">3</span>));<br>        System.out.println(list.get(<span class="hljs-number">5</span>));<br>        System.out.println(list.get(<span class="hljs-number">7</span>));<br>        <span class="hljs-comment">// System.out.println(list.get(-1));</span><br>        System.out.println(<span class="hljs-string">&quot;============================================&quot;</span>);<br>        <span class="hljs-comment">// ä¿®æ”¹æ•°æ®</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">oldElementData</span> <span class="hljs-operator">=</span> list.set(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(oldElementData);<br>        System.out.println(list);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ArrayListé›†åˆä¸­ä½¿ç”¨æ³›å‹çº¦æŸæ·»åŠ æ•°æ®çš„ç±»å‹"><a href="#ArrayListé›†åˆä¸­ä½¿ç”¨æ³›å‹çº¦æŸæ·»åŠ æ•°æ®çš„ç±»å‹" class="headerlink" title="ArrayListé›†åˆä¸­ä½¿ç”¨æ³›å‹çº¦æŸæ·»åŠ æ•°æ®çš„ç±»å‹"></a>ArrayListé›†åˆä¸­ä½¿ç”¨æ³›å‹çº¦æŸæ·»åŠ æ•°æ®çš„ç±»å‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ListGenericsDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// é›†åˆä¸­çš„æ³›å‹</span><br>        <span class="hljs-comment">// åœ¨æœªä½¿ç”¨æ³›å‹æ—¶å‘é›†åˆæ·»åŠ æ•°æ®,ç”±äºæ•°æ®çš„ä¸ç»Ÿä¸€,é€ æˆæ— æ³•å‡†ç¡®è°ƒç”¨é›†åˆä¸­å…ƒç´ çš„ç§æœ‰æ–¹æ³•</span><br>        <span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();<br>        <span class="hljs-comment">// æ·»åŠ æ•°æ®</span><br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å½­äºæ™1&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>, <span class="hljs-number">18</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å½­äºæ™2&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>, <span class="hljs-number">19</span>));<br>        list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å½­äºæ™3&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>, <span class="hljs-number">20</span>));<br>        <span class="hljs-comment">// æ·»åŠ å…¶ä»–æ•°æ®</span><br>        list.add(<span class="hljs-string">&quot;Stringç±»å‹æ•°æ®&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;Stringç±»å‹æ•°æ®&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;Stringç±»å‹æ•°æ®&quot;</span>);<br>        <span class="hljs-comment">// å–å‡ºæ•°æ®</span><br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> (Person) list.get(<span class="hljs-number">2</span>);<br>        System.out.println(person.getName());<br>        <span class="hljs-comment">// è·å–ä¸‹æ ‡ä¸º3çš„æ•°æ®,ä¸‹æ ‡ä¸º3çš„æ˜¯Stringç±»å‹,è½¬æ¢å¯¹è±¡æ—¶ä¸å±äºåŒä¸€ä¸ªç±»å‹,ä¼šå‡ºç°ç±»å‹è½¬æ¢å¼‚å¸¸</span><br>        <span class="hljs-comment">// Person person1 = (Person) list.get(3);</span><br>        <span class="hljs-comment">// System.out.println(person1.getName());</span><br>        <span class="hljs-comment">// ä¸è½¬</span><br>        <span class="hljs-comment">// Object o = list.get(0);</span><br>        <span class="hljs-comment">// åªèƒ½è°ƒç”¨Objectç±»çš„æ–¹æ³•</span><br><br>        System.out.println(<span class="hljs-string">&quot;===============================================&quot;</span>);<br>        <span class="hljs-comment">// æ‰€ä»¥é›†åˆä¸­æœ‰ä¸€ä¸ªæ³›å‹çš„æ¦‚å¿µ,æ³›å‹çš„ä½œç”¨å°±æ˜¯ç”¨äºçº¦æŸç±»ä¸­çš„å‚æ•°(å‚æ•°å¯ä»¥ä»£è¡¨:å±æ€§,å½¢å‚,å®å‚)ä¼ è¾“--&gt;æ³›å‹ç”¨äºçº¦æŸ/è§„åˆ™</span><br>        <span class="hljs-comment">// ä½¿ç”¨æ³›å‹çš„é›†åˆ</span><br>        <span class="hljs-comment">// æ ¼å¼ä¾‹å¦‚:List&lt;æ³›å‹ç±»å‹(ä»»æ„ç±»å‹)&gt; list = new ArrayList&lt;&gt;();</span><br>        <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªListé›†åˆ,æ³›å‹ç±»å‹ä¸ºPerson,ä»£è¡¨ç€åªèƒ½å‘é›†åˆä¸­æ·»åŠ Personå¯¹è±¡æ•°æ®</span><br>        List&lt;Person&gt; persons = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        <span class="hljs-comment">// æ·»åŠ æ•°æ®,å¦‚æœæ·»åŠ çš„æ•°æ®ä¸æ˜¯æ³›å‹ç±»å‹åˆ™ä¼šå‡ºç°ç¼–è¯‘å¼‚å¸¸</span><br>        <span class="hljs-comment">// Required type:Person--&gt;éœ€è¦ç±»å‹æ˜¯Person</span><br>        <span class="hljs-comment">// Provided:String--&gt;ä½†æ˜¯æä¾›çš„æ˜¯Stringç±»å‹</span><br>        <span class="hljs-comment">// persons.add(&quot;Stringç±»å‹æ•°æ®&quot;);</span><br>        <span class="hljs-comment">// æ·»åŠ å‡†ç¡®æ•°æ®</span><br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å½­äºæ™1&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>, <span class="hljs-number">18</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å½­äºæ™2&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>, <span class="hljs-number">19</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å½­äºæ™3&quot;</span>, <span class="hljs-string">&quot;ç”·&quot;</span>, <span class="hljs-number">20</span>));<br>        <span class="hljs-comment">// è·å–æ•°æ®</span><br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person2</span> <span class="hljs-operator">=</span> persons.get(<span class="hljs-number">0</span>);<br>        System.out.println(person2);<br>        System.out.println(person2.getName() + <span class="hljs-string">&quot;-&quot;</span> + person2.getSex());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>**æ³¨æ„:**é›†åˆä¸­ä½¿ç”¨æ³›å‹çš„ç›®çš„æ˜¯ä¸ºäº†çº¦æŸæ·»åŠ æ•°æ®æ—¶çš„ç±»å‹â€“&gt;ç»Ÿä¸€æ•°æ®ç±»å‹,ç»Ÿä¸€æ•°æ®ç±»å‹çš„ç›®çš„ä½¿ç”¨ä½¿ç”¨æ—¶ä¸ç”¨å¼ºè½¬,åŒæ ·ä¹Ÿä¸ä¼šå› ä¸ºå¼ºè½¬è€Œå‘ç”Ÿç±»å‹è½¬æ¢å¼‚å¸¸â€“&gt;åæœŸæ‰€æœ‰çš„é›†åˆéƒ½éœ€è¦æŒ‡å®šæ³›å‹ç±»å‹</p><h3 id="Listæ¥å£ä¹‹å®ç°ç±»LinkedList"><a href="#Listæ¥å£ä¹‹å®ç°ç±»LinkedList" class="headerlink" title="Listæ¥å£ä¹‹å®ç°ç±»LinkedList"></a>Listæ¥å£ä¹‹å®ç°ç±»LinkedList</h3><h4 id="LinkedListæ¦‚è¿°"><a href="#LinkedListæ¦‚è¿°" class="headerlink" title="LinkedListæ¦‚è¿°"></a>LinkedListæ¦‚è¿°</h4><p>LinkedListåº•å±‚æ˜¯ä½¿ç”¨é“¾è¡¨å­˜å‚¨æ•°æ®,ä½¿ç”¨é“¾è¡¨å­˜å‚¨æ•°æ®æ˜¯ä¸ºäº†è§£å†³ArrayListä½¿ç”¨æ•°æ®å­˜å‚¨æ•°æ®çš„é—®é¢˜â€“&gt;æ•°æ®å­˜å‚¨æŸ¥è¯¢é€Ÿåº¦å¿«,ä½†æ˜¯æ’å…¥åˆ é™¤é€Ÿåº¦æ…¢,LinkedListé“¾è¡¨ç»“æ„æ˜¯æŸ¥è¯¢é€Ÿåº¦æ…¢,æ’å…¥åˆ é™¤é€Ÿåº¦å¿«â€“&gt;LinkedListåº•å±‚çš„å­˜å‚¨æ–¹å¼å°±æ˜¯ä½¿ç”¨åŒé“¾è¡¨ç»“æ„å­˜å‚¨,åœ¨å…¶ä¸­æœ‰ä¸€ä¸ªå†…éƒ¨ç±»Nodeâ€“&gt;èŠ‚ç‚¹,å­˜å‚¨æ•°æ®</p><h4 id="LinkedListä¸­çš„é“¾è¡¨æ˜¯ä»€ä¹ˆ"><a href="#LinkedListä¸­çš„é“¾è¡¨æ˜¯ä»€ä¹ˆ" class="headerlink" title="LinkedListä¸­çš„é“¾è¡¨æ˜¯ä»€ä¹ˆ?"></a>LinkedListä¸­çš„é“¾è¡¨æ˜¯ä»€ä¹ˆ?</h4><p>é“¾è¡¨å­˜å‚¨æ—¶æ•°æ®ä¸è¿ç»­(å±äºæ•°æ®ä¹‹é—´æ˜¯éè¿ç»­ç©ºé—´),ç©ºé—´ä¸è¿ç»­ä¹Ÿå°±æ„å‘³ç€æ— æ³•é€šè¿‡ä¸‹æ ‡æŒ‡å‘æŸä¸€ä¸ªå…ƒç´ ,æ‰€ä»¥å°±å‡ºç°äº†ä¸€ä¸ªé—®é¢˜,åªè¦æŸ¥æ‰¾æ•°æ®å°±å¿…é¡»éå†æ‰€æœ‰çš„é›†åˆæ•°æ®è¿›è¡ŒæŸ¥æ‰¾</p><h4 id="é“¾è¡¨åˆ†ä¸º4ç§ç±»å‹"><a href="#é“¾è¡¨åˆ†ä¸º4ç§ç±»å‹" class="headerlink" title="é“¾è¡¨åˆ†ä¸º4ç§ç±»å‹"></a>é“¾è¡¨åˆ†ä¸º4ç§ç±»å‹</h4><h5 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h5><p>å•é“¾è¡¨ç»“æ„:å•é“¾è¡¨å­˜å‚¨ä½¿ç”¨èŠ‚ç‚¹æ–¹å¼(èŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªå¯¹è±¡),</p><p>å­˜å‚¨æ•°æ®æ—¶æœ‰ä¸¤ä¸ªå±æ€§ï¼š</p><ul><li><p>dataï¼šå­˜æ”¾æ•°æ®</p></li><li><p>nextï¼šæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åœ°å€ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹å­˜å‚¨null</p></li></ul><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/12.png"></p><h5 id="åŒé“¾è¡¨"><a href="#åŒé“¾è¡¨" class="headerlink" title="åŒé“¾è¡¨"></a>åŒé“¾è¡¨</h5><p>åŒé“¾è¡¨ç»“æ„ä¸­ä½¿ç”¨åŒé“¾è¡¨å­˜å‚¨ä½¿ç”¨èŠ‚ç‚¹æ–¹å¼(èŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªå¯¹è±¡)</p><p>å­˜å‚¨æ•°æ®æ—¶æœ‰ä¸‰ä¸ªå±æ€§</p><ul><li>prevâ€“&gt;å­˜å‚¨ä¸Šä¸€ä¸ªèŠ‚ç‚¹åœ°å€,å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªåˆ™å­˜å‚¨null</li><li>dataâ€“&gt;å­˜å‚¨æ•°æ®</li><li>nextâ€“&gt;æŒ‡é’ˆ,å­˜å‚¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åœ°å€,å¦‚æœæ˜¯æœ€åä¸€ä¸ªåˆ™å­˜å‚¨null</li></ul><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/13.png"></p><h5 id="ç¯å½¢å•é“¾è¡¨"><a href="#ç¯å½¢å•é“¾è¡¨" class="headerlink" title="ç¯å½¢å•é“¾è¡¨"></a>ç¯å½¢å•é“¾è¡¨</h5><p>å•é“¾è¡¨ç»“æ„:å•é“¾è¡¨å­˜å‚¨ä½¿ç”¨èŠ‚ç‚¹æ–¹å¼(èŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªå¯¹è±¡)</p><p>å­˜å‚¨æ•°æ®æ—¶æœ‰ä¸¤ä¸ªå±æ€§</p><ul><li>data(å­˜æ”¾æ•°æ®)</li><li>next(æŒ‡é’ˆ,æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åœ°å€),æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„nextå­˜å‚¨çš„æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€</li></ul><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/14.png"></p><h5 id="ç¯å½¢åŒé“¾è¡¨"><a href="#ç¯å½¢åŒé“¾è¡¨" class="headerlink" title="ç¯å½¢åŒé“¾è¡¨"></a>ç¯å½¢åŒé“¾è¡¨</h5><p>åŒé“¾è¡¨ç»“æ„:åŒé“¾è¡¨å­˜å‚¨ä½¿ç”¨èŠ‚ç‚¹æ–¹å¼(èŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªå¯¹è±¡)</p><p>å­˜å‚¨æ•°æ®æ—¶æœ‰ä¸‰ä¸ªå±æ€§</p><ul><li>prevâ€“&gt;å­˜å‚¨ä¸Šä¸€ä¸ªèŠ‚ç‚¹åœ°å€,å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªåˆ™å­˜å‚¨æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€</li><li>dataâ€“&gt;å­˜å‚¨æ•°æ®</li><li>nextâ€“&gt;æŒ‡é’ˆ,å­˜å‚¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹åœ°å€,å¦‚æœæ˜¯æœ€åä¸€ä¸ªåˆ™å­˜å‚¨ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€</li></ul><p><img src="https://raw.githubusercontent.com/i-xiaoxin/image/master/15.png"></p><h4 id="LinkedListç§æœ‰çš„æ–¹æ³•-è‡ªå·±æ–°å¢é’ˆå¯¹äºå¢åŠ å’Œåˆ é™¤æ–¹æ³•"><a href="#LinkedListç§æœ‰çš„æ–¹æ³•-è‡ªå·±æ–°å¢é’ˆå¯¹äºå¢åŠ å’Œåˆ é™¤æ–¹æ³•" class="headerlink" title="LinkedListç§æœ‰çš„æ–¹æ³•(è‡ªå·±æ–°å¢é’ˆå¯¹äºå¢åŠ å’Œåˆ é™¤æ–¹æ³•)"></a>LinkedListç§æœ‰çš„æ–¹æ³•(è‡ªå·±æ–°å¢é’ˆå¯¹äºå¢åŠ å’Œåˆ é™¤æ–¹æ³•)</h4><ul><li><code>public void addFirst(E e)</code>:å‘é›†åˆçš„å¼€å¤´æ’å…¥æ•°æ®</li><li><code>public void addLast(E e)</code>:å‘é›†åˆçš„æœ«å°¾æ’å…¥æ•°æ®</li><li><code>public E getFirst()</code>:è·å–é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ (å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯nullåˆ™æŠ›å¼‚å¸¸)</li><li><code>public E getLast()</code>:è·å–é›†åˆä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ (å¦‚æœæœ€åä¸€ä¸ªå…ƒç´ æ˜¯nullåˆ™æŠ›å¼‚å¸¸)</li><li><code>public E peekFirst()</code>:è·å–é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½†æ˜¯ä¸åˆ é™¤(å¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯nullåˆ™è¿”å›null)</li><li><code>public E peekLast()</code>:è·å–é›†åˆä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ä½†æ˜¯ä¸åˆ é™¤(å¦‚æœæœ€åä¸€ä¸ªå…ƒç´ æ˜¯nullåˆ™è¿”å›null)</li><li><code>public E pollFirst()</code>:è·å–é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,è·å–åç›´æ¥åˆ é™¤</li><li><code>public E pollLast()</code>:è·å–é›†åˆä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ,è·å–åç›´æ¥åˆ é™¤</li><li><code>public E removeFirst()</code>:ç§»é™¤é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </li><li><code>public E removeLast()</code>:ç§»é™¤é›†åˆä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ </li></ul><p>LinkedListç§æœ‰çš„æ–¹æ³•ä»£ç æ¡ˆä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedListDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// å¦‚æœä½¿ç”¨å¤šæ€æ–¹å¼åˆ›å»ºåˆ™æ— æ³•ä½¿ç”¨LinkedListçš„ç§æœ‰æ–¹æ³•</span><br>        <span class="hljs-comment">// List&lt;String&gt; list = new LinkedList&lt;&gt;();</span><br>        <span class="hljs-comment">// æ‰€ä»¥åˆ›å»ºæ—¶åªèƒ½æŒ‡å®šè‡ªå·±çš„å¯¹è±¡</span><br>        LinkedList&lt;String&gt; linkedList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `public void addFirst(E e)`:å‘é›†åˆçš„å¼€å¤´æ’å…¥æ•°æ®</span><br>        linkedList.addFirst(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(linkedList);<br>        linkedList.addFirst(<span class="hljs-string">&quot;æ¢…è¶…é£&quot;</span>);<br>        System.out.println(linkedList);<br>        <span class="hljs-comment">// 2. `public void addLast(E e)`:å‘é›†åˆçš„æœ«å°¾æ’å…¥æ•°æ®</span><br>        linkedList.addLast(<span class="hljs-string">&quot;å²³ä¸ç¾¤&quot;</span>);<br>        System.out.println(linkedList);<br>        linkedList.addLast(<span class="hljs-string">&quot;æ—å¹³ä¹‹&quot;</span>);<br>        System.out.println(linkedList);<br>        <span class="hljs-comment">// 3. `public E getFirst()`:è·å–é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">first</span> <span class="hljs-operator">=</span> linkedList.getFirst();<br>        System.out.println(first);<br>        <span class="hljs-comment">// 4. `public E getLast()`:è·å–é›†åˆä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ </span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">last</span> <span class="hljs-operator">=</span> linkedList.getLast();<br>        System.out.println(last);<br>        <span class="hljs-comment">// 5. `public E peekFirst()`:è·å–é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½†æ˜¯ä¸åˆ é™¤</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">peekFirst</span> <span class="hljs-operator">=</span> linkedList.peekFirst();<br>        System.out.println(peekFirst);<br>        <span class="hljs-comment">// 6. `public E peekLast()`:è·å–é›†åˆä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ä½†æ˜¯ä¸åˆ é™¤</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">peekLast</span> <span class="hljs-operator">=</span> linkedList.peekLast();<br>        System.out.println(peekLast);<br>        System.out.println(linkedList);<br>        <span class="hljs-comment">// 7. `public E pollFirst()`:è·å–é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,è·å–åç›´æ¥åˆ é™¤</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">pollFirst</span> <span class="hljs-operator">=</span> linkedList.pollFirst();<br>        System.out.println(pollFirst);<br>        <span class="hljs-comment">// 8. `public E pollLast()`:è·å–é›†åˆä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ,è·å–åç›´æ¥åˆ é™¤</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">pollLast</span> <span class="hljs-operator">=</span> linkedList.pollLast();<br>        System.out.println(pollLast);<br>        System.out.println(linkedList);<br>        <span class="hljs-comment">// 9. `public E removeFirst()`:ç§»é™¤é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span><br>        linkedList.addFirst(<span class="hljs-string">&quot;æ¢…è¶…é£&quot;</span>);<br>        System.out.println(linkedList);<br>        linkedList.removeFirst();<br>        System.out.println(linkedList);<br>        <span class="hljs-comment">// 10. `public E removeLast()`:ç§»é™¤é›†åˆä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ </span><br>        linkedList.removeLast();<br>        System.out.println(linkedList);<br>        System.out.println(<span class="hljs-string">&quot;===============================================&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;===============================================&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;===============================================&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;===============================================&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;===============================================&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;===============================================&quot;</span>);<br>        <span class="hljs-comment">// éƒ½æ˜¯ä½¿ç”¨å¤šæ€æ–¹å¼åˆ›å»ºæ—¶å°±ä¸å­˜åœ¨ä»¥ä¸Šçš„ç§æœ‰å®šä¹‰çš„æ–¹æ³•</span><br>        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `boolean add(E e)`:å‘Listé›†åˆä¸­æ·»åŠ å…ƒç´ `å¸¸ç”¨`</span><br>        list.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 2. `void add(int index, E element)`:å‘Listé›†åˆä¸­æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ </span><br>        list.add(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;æ¢…è¶…é£&quot;</span>);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 3. `boolean addAll(Collection&lt;? extends E&gt; c)`:å°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ è¿½åŠ åˆ°æ­¤é›†åˆçš„æœ«å°¾</span><br>        list.addAll(linkedList);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 4. `boolean addAll(int index, Collection&lt;? extends E&gt; c)`:å°†æŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ è¿½åŠ åˆ°æ­¤é›†åˆçš„æŒ‡å®šä½ç½®</span><br>        <span class="hljs-comment">// 5. `boolean contains(Object o)`:æ£€æµ‹æ­¤é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šå…ƒç´ `å¸¸ç”¨`</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isContains</span> <span class="hljs-operator">=</span> list.contains(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(isContains);<br>        <span class="hljs-comment">// 6. `boolean containsAll(Collection&lt;?&gt; c)`:æ£€æµ‹é›†åˆä¸­æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ </span><br>        <span class="hljs-comment">// 7. `E get(int index)`:è·å–é›†åˆä¸­æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ å¹¶è¿”å›`å¸¸ç”¨`</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">get</span> <span class="hljs-operator">=</span> list.get(<span class="hljs-number">0</span>);<br>        System.out.println(get);<br>        <span class="hljs-comment">// 8. `E set(int index, E element)`:ä¿®æ”¹é›†åˆä¸­æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ </span><br>        list.set(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;ä¸œæ–¹ä¸è´¥&quot;</span>);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 9. `int indexOf(Object o)`:åœ¨é›†åˆä¸­æŸ¥æ‰¾å…ƒç´ å¦‚æœå­˜åœ¨åˆ™è¿”å›æ­¤å…ƒç´ çš„ä¸‹æ ‡ç´¢å¼•(è¿”å›ç¬¬ä¸€æ¬¡å‘ç°çš„ä¸‹æ ‡ç´¢å¼•)</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">indexOf</span> <span class="hljs-operator">=</span> list.indexOf(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(indexOf);<br>        <span class="hljs-comment">// 10. `int lastIndexOf(Object o)`:åœ¨é›†åˆä¸­æŸ¥æ‰¾å…ƒç´ å¦‚æœå­˜åœ¨åˆ™è¿”å›æ­¤å…ƒç´ çš„ä¸‹æ ‡ç´¢å¼•(è¿”å›æœ€åä¸€æ¬¡å‘ç°çš„ä¸‹æ ‡ç´¢å¼•)</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">lastIndexOf</span> <span class="hljs-operator">=</span> list.lastIndexOf(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(lastIndexOf);<br>        <span class="hljs-comment">// 11. `List&lt;E&gt; subList(int fromIndex, int toIndex)`:åˆ‡å‰²é›†åˆ,æŒ‡å®šèµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®</span><br>        <span class="hljs-comment">// 12. `ListIterator&lt;E&gt; listIterator()`:è¿”å›Listæ¥å£è¿­ä»£å™¨</span><br>        <span class="hljs-comment">// 13. `int size()`:è¿”å›é›†åˆä¸­çš„å…ƒç´ æ•°é‡`å¸¸ç”¨`</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> list.size();<br>        System.out.println(size);<br>        <span class="hljs-comment">// 14. `boolean isEmpty()`:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º`å¸¸ç”¨`</span><br>        System.out.println(list.isEmpty());<br>        <span class="hljs-comment">// 15. `Object[] toArray()`:å°†é›†åˆè½¬ä¸ºæ•°ç»„</span><br>        <span class="hljs-comment">// 16. `void clear()`:æ¸…ç©ºé›†åˆå†…å…ƒç´ </span><br>        <span class="hljs-comment">// 17. `Iterator&lt;E&gt; iterator()`:è¿”å›é›†åˆè¿­ä»£å™¨å…ƒç´ ,ç”¨äºéå†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </span><br>        <span class="hljs-comment">// ListIteratorè¿­ä»£å™¨</span><br>        ListIterator&lt;String&gt; listIterator = list.listIterator();<br>        <span class="hljs-keyword">while</span> (listIterator.hasNext()) &#123;<br>            System.out.println(listIterator.next());<br>        &#125;<br>        <span class="hljs-comment">// Iteratorè¿­ä»£å™¨</span><br>        Iterator&lt;String&gt; iterator = list.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            System.out.println(iterator.next());<br>        &#125;<br>        <span class="hljs-comment">// æ¸…ç©ºclear</span><br>        list.clear();<br>        System.out.println(list.isEmpty());<br>        System.out.println(list.size());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="è‡ªå®šä¹‰å®ç°LinkedListåŠŸèƒ½"><a href="#è‡ªå®šä¹‰å®ç°LinkedListåŠŸèƒ½" class="headerlink" title="è‡ªå®šä¹‰å®ç°LinkedListåŠŸèƒ½"></a>è‡ªå®šä¹‰å®ç°LinkedListåŠŸèƒ½</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedList</span> &#123;<br>    <span class="hljs-comment">// ç”¨äºå­˜æ”¾é¦–èŠ‚ç‚¹çš„å±æ€§--&gt;åªè®°å½•é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span><br>    <span class="hljs-keyword">private</span> Node firstNode;<br>    <span class="hljs-comment">// ç”¨äºå­˜æ”¾å°¾ç»“ç‚¹çš„å±æ€§--&gt;åªè®°å½•é›†åˆä¸­çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span><br>    <span class="hljs-keyword">private</span> Node lastNode;<br>    <span class="hljs-comment">// ç”¨äºå­˜æ”¾é›†åˆä¸­çš„å…ƒç´ æ•°é‡</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(Object element)</span> &#123;<br>        <span class="hljs-comment">// è·å–æœ€åä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ç»™ä¸´æ—¶å¯¹è±¡å­˜æ”¾</span><br>        <span class="hljs-type">Node</span> <span class="hljs-variable">tempNode</span> <span class="hljs-operator">=</span> lastNode;<br>        <span class="hljs-comment">// åˆ›å»ºæ–°èŠ‚ç‚¹,æ¯æ¬¡åˆ›å»ºéƒ½æ˜¯æœ€åä¸€æ¡æ‰€ä»¥nextæŒ‡å‘ç›´æ¥èµ‹å€¼null</span><br>        <span class="hljs-type">Node</span> <span class="hljs-variable">newNode</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Node</span>(tempNode, element, <span class="hljs-literal">null</span>);<br>        <span class="hljs-comment">// å°†æ–°åˆ›å»ºæ–°èŠ‚ç‚¹å½“åšæ˜¯é›†åˆä¸­çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span><br>        lastNode = newNode;<br>        <span class="hljs-comment">// éªŒè¯ä¸´æ—¶èŠ‚ç‚¹æ˜¯å¦ä¸ºç©º</span><br>        <span class="hljs-keyword">if</span> (tempNode == <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-comment">// å°†é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡å‘,æŒ‡å‘åˆ°newNodeèŠ‚ç‚¹ä¸Š,ä»£è¡¨æ˜¯é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span><br>            firstNode = newNode;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// ä¸´æ—¶å­˜å‚¨èŠ‚ç‚¹ä¸ä¸ºç©ºåˆ™å°†ä¸´æ—¶èŠ‚ç‚¹çš„nextæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹,ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯ä¸Šé¢æ–°å¢çš„</span><br>            tempNode.next = newNode;<br>        &#125;<br>        <span class="hljs-comment">// å°†é›†åˆä¸­çš„size++ä»£è¡¨å…ƒç´ æ•°é‡</span><br>        size++;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-comment">// è·å–é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getFirstNode</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> firstNode.elementData;<br>    &#125;<br>    <span class="hljs-comment">// è·å–é›†åˆä¸­çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span><br>    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getLastNode</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> lastNode.elementData;<br>    &#125;<br>    <span class="hljs-comment">// sizeæ–¹æ³•,è·å–é•¿åº¦</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">size</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> size;<br>    &#125;<br>    <span class="hljs-comment">// åˆ›å»ºç§æœ‰å†…éƒ¨ç±»--&gt;èŠ‚ç‚¹ç±»</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Node</span> &#123;<br>        <span class="hljs-comment">// å‰ä¸€ä¸ªèŠ‚ç‚¹</span><br>        Node prev;<br>        <span class="hljs-comment">// æ•°æ®</span><br>        Object elementData;<br>        <span class="hljs-comment">// ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br>        Node next;<br>        <span class="hljs-comment">// å…¨å‚æ„é€ æ–¹æ³•</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Node</span><span class="hljs-params">(Node prev, Object elementData, Node next)</span> &#123;<br>            <span class="hljs-built_in">this</span>.prev = prev;<br>            <span class="hljs-built_in">this</span>.elementData = elementData;<br>            <span class="hljs-built_in">this</span>.next = next;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLinkedListDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰LinkedListé›†åˆå¯¹è±¡</span><br>        <span class="hljs-type">LinkedList</span> <span class="hljs-variable">linkedList</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>();<br>        <span class="hljs-comment">// æ·»åŠ æ•°æ®</span><br>        linkedList.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        linkedList.add(<span class="hljs-string">&quot;æ¢…è¶…é£&quot;</span>);<br>        linkedList.add(<span class="hljs-string">&quot;ä¸œæ–¹ä¸è´¥&quot;</span>);<br>        linkedList.add(<span class="hljs-string">&quot;å²³ä¸ç¾¤&quot;</span>);<br>        linkedList.add(<span class="hljs-string">&quot;æ—å¹³ä¹‹&quot;</span>);<br>        linkedList.add(<span class="hljs-string">&quot;é å©§ç¥&quot;</span>);<br>        <span class="hljs-comment">// è·å–é›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ </span><br>        System.out.println(linkedList.getFirstNode());<br>        <span class="hljs-comment">// è·å–é›†åˆä¸­æœ€åä¸€ä¸ªå…ƒç´ </span><br>        System.out.println(linkedList.getLastNode());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Listæ¥å£ä¹‹å®ç°ç±»Vector"><a href="#Listæ¥å£ä¹‹å®ç°ç±»Vector" class="headerlink" title="Listæ¥å£ä¹‹å®ç°ç±»Vector"></a>Listæ¥å£ä¹‹å®ç°ç±»Vector</h3><h4 id="Vectorå®ç°ç±»æ¦‚è¿°"><a href="#Vectorå®ç°ç±»æ¦‚è¿°" class="headerlink" title="Vectorå®ç°ç±»æ¦‚è¿°"></a>Vectorå®ç°ç±»æ¦‚è¿°</h4><p>Vectorä¸ArrayListä¸€æ¨¡ä¸€æ ·çš„,å”¯ä¸€çš„åŒºåˆ«åœ¨äºVectoræ˜¯çº¿ç¨‹å®‰å…¨çš„è€ŒArrayListæ˜¯çº¿ç¨‹ä¸å®‰å…¨</p><h4 id="Listæ¥å£ä¹‹Vectoræ·»åŠ æ–¹æ³•"><a href="#Listæ¥å£ä¹‹Vectoræ·»åŠ æ–¹æ³•" class="headerlink" title="Listæ¥å£ä¹‹Vectoræ·»åŠ æ–¹æ³•"></a>Listæ¥å£ä¹‹Vectoræ·»åŠ æ–¹æ³•</h4><ul><li><code>public synchronized boolean add(E e)</code>:å‘é›†åˆä¸­è¿½åŠ å…ƒç´ <code>å¸¸ç”¨</code></li><li><code>public void add(int index, E element)</code>:å‘é›†åˆçš„æŒ‡å®šä¸‹æ ‡ç´¢å¼•æ’å…¥å…ƒç´ </li><li><code>public synchronized boolean addAll(Collection&lt;? extends E&gt; c)</code>:å°†æŒ‡å®š Collection ä¸­çš„æ‰€æœ‰å…ƒç´ é™„åŠ åˆ°æ­¤ Vector çš„æœ«å°¾</li><li><code>public synchronized boolean addAll(int index, Collection&lt;? extends E&gt; c)</code>:å°†æŒ‡å®š Collection ä¸­çš„æ‰€æœ‰å…ƒç´ æ’å…¥åˆ°æ­¤ Vector çš„æŒ‡å®šä½ç½®ã€‚å°†å½“å‰ä½äºè¯¥ä½ç½®çš„å…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰å’Œä»»ä½•åç»­å…ƒç´ å‘å³ç§»åŠ¨ï¼ˆå¢åŠ å®ƒä»¬çš„ç´¢å¼•ï¼‰</li><li><code>public synchronized void addElement(E obj)</code>:å‘é›†åˆä¸­è¿½åŠ å…ƒç´ </li></ul><h4 id="Listæ¥å£ä¹‹Vectoråˆ é™¤æ–¹æ³•"><a href="#Listæ¥å£ä¹‹Vectoråˆ é™¤æ–¹æ³•" class="headerlink" title="Listæ¥å£ä¹‹Vectoråˆ é™¤æ–¹æ³•"></a>Listæ¥å£ä¹‹Vectoråˆ é™¤æ–¹æ³•</h4><ul><li><code>public synchronized E remove(int index)</code>:æŒ‡å®šä¸‹æ ‡ç´¢å¼•åˆ é™¤é›†åˆä¸­å…ƒç´ </li><li><code>public boolean remove(Object o)</code>:æŒ‡å®šå…ƒç´ å¯¹è±¡åˆ é™¤é›†åˆä¸­çš„å…ƒç´ <code>å¸¸ç”¨</code></li><li><code>public synchronized boolean removeAll(Collection&lt;?&gt; c)</code>:ä»æ­¤ Vector ä¸­åˆ é™¤åŒ…å«åœ¨æŒ‡å®š Collection ä¸­çš„æ‰€æœ‰å…ƒç´ </li><li><code>public synchronized void removeAllElements()</code>:ä»æ­¤Vectorä¸­åˆ é™¤æ‰€æœ‰å…ƒç´ å¹¶å°†å…¶å¤§å°è®¾ç½®ä¸ºé›¶ã€‚</li><li><code>public synchronized boolean removeElement(Object obj)</code>:ä»æ­¤Vectorä¸­åˆ é™¤å‚æ•°çš„ç¬¬ä¸€ä¸ªå‡ºç°çš„å…ƒç´ ã€‚</li></ul><h4 id="Listæ¥å£ä¹‹Vectorä¿®æ”¹æ–¹æ³•"><a href="#Listæ¥å£ä¹‹Vectorä¿®æ”¹æ–¹æ³•" class="headerlink" title="Listæ¥å£ä¹‹Vectorä¿®æ”¹æ–¹æ³•"></a>Listæ¥å£ä¹‹Vectorä¿®æ”¹æ–¹æ³•</h4><ul><li><code>public synchronized E set(int index, E element)</code>:ä¿®æ”¹æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ <code>å¸¸ç”¨</code></li><li><code>public synchronized void setElementAt(E obj, int index)</code>:ä¿®æ”¹æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ </li><li><code>public synchronized void setSize(int newSize)</code>:è®¾ç½®é›†åˆä¸­æ•°ç»„çš„å¤§å°</li></ul><h4 id="Listæ¥å£ä¹‹VectoræŸ¥è¯¢æ–¹æ³•"><a href="#Listæ¥å£ä¹‹VectoræŸ¥è¯¢æ–¹æ³•" class="headerlink" title="Listæ¥å£ä¹‹VectoræŸ¥è¯¢æ–¹æ³•"></a>Listæ¥å£ä¹‹VectoræŸ¥è¯¢æ–¹æ³•</h4><ul><li><code>public synchronized E get(int index)</code>:é€šè¿‡ä¸‹æ ‡ç´¢å¼•è·å–é›†åˆä¸­çš„æ•°æ®<code>å¸¸ç”¨</code></li><li><code>public int indexOf(Object o)</code>:æŒ‡å®šå…ƒç´ è·å–é›†åˆä¸­æ˜¯å¦å­˜åœ¨å¦‚æœå­˜åœ¨åˆ™è¿”å›ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„ä¸‹æ ‡ç´¢å¼•å¦åˆ™è¿”å›-1</li><li><code>public synchronized int lastIndexOf(Object o)</code>:æŒ‡å®šå…ƒç´ è·å–é›†åˆä¸­æ˜¯å¦å­˜åœ¨å¦‚æœå­˜åœ¨åˆ™è¿”å›æœ€åä¸€æ¬¡æ‰¾åˆ°çš„ä¸‹æ ‡ç´¢å¼•å¦åˆ™è¿”å›-1</li></ul><h4 id="Listæ¥å£ä¹‹Vectorå…¶ä»–æ–¹æ³•"><a href="#Listæ¥å£ä¹‹Vectorå…¶ä»–æ–¹æ³•" class="headerlink" title="Listæ¥å£ä¹‹Vectorå…¶ä»–æ–¹æ³•"></a>Listæ¥å£ä¹‹Vectorå…¶ä»–æ–¹æ³•</h4><ul><li><code>public synchronized int size()</code>:è·å–é›†åˆä¸­çš„å…ƒç´ æ•°é‡â€“&gt;é›†åˆé•¿åº¦</li><li><code>public synchronized boolean isEmpty()</code>:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>public void clear()</code>:æ¸…ç©ºé›†åˆä¸­çš„æ‰€æœ‰æ•°æ®</li></ul><h4 id="Listæ¥å£ä¹‹Vectorä»£ç æ¡ˆä¾‹"><a href="#Listæ¥å£ä¹‹Vectorä»£ç æ¡ˆä¾‹" class="headerlink" title="Listæ¥å£ä¹‹Vectorä»£ç æ¡ˆä¾‹"></a>Listæ¥å£ä¹‹Vectorä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VectorDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºVectorå¯¹è±¡</span><br>        Vector&lt;String&gt; vector = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vector</span>&lt;&gt;();<br>        <span class="hljs-comment">// #### 3. Listæ¥å£ä¹‹Vectoræ·»åŠ æ–¹æ³•</span><br>        <span class="hljs-comment">// 1. `public synchronized boolean add(E e)`:å‘é›†åˆä¸­è¿½åŠ å…ƒç´ `å¸¸ç”¨`</span><br>        vector.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(vector);<br>        <span class="hljs-comment">// 2. `public void add(int index, E element)`:å‘é›†åˆçš„æŒ‡å®šä¸‹æ ‡ç´¢å¼•æ’å…¥å…ƒç´ </span><br>        vector.add(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;æ¢…è¶…é£&quot;</span>);<br>        System.out.println(vector);<br>        <span class="hljs-comment">// 3. `public synchronized boolean addAll(Collection&lt;? extends E&gt; c)`:å°†æŒ‡å®š Collection ä¸­çš„æ‰€æœ‰å…ƒç´ é™„åŠ åˆ°æ­¤ Vector çš„æœ«å°¾</span><br>        <span class="hljs-comment">// 4. `public synchronized boolean addAll(int index, Collection&lt;? extends E&gt; c)`:å°†æŒ‡å®š Collection ä¸­çš„æ‰€æœ‰å…ƒç´ æ’å…¥åˆ°æ­¤ Vector çš„æŒ‡å®šä½ç½®ã€‚å°†å½“å‰ä½äºè¯¥ä½ç½®çš„å…ƒç´ ï¼ˆå¦‚æœæœ‰ï¼‰å’Œä»»ä½•åç»­å…ƒç´ å‘å³ç§»åŠ¨ï¼ˆå¢åŠ å®ƒä»¬çš„ç´¢å¼•ï¼‰</span><br>        <span class="hljs-comment">// 5. `public synchronized void addElement(E obj)`:å‘é›†åˆä¸­è¿½åŠ å…ƒç´ </span><br>        vector.addElement(<span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>);<br>        System.out.println(vector);<br>        <span class="hljs-comment">// #### 4. Listæ¥å£ä¹‹Vectoråˆ é™¤æ–¹æ³•</span><br>        <span class="hljs-comment">// 1. `public synchronized E remove(int index)`:æŒ‡å®šä¸‹æ ‡ç´¢å¼•åˆ é™¤é›†åˆä¸­å…ƒç´ </span><br>        vector.remove(<span class="hljs-number">0</span>);<br>        System.out.println(vector);<br>        <span class="hljs-comment">// 2. `public boolean remove(Object o)`:æŒ‡å®šå…ƒç´ å¯¹è±¡åˆ é™¤é›†åˆä¸­çš„å…ƒç´ `å¸¸ç”¨`</span><br>        <span class="hljs-comment">// 3. `public synchronized boolean removeAll(Collection&lt;?&gt; c)`:ä»æ­¤ Vector ä¸­åˆ é™¤åŒ…å«åœ¨æŒ‡å®š Collection ä¸­çš„æ‰€æœ‰å…ƒç´ </span><br>        <span class="hljs-comment">// 4. `public synchronized void removeAllElements()`:ä»æ­¤Vectorä¸­åˆ é™¤æ‰€æœ‰å…ƒç´ å¹¶å°†å…¶å¤§å°è®¾ç½®ä¸ºé›¶ã€‚</span><br>        <span class="hljs-comment">// 5. `public synchronized boolean removeElement(Object obj)`:ä»æ­¤Vectorä¸­åˆ é™¤å‚æ•°çš„ç¬¬ä¸€ä¸ªå‡ºç°çš„å…ƒç´ ã€‚</span><br>        <span class="hljs-comment">// #### 5. Listæ¥å£ä¹‹Vectorä¿®æ”¹æ–¹æ³•</span><br>        <span class="hljs-comment">// 1. `public synchronized E set(int index, E element)`:ä¿®æ”¹æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ `å¸¸ç”¨`</span><br>        vector.set(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;é™ˆå† å¸Œ&quot;</span>);<br>        System.out.println(vector);<br>        <span class="hljs-comment">// 2. `public synchronized void setElementAt(E obj, int index)`:ä¿®æ”¹æŒ‡å®šä¸‹æ ‡ç´¢å¼•çš„å…ƒç´ </span><br>        <span class="hljs-comment">// 3. `public synchronized void setSize(int newSize)`:è®¾ç½®é›†åˆä¸­æ•°ç»„çš„å¤§å°</span><br>        <span class="hljs-comment">// #### 6. Listæ¥å£ä¹‹VectoræŸ¥è¯¢æ–¹æ³•</span><br>        <span class="hljs-comment">// 1. `public synchronized E get(int index)`:é€šè¿‡ä¸‹æ ‡ç´¢å¼•è·å–é›†åˆä¸­çš„æ•°æ®`å¸¸ç”¨`</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">element</span> <span class="hljs-operator">=</span> vector.get(<span class="hljs-number">0</span>);<br>        System.out.println(element);<br>        <span class="hljs-comment">// 2. `public int indexOf(Object o)`:æŒ‡å®šå…ƒç´ è·å–é›†åˆä¸­æ˜¯å¦å­˜åœ¨å¦‚æœå­˜åœ¨åˆ™è¿”å›ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„ä¸‹æ ‡ç´¢å¼•å¦åˆ™è¿”å›-1</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">indexOf</span> <span class="hljs-operator">=</span> vector.indexOf(<span class="hljs-string">&quot;é™ˆå† å¸Œ&quot;</span>);<br>        System.out.println(indexOf);<br>        <span class="hljs-comment">// 3. `public synchronized int lastIndexOf(Object o)`:æŒ‡å®šå…ƒç´ è·å–é›†åˆä¸­æ˜¯å¦å­˜åœ¨å¦‚æœå­˜åœ¨åˆ™è¿”å›æœ€åä¸€æ¬¡æ‰¾åˆ°çš„ä¸‹æ ‡ç´¢å¼•å¦åˆ™è¿”å›-1</span><br>        <span class="hljs-comment">// #### 7. Listæ¥å£ä¹‹Vectorå…¶ä»–æ–¹æ³•</span><br>        <span class="hljs-comment">// 1. `public synchronized int size()`:è·å–é›†åˆä¸­çš„å…ƒç´ æ•°é‡--&gt;é›†åˆé•¿åº¦</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">size</span> <span class="hljs-operator">=</span> vector.size();<br>        System.out.println(size);<br>        <span class="hljs-comment">// 2. `public synchronized boolean isEmpty()`:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(vector.isEmpty());<br>        <span class="hljs-comment">// 3. `public void clear()`:æ¸…ç©ºé›†åˆä¸­çš„æ‰€æœ‰æ•°æ®</span><br>        vector.clear();<br>        System.out.println(vector.isEmpty());<br>        System.out.println(vector.size());<br>        System.out.println(<span class="hljs-string">&quot;================================================&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;================================================&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;================================================&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;================================================&quot;</span>);<br>        <span class="hljs-comment">// ä½¿ç”¨å¸¸ç”¨æ–¹å¼åˆ›å»ºVectorå¯¹è±¡--&gt;å¤šæ€åˆ›å»º</span><br>        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vector</span>&lt;&gt;();<br>        <span class="hljs-comment">// å¢åŠ </span><br>        list.add(<span class="hljs-string">&quot;èˆ’å…‹&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;è´å¡”&quot;</span>);<br>        list.addAll(vector);<br>        System.out.println(list);<br>        <span class="hljs-comment">// åˆ é™¤</span><br>        list.remove(<span class="hljs-string">&quot;é™ˆå† å¸Œ&quot;</span>);<br>        System.out.println(list);<br>        <span class="hljs-comment">// ä¿®æ”¹</span><br>        list.set(<span class="hljs-number">0</span>, <span class="hljs-string">&quot;å¼€é£æœºçš„èˆ’å…‹&quot;</span>);<br>        list.set(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;å¼€å¦å…‹çš„è´å¡”&quot;</span>);<br>        <span class="hljs-comment">// è·å–æ•°æ®</span><br>        System.out.println(list.get(<span class="hljs-number">0</span>));<br>        System.out.println(list.get(<span class="hljs-number">1</span>));<br>        System.out.println(list);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Listæ¥å£çš„ä¸‰ä¸ªå®ç°ç±»å¯¹æ¯”"><a href="#Listæ¥å£çš„ä¸‰ä¸ªå®ç°ç±»å¯¹æ¯”" class="headerlink" title="Listæ¥å£çš„ä¸‰ä¸ªå®ç°ç±»å¯¹æ¯”"></a>Listæ¥å£çš„ä¸‰ä¸ªå®ç°ç±»å¯¹æ¯”</h3><h5 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h5><ul><li><p>åº•å±‚æ•°ç»„å®ç°,æŸ¥è¯¢é€Ÿåº¦å¿«,å¢åˆ é€Ÿåº¦æ…¢,é€Ÿåº¦æ…¢çš„åŸå› æ˜¯:æ¯æ¬¡å¦‚æœæ’å…¥æ•°æ®åˆ™éœ€è¦å°†æ’å…¥ä½ç½®ä¹‹åçš„æ•°æ®éƒ½å‘åç§»ä¸€ä½</p></li><li><p>çº¿ç¨‹ä¸å®‰å…¨çš„</p></li></ul><h5 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h5><ul><li><p>åº•å±‚åŒé“¾è¡¨å®ç°,å¢åˆ é€Ÿåº¦å¿«,æŸ¥è¯¢é€Ÿåº¦æ…¢,é€Ÿåº¦æ…¢çš„åŸå› æ˜¯:ä¸ç®¡æŸ¥è¯¢çš„æ˜¯ç¬¬å‡ ä¸ªéƒ½éœ€è¦ä»å¤´åˆ°å°¾æŸ¥ä¸€é</p></li><li><p>çº¿ç¨‹ä¸å®‰å…¨çš„</p></li></ul><h5 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h5><ul><li>åº•å±‚æ•°ç»„å®ç°,æŸ¥è¯¢é€Ÿåº¦å¿«,å¢åˆ é€Ÿåº¦æ…¢,é€Ÿåº¦æ…¢çš„åŸå› æ˜¯:æ¯æ¬¡å¦‚æœæ’å…¥æ•°æ®åˆ™éœ€è¦å°†æ’å…¥ä½ç½®ä¹‹åçš„æ•°æ®éƒ½å‘åç§»ä¸€ä½</li><li>çº¿ç¨‹å®‰å…¨çš„</li></ul><blockquote><p>ArrayListå’ŒVectorå®ç°éƒ½æ˜¯ç›¸åŒ,åŒ…æ‹¬æ–¹æ³•éƒ½æ˜¯ç›¸åŒ,å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ArrayListæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„,Vectoræ˜¯çº¿ç¨‹å®‰å…¨</p></blockquote><h3 id="Mapæ¥å£"><a href="#Mapæ¥å£" class="headerlink" title="Mapæ¥å£"></a>Mapæ¥å£</h3><h4 id="1-Mapæ¥å£æ¦‚è¿°"><a href="#1-Mapæ¥å£æ¦‚è¿°" class="headerlink" title="1. Mapæ¥å£æ¦‚è¿°"></a>1. Mapæ¥å£æ¦‚è¿°</h4><blockquote><p>Mapç¿»è¯‘æ˜¯(åœ°å›¾),ç¨‹åºä¸­ä¸æ˜¯åœ°å›¾æ„æ€,Mapé›†åˆå­˜å‚¨æ•°æ®æ˜¯ä»¥<code>é”®(Key)å€¼(Value)å¯¹</code>æ–¹å¼,æœ‰äº›ç±»ä¼¼äºèº«ä»½è¯<br>æ¯”å¦‚:èº«ä»½è¯æ˜¯èº«ä»½è¯å·å¯¹åº”èº«ä»½è¯å§“å<br>    1. å¯¹åº”ç»“æœ:123456789:å°æ˜<br>        1. èº«ä»½è¯å·:Key(é”®)â€“&gt;èº«ä»½è¯å·æ˜¯ä¸å…è®¸é‡å¤çš„<br>        2. èº«ä»½è¯å§“å:Value(å€¼)â€“&gt;èº«ä»½è¯å§“åæ˜¯å…è®¸é‡å¤çš„<br>    2. ä»¥ä¸Šèº«ä»½è¯æŸ¥æ‰¾æ—¶ä½¿ç”¨èº«ä»½è¯å·æŸ¥æ‰¾å½“å‰è¿™ä¸ªäºº(ä½¿ç”¨èº«ä»½è¯å·æŸ¥è¯¢èº«ä»½è¯å§“å)<br>Mapé›†åˆä¹Ÿæ˜¯ç›¸åŒ,Mapé›†åˆä½¿ç”¨é€šè¿‡<code>Key(é”®)</code>è·å–<code>Value(å€¼)</code>,å¹¶ä¸”<code>Key(é”®)ä¸å…è®¸é‡å¤</code>,<code>Value(å€¼)å…è®¸é‡å¤</code><br>Mapé›†åˆæ˜¯<code>java.util</code>åŒ…ä¸­,æ‰€ä»¥ä¹Ÿæ˜¯å·¥å…·ç±»,å…¶ç›´æ¥å­ç±»æ˜¯HashMap&#x2F;LinkedHashMap&#x2F;TreeMap&#x2F;HashTable&#x2F;Propertiesç­‰ç­‰<br>Mapé›†åˆæ˜¯æ— åºçš„(Keyçš„æ’åºæ˜¯æ— åºçš„)â€“&gt;è™½ç„¶è¯´æ— åºä½†æ˜¯æœ‰è‡ªå·±çš„æ’åºè§„åˆ™,è¿™ä¸ªè§„åˆ™æ˜¯ASCIIç è¡¨å¦‚æœè¶…å‡º127åˆ™æŒ‰ç…§Unicodeç è¡¨</p><ol><li>æ— åºä»£è¡¨<code>å­˜å‚¨é¡ºåº</code>ä¸<code>å–å‡ºé¡ºåº</code>ä¸ä¸€è‡´</li><li>ä¸èƒ½åŒé€šè¿‡ä¸‹æ ‡ç´¢å¼•è·å–æ•°æ®</li></ol></blockquote><h4 id="2-Mapæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•"><a href="#2-Mapæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="2. Mapæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•"></a>2. Mapæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•</h4><ul><li><code>V put(K key, V value)</code>:å‘Mapé›†åˆä¸­æ·»åŠ é”®å€¼å¯¹å…ƒç´ ,ä¸å­˜åœ¨åˆ™æ·»åŠ ,å¦‚æœKey(é”®)é‡å¤åˆ™ä¿®æ”¹åŸæœ‰å†…å®¹(ä¸æ˜¯é‡æ–°æ·»åŠ è¦†ç›–),å¹¶è¿”å›æ·»åŠ çš„Value(å€¼)å†…å®¹<ol><li>key:é”®</li><li>value:å€¼</li></ol></li><li><code>V get(Object key)</code>:æŒ‡å®šKey(é”®)è·å–Value(å€¼)</li><li><code>V remove(Object key)</code>:æŒ‡å®šKey(é”®)ç§»é™¤<code>Key(é”®)Value(å€¼)</code>â€“&gt;ç§»é™¤é”®å€¼å¯¹</li><li><code>boolean containsKey(Object key)</code>:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„æŒ‡å®šKey(é”®)</li><li><code>boolean containsValue(Object value)</code>:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„Value(å€¼)</li><li><code>Collection&lt;V&gt; values()</code>:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Value(å€¼)</li><li><code>boolean isEmpty()</code>:åˆ¤æ–­Mapé›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>void clear()</code>:æ¸…ç©ºMapé›†åˆå…ƒç´ </li><li><code>int size()</code>:è¿”å›Mapé›†åˆçš„å…ƒç´ æ•°é‡(Key-Valueä»£è¡¨ä¸€ä¸ª)</li><li><code>Set&lt;K&gt; keySet()</code>:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key(é”®)å€¼</li><li><code>Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()</code>:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key-Valueâ€“&gt;è¿”å›æ‰€æœ‰é”®å€¼å¯¹</li></ul><h4 id="3-mapæ¥å£ä»£ç æ¡ˆä¾‹"><a href="#3-mapæ¥å£ä»£ç æ¡ˆä¾‹" class="headerlink" title="3. mapæ¥å£ä»£ç æ¡ˆä¾‹"></a>3. mapæ¥å£ä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºMapé›†åˆ,ä½¿ç”¨å…¶å­ç±»HashMapåˆ›å»º--&gt;å¤šæ€åˆ›å»ºæ–¹å¼</span><br>        <span class="hljs-comment">// å¸¸ç”¨Mapæ³›å‹ç»“æ„Map&lt;String, Object&gt;,Map&lt;String, String&gt;</span><br>        Map&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `V put(K key, V value)`:å‘Mapé›†åˆä¸­æ·»åŠ é”®å€¼å¯¹å…ƒç´ ,ä¸å­˜åœ¨åˆ™æ·»åŠ ,å¦‚æœKey(é”®)é‡å¤åˆ™ä¿®æ”¹åŸæœ‰å†…å®¹(ä¸æ˜¯é‡æ–°æ·»åŠ ),å¹¶è¿”å›æ·»åŠ çš„Value(å€¼)å†…å®¹</span><br>        <span class="hljs-comment">// 1. key:é”®</span><br>        <span class="hljs-comment">// 2. value:å€¼</span><br>        <span class="hljs-comment">// map.put(&quot;772004123055&quot;, &quot;å½­äºæ™&quot;);</span><br>        <span class="hljs-comment">// map.put(&quot;771914123055&quot;, &quot;è‚å°å€©&quot;);</span><br>        <span class="hljs-comment">// map.put(&quot;771999123055&quot;, &quot;è‚å°å€©&quot;);</span><br>        <span class="hljs-comment">// // 771989123055æ˜¯åˆ˜äº¦è²</span><br>        <span class="hljs-comment">// map.put(&quot;771989123055&quot;, &quot;åˆ˜äº¦è²&quot;);</span><br>        <span class="hljs-comment">// é‡å¤æ·»åŠ ç›¸åŒçš„Key771989123055</span><br>        <span class="hljs-comment">// å¦‚æœKeyé‡å¤åˆ™ä¿®æ”¹åŸæœ‰çš„Valueå€¼,è€Œä¸æ˜¯è¦†ç›–Key-Value</span><br>        map.put(<span class="hljs-string">&quot;e&quot;</span>, <span class="hljs-string">&quot;è‹è€å¸ˆ&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;d&quot;</span>, <span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;è‚å°å€©&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;è‚å°å€©&quot;</span>);<br>        <span class="hljs-comment">// 771989123055æ˜¯åˆ˜äº¦è²</span><br>        map.put(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;åˆ˜äº¦è²&quot;</span>);<br>        <span class="hljs-comment">// é‡å¤æ·»åŠ ç›¸åŒçš„Key771989123055</span><br>        <span class="hljs-comment">// å¦‚æœKeyé‡å¤åˆ™ä¿®æ”¹åŸæœ‰çš„Valueå€¼,è€Œä¸æ˜¯è¦†ç›–Key-Value</span><br>        map.put(<span class="hljs-string">&quot;f&quot;</span>, <span class="hljs-string">&quot;è‹è€å¸ˆ&quot;</span>);<br>        System.out.println(map);<br>        <span class="hljs-comment">// 1. `V get(Object key)`:æŒ‡å®šKey(é”®)è·å–Value(å€¼)</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> map.get(<span class="hljs-string">&quot;a&quot;</span>);<br>        System.out.println(value);<br>        <span class="hljs-comment">// è·å–æ²¡æœ‰çš„å€¼æ—¶æ˜¯æŠ¥é”™è¿˜æ˜¯è¿”å›null?</span><br>        value = map.get(<span class="hljs-string">&quot;aa&quot;</span>);<br>        System.out.println(value);<br>        <span class="hljs-comment">// ç¬¬äºŒä¸ªgetOrDefault,å½“è·å–çš„keyä¸å­˜åœ¨æ—¶è¿”å›defaultValue--&gt;è¿”å›è®¾ç½®é»˜è®¤å€¼</span><br>        value = map.getOrDefault(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;ä¸å­˜åœ¨&quot;</span>);<br>        System.out.println(value);<br>        value = map.getOrDefault(<span class="hljs-string">&quot;aa&quot;</span>, <span class="hljs-string">&quot;ä¸å­˜åœ¨&quot;</span>);<br>        System.out.println(value);<br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        <span class="hljs-comment">// 2. `V remove(Object key)`:æŒ‡å®šKey(é”®)ç§»é™¤`Key(é”®)Value(å€¼)`--&gt;ç§»é™¤é”®å€¼å¯¹</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">remove</span> <span class="hljs-operator">=</span> map.remove(<span class="hljs-string">&quot;a&quot;</span>);<br>        System.out.println(remove);<br>        System.out.println(map);<br>        <span class="hljs-comment">// 3. `boolean containsKey(Object key)`:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„æŒ‡å®šKey(é”®)</span><br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isContainsKey</span> <span class="hljs-operator">=</span> map.containsKey(<span class="hljs-string">&quot;f&quot;</span>);<br>        System.out.println(isContainsKey);<br>        isContainsKey = map.containsKey(<span class="hljs-string">&quot;ff&quot;</span>);<br>        System.out.println(isContainsKey);<br>        <span class="hljs-comment">// 4. `boolean containsValue(Object value)`:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„Value(å€¼)</span><br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isContainsValue</span> <span class="hljs-operator">=</span> map.containsValue(<span class="hljs-string">&quot;è‹è€å¸ˆ&quot;</span>);<br>        System.out.println(isContainsValue);<br>        isContainsValue = map.containsValue(<span class="hljs-string">&quot;å°æ³½è€å¸ˆ&quot;</span>);<br>        System.out.println(isContainsValue);<br>        <span class="hljs-comment">// 5. `Collection&lt;V&gt; values()`:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Value(å€¼)</span><br>        Collection&lt;String&gt; values = map.values();<br>        System.out.println(values);<br>        <span class="hljs-comment">// 6. `boolean isEmpty()`:åˆ¤æ–­Mapé›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(map.isEmpty());<br>        <span class="hljs-comment">// 8. `int size()`:è¿”å›Mapé›†åˆçš„å…ƒç´ æ•°é‡(Key-Valueä»£è¡¨ä¸€ä¸ª)</span><br>        System.out.println(map.size());<br>        <span class="hljs-comment">// Mapé›†åˆçš„éå†åªèƒ½é€šè¿‡keySetå’ŒentrySetéå†</span><br>        <span class="hljs-comment">// 9. `Set&lt;K&gt; keySet()`:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key(é”®)å€¼</span><br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        Set&lt;String&gt; keySet = map.keySet();<br>        <span class="hljs-comment">// ä½¿ç”¨å¢å¼ºforå¾ªç¯éå†keySet</span><br>        <span class="hljs-keyword">for</span> (String key : keySet) &#123;<br>            <span class="hljs-comment">// éå†keyå¹¶ä½¿ç”¨keyè·å–value</span><br>            System.out.println(<span class="hljs-string">&quot;key:&quot;</span> + key + <span class="hljs-string">&quot;,value:&quot;</span> + map.get(key));<br>        &#125;<br>        <span class="hljs-comment">// 10. `Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()`:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key-Value--&gt;è¿”å›æ‰€æœ‰é”®å€¼å¯¹</span><br>        <span class="hljs-comment">// Map.Entry--&gt;Entryæ˜¯Mapæ¥å£ä¸­çš„å†…éƒ¨æ¥å£,ä½œç”¨å°±æ˜¯è¿”å›Mapé›†åˆä¸­çš„Key-Value--&gt;è¿”å›é”®å€¼å¯¹</span><br>        <span class="hljs-comment">// Entryæ¥å£ä¸­æœ‰ä¸¤ä¸ªæ–¹æ³•,ä¸€ä¸ªgetKey(è·å–key)ä¸€ä¸ªæ˜¯getValue(è·å–value)</span><br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        Set&lt;Map.Entry&lt;String, String&gt;&gt; entrySet = map.entrySet();<br>        <span class="hljs-comment">// éå†Seté›†åˆ</span><br>        <span class="hljs-keyword">for</span> (Map.Entry&lt;String, String&gt; entry : entrySet) &#123;<br>            <span class="hljs-comment">// æ‰“å°ç»“æœ</span><br>            System.out.println(<span class="hljs-string">&quot;key:&quot;</span> + entry.getKey() + <span class="hljs-string">&quot;,value:&quot;</span> + entry.getValue());<br>        &#125;<br>        <span class="hljs-comment">// 7. `void clear()`:æ¸…ç©ºMapé›†åˆå…ƒç´ </span><br>        map.clear();<br>        System.out.println(map);<br>        System.out.println(map.size());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Mapæ¥å£ä¹‹HashMapç±»"><a href="#Mapæ¥å£ä¹‹HashMapç±»" class="headerlink" title="Mapæ¥å£ä¹‹HashMapç±»"></a>Mapæ¥å£ä¹‹HashMapç±»</h3><h4 id="1-HashMapæ¦‚è¿°"><a href="#1-HashMapæ¦‚è¿°" class="headerlink" title="1. HashMapæ¦‚è¿°"></a>1. HashMapæ¦‚è¿°</h4><blockquote><p>HashMapé‡‡ç”¨å“ˆå¸Œç®—æ³•å®ç°,æ˜¯Mapæ¥å£ä¸­æœ€å¸¸ç”¨çš„å®ç°ç±»,åº•å±‚å®ç°æ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ•°æ®,æ‰€ä»¥Keyä¸å…è®¸é‡å¤,å¦‚æœé‡å¤åˆ™ä¿®æ”¹Valueå€¼,HashMapåœ¨æŸ¥æ‰¾,åˆ é™¤,ä¿®æ”¹æ–¹æ³•ä¸­æ•ˆç‡éå¸¸é«˜(å…¨èƒ½å¢åˆ æ”¹æŸ¥æ•ˆç‡éƒ½å¿«)<br>HashMapçš„å“ˆå¸Œè¡¨è¿™ç§æ•°æ®ç»“æ„éå¸¸é‡è¦,å¹¶ä¸”åº”ç”¨åœºæ™¯éå¸¸çš„ä¸°å¯Œ,æ‰€ä»¥æ¦‚å¿µå¾—æ‡‚</p></blockquote><ol><li>å“ˆå¸Œè¡¨æ˜¯å˜›ç©æ„å„¿?<ol><li>å“ˆå¸Œè¡¨æ˜¯åŸºäºé“¾è¡¨å®ç°,æ˜¯é“¾è¡¨çš„å‡çº§ç‰ˆæœ¬</li></ol></li><li>å“ˆå¸Œè¡¨,æ•°ç»„,é“¾è¡¨çš„ä¼˜åŠ£åŠ¿<ol><li>æ•°ç»„:<ol><li>ä¼˜åŠ¿:æŸ¥è¯¢é€Ÿåº¦å¿«,å¯ä»¥ç›´æ¥æŒ‡å®šä¸‹æ ‡ç´¢å¼•æŸ¥è¯¢</li><li>åŠ£åŠ¿:å¢åˆ é€Ÿåº¦æ…¢,å¢åŠ æˆ–åˆ é™¤æ—¶éœ€è¦å°†å½“å‰ä½ç½®ä¹‹åçš„æ‰€æœ‰å…ƒç´ å‘åç§»åŠ¨</li></ol></li><li>é“¾è¡¨:<ol><li>ä¼˜åŠ¿:å¢åˆ é€Ÿåº¦å¿«,åŸå› æ˜¯å…ƒç´ éƒ½æ˜¯ä½¿ç”¨æŒ‡å‘æ–¹å¼æŒ‡å‘åœ°å€,ä¸å­˜åœ¨è¿ç»­ç©ºé—´,æƒ³åˆ é™¤å“ªä¸ªç›´æ¥åˆ æ‰,å¹¶å°†å‰åçš„å…ƒç´ åœ¨ç›¸äº’å…³è”,ä¸ç”¨ç§»åŠ¨å…ƒç´ çš„ä½ç½®</li><li>åŠ£åŠ¿:æŸ¥è¯¢é€Ÿåº¦æ…¢,å› ä¸ºæ²¡æœ‰è¿ç»­ç©ºé—´,æ¯ä¸€ä¸ªå…ƒç´ çŸ¥é“çš„åªæœ‰ä»–çš„å‰ä¸€ä¸ªèŠ‚ç‚¹å’Œåä¸€ä¸ªèŠ‚ç‚¹æ˜¯è°,ä¸çŸ¥é“å…¶ä»–èŠ‚ç‚¹æ˜¯è°,åªèƒ½é€šè¿‡ä»å¤´éå†åˆ°å°¾çš„æ–¹å¼æŸ¥è¯¢</li></ol></li><li>å“ˆå¸Œè¡¨:æ˜¯å¸å–<code>æ•°ç»„</code>ä¸<code>é“¾è¡¨</code>çš„æœ‰ç‚¹å’Œç¼ºç‚¹äº§ç”Ÿ<ol><li>å–é•¿è¡¥çŸ­è¿›è¡Œæ”¹è¿›,æ”¹è¿›åæœ‰<code>æ•°ç»„</code>+<code>é“¾è¡¨</code>æ–¹å¼äº§ç”Ÿäº†<code>å“ˆå¸Œè¡¨çš„æ•°æ®ç»“æ„</code>,å…¨èƒ½å¢åˆ æ”¹æŸ¥æ•ˆç‡éƒ½å¿«(ä½†æ˜¯è·Ÿæ•°ç»„æ¯”èµ·æ¥è¿˜æ˜¯å·®ç‚¹æ„æ€çš„)</li></ol></li><li>æ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼åˆ†ä¸ºä¸¤ç§<ol><li>é¡ºåºå­˜å‚¨ç»“æ„â€“&gt;æ•°ç»„</li><li>é“¾å¼å­˜å‚¨ç»“æ„â€“&gt;é“¾è¡¨</li></ol></li></ol></li></ol><h4 id="2-å“ˆå¸Œè¡¨æ¦‚è¿°"><a href="#2-å“ˆå¸Œè¡¨æ¦‚è¿°" class="headerlink" title="2. å“ˆå¸Œè¡¨æ¦‚è¿°"></a>2. å“ˆå¸Œè¡¨æ¦‚è¿°</h4><blockquote><p>å“ˆå¸Œè¡¨æ˜¯ç”±<code>æ•°ç»„</code>+<code>é“¾è¡¨</code>å®ç°</p></blockquote><h5 id="1-äºŒå‰æ ‘"><a href="#1-äºŒå‰æ ‘" class="headerlink" title="1. äºŒå‰æ ‘"></a>1. äºŒå‰æ ‘</h5><pre><code class="hljs">1. äºŒå‰æ ‘æ˜¯æ ‘å½¢ç»“æ„,ä½¿ç”¨çš„éå¸¸å¤š,ä¸€èˆ¬èˆ¬æƒ…å†µä½¿ç”¨æ—¶æ˜¯é’ˆå¯¹äºç»“æ„è¿›è¡Œå‡çº§ä»¥åŠä½¿ç”¨ç®—æ³•è®¡ç®—å¦‚ä½•åˆ†å‰,ç”±ä¸€ä¸ªèŠ‚ç‚¹åŠä¸¤æ ¹äº’ä¸ç›¸äº¤çš„åˆ†å‰æ¥ä½œä¸ºå·¦å­æ ‘å’Œå³å­æ ‘,å®ç°æ—¶åˆ†ä¸º5ç§å½¢æ€2. äº”ç§äºŒå‰æ ‘å½¢æ€![](./img/18.png)    1. ç¬¬ä¸€ç§æƒ…å†µ:ç©ºæ ‘    2. ç¬¬äºŒç§æƒ…å†µ:ä»…æœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„äºŒå‰æ ‘    3. ç¬¬ä¸‰ç§æƒ…å†µ:ä»…æœ‰å·¦å­æ ‘çš„äºŒå‰æ ‘    4. ç¬¬å››ç§æƒ…å†µ:ä»…æœ‰å³å­æ ‘çš„äºŒå‰æ ‘    5. ç¬¬äº”ç§æƒ…å†µ:æœ‰å·¦å³å­æ ‘çš„éç©ºäºŒå‰æ ‘(å®Œæ•´äºŒå‰æ ‘)2. äºŒå‰æ ‘æ˜¯å¦‚ä½•æ’åºçš„    1. åˆ†ä¸ºå·¦å³å­æ ‘,å·¦å­æ ‘æ•°å­—å°äºä¸Šä¸€ä¸ªèŠ‚ç‚¹,å³å­æ ‘æ•°å­—å¤§äºä¸Šä¸€ä¸ªèŠ‚ç‚¹    2. ä¾‹å¦‚æœ‰è¿™ä¹ˆä¸€ç»„æ•°æ®--&gt;25,14,27,21,19,26    ![](./img/19.png)3. äºŒå‰æ ‘å®ç°äº†æ’åºåŠŸèƒ½å¯ä»¥å¿«é€Ÿçš„æ£€ç´¢,ä½†æ˜¯å¦‚æœæœ¬èº«æ•°æ®æ˜¯æœ‰åºçš„(ä¾‹å¦‚:6,5,4,3,2,1)é‚£ä¹ˆè¿™ç§æ•°æ®å°±ä¼šå€¾å€’å¼çš„ä¸€è¾¹å€’,è¦ä¹ˆå‘å·¦è¦ä¹ˆå‘å³--&gt;ä¸€æ—¦å‘ç”Ÿè¿™ç§æƒ…å†µé‚£å°±æ˜¯æ™®é€šçš„é“¾è¡¨ç»“æ„äº†4. äºŒå‰æ ‘çš„ç¼ºç‚¹æ˜¯ä¸èƒ½æ’åºé¡ºåºæ•°å­—çš„ç»“æ„,ä¸€æ—¦æ’åºåˆ™å˜å›æ™®é€šçš„é“¾è¡¨ç»“æ„ä¾‹å¦‚:æ•°æ®ä¸º(1,2,3,4,5,6)    ![](./img/20.png)</code></pre><h5 id="2-å¹³è¡¡äºŒå‰æ ‘"><a href="#2-å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="2. å¹³è¡¡äºŒå‰æ ‘"></a>2. å¹³è¡¡äºŒå‰æ ‘</h5><blockquote><p>ä¸ºäº†é¿å…äºŒå‰æ ‘å‡ºç°çš„ä¸€è¾¹å€’çš„æƒ…å†µ,ç§‘å­¦å®¶ç ”ç©¶é™¤äº†å¹³è¡¡äºŒå‰æ ‘,æ¯”å¦‚åœ¨åŸæœ‰çš„æ•°æ®å°†æ•°æ®è¿›è¡Œå¹³è¡¡,ä¼šå°†ä¸€ç»„æ•°æ®çš„æ’åºæ–¹å¼æ”¹å˜,å½“å‰å·²çŸ¥çš„æ˜¯ä¸ç®¡æ€ä¹ˆæ’åºæ˜¯ä¸ä¼šå‡ºç°ä¸€è¾¹å€’è¶…å‡ºä¸¤ä¸ªåŠä»¥ä¸ŠèŠ‚ç‚¹çš„æƒ…å†µ,ä½†æ˜¯æ’åºæ—¶æ¬¡æ•°æ˜¯ä¸ç¡®å®š,å½“å‰æœ‰å¯èƒ½æ’åºæ¬¡æ•°æ—©å¾ˆå¤šæ¬¡çš„æƒ…å†µ,å¦‚æœå‡ºç°ä¸å¹³æ’åºæ¬¡æ•°ä¸ç¡®å®š,æœ‰å¯èƒ½ä¼šé‡æ–°å°†æ‰€æœ‰çš„æ•°æ®è¿›è¡Œæ’åº,é€ æˆé€Ÿåº¦æ…¢æƒ…å†µ<br>ç¼ºç‚¹æ˜¯å¦‚æœå‡ºç°äº†æ·»åŠ çš„å…ƒç´ è¿‡å¤šæ—¶ä»–çš„æ’åºæ¬¡æ•°æ˜¯ä¸ç¡®å®šçš„,æœ‰å¯èƒ½ä¼šå‡ºç°é‡æ–°æ’åˆ—æ‰€æœ‰çš„æƒ…å†µ,å¯èƒ½ä¼šé€ æˆæ•ˆç‡ä½å¤šåšæ— ç”¨åŠŸçš„æ“ä½œ,æœ‰é—®é¢˜åˆ™éœ€è¦è§£å†³â€“&gt;ç§‘å­¦å®¶åˆç ”ç©¶é™¤äº†ä¸€ä¸ªå«åšçº¢é»‘äºŒå‰æ ‘çš„ç»“æ„</p></blockquote><h5 id="3-çº¢é»‘äºŒå‰æ ‘"><a href="#3-çº¢é»‘äºŒå‰æ ‘" class="headerlink" title="3. çº¢é»‘äºŒå‰æ ‘"></a>3. çº¢é»‘äºŒå‰æ ‘</h5><blockquote><p>çº¢é»‘äºŒå‰æ ‘æ˜¯ä¸ºäº†è§£å†³å¹³è¡¡äºŒå‰æ ‘é€ æˆçš„ä¸ç¡®å®šç§»åŠ¨æ¬¡æ•°çš„æƒ…å†µ,å‡çº§ç‰ˆæœ¬;çº¢é»‘äºŒå‰æ ‘åˆè¢«ç§°ä¹‹ä¸º<code>çº¢é»‘æ ‘</code>,æ˜¯æœ‰äºŒå‰æ ‘ç»„æˆ,åŒæ—¶æœ‰äº‹ä¸€é¢—è‡ªå¹³è¡¡æ’åºäºŒå‰æ ‘</p></blockquote><ol><li>çº¢é»‘æ ‘åœ¨åŸæœ‰çš„å¹³è¡¡äºŒå‰æ ‘åŸºç¡€ä¸Šå‡çº§äº†å‡ ä¸ªç‰¹ç‚¹<ul><li>æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯<code>çº¢è‰²</code>,è¦ä¹ˆæ˜¯<code>é»‘è‰²</code></li><li>æ ¹èŠ‚ç‚¹å§‹ç»ˆä¿æŒ<code>é»‘è‰²</code></li><li>æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹éƒ½æ˜¯ä¸ºç©ºèŠ‚ç‚¹â€“&gt;null,å¹¶ä¸”å…¨æ˜¯<code>é»‘è‰²</code></li><li>æ¯ä¸ª<code>çº¢è‰²</code>èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯<code>é»‘è‰²</code>,ä½†æ˜¯æ¯ä¸ªå¶å­åˆ°æ ¹çš„è·¯å¾„ä¸Š<code>ä¸ä¼šå‡ºç°ä¸¤ä¸ªè¿ç»­</code>çš„<code>çº¢è‰²</code>èŠ‚ç‚¹</li><li>ä»ä»»æ„èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹ä¸­çš„æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„è·¯å¾„å¯ä»¥åŒ…å«ç›¸åŒæ•°é‡çš„é»‘è‰²èŠ‚ç‚¹</li></ul></li></ol><blockquote><p>é€šè¿‡ä»¥ä¸Šçš„å‡çº§å¾—å‡ºæœ€ç»ˆçš„ç»“è®ºå°±æ˜¯çº¢é»‘æ ‘æœ‰ä¸¤ä¸ªé¢œè‰²,é»‘è‰²å…è®¸é‡å¤,çº¢è‰²ä¸å…è®¸é‡å¤(ä¸Šä¸‹èŠ‚ç‚¹)<br>çº¢é»‘æ ‘çš„æ“ä½œ:æ’å…¥åˆ é™¤,å·¦æ—‹,å³æ—‹,ç€è‰²,æ¯æ¬¡æ’å…¥æˆ–åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹æ—¶éƒ½å¯èƒ½ä¼šå¯¼è‡´ä¸ç¬¦åˆè§„èŒƒçš„æƒ…å†µ(è¶…å‡ºä¸¤ä¸ªèŠ‚ç‚¹çš„èŒƒå›´äº†),çº¢é»‘æ ‘å°±è¿›è¡Œä¿®å¤,ä½¿ç”¨å·¦æ—‹ä¸å³æ—‹å’Œç€è‰²æ“ä½œè¿›è¡Œä¿®å¤,ç”¨äºä¿æŒçº¢é»‘æ ‘çš„ç»“æ„å§‹ç»ˆå¹³è¡¡<br>çº¢é»‘æ ‘åŠ¨ç”»æ¼”ç¤ºé¡µé¢:<code>https://www.cs.usfca.edu/~galles/visualization/RedBlack.html</code></p></blockquote><h5 id="4-äºŒå‰æ ‘-x2F-å¹³è¡¡äºŒå‰æ ‘-x2F-çº¢é»‘äºŒå‰æ ‘"><a href="#4-äºŒå‰æ ‘-x2F-å¹³è¡¡äºŒå‰æ ‘-x2F-çº¢é»‘äºŒå‰æ ‘" class="headerlink" title="4. äºŒå‰æ ‘&#x2F;å¹³è¡¡äºŒå‰æ ‘&#x2F;çº¢é»‘äºŒå‰æ ‘"></a>4. äºŒå‰æ ‘&#x2F;å¹³è¡¡äºŒå‰æ ‘&#x2F;çº¢é»‘äºŒå‰æ ‘</h5><ol><li>äºŒå‰æ ‘åŸºäºé“¾è¡¨,ä¸ºäº†è§£å†³é“¾è¡¨çš„æŸ¥è¯¢é—®é¢˜è€Œç”Ÿ,å­˜åœ¨çš„é—®é¢˜,å¦‚æœæ•°æ®æ˜¯é€’å¢çš„åˆ™ä¼šå‡ºç°ä¸€è¾¹å€’çš„æƒ…å†µ,ç›¸å½“äºæœ€ç»ˆè¿˜æ˜¯é“¾è¡¨ç»“æ„,ä¸æ˜¯äºŒå‰æ ‘ç»“æ„æ¢</li><li>å¹³è¡¡äºŒå‰æ ‘åŸºäºäºŒå‰æ ‘ä¸ºäº†è§£å†³å‡ºç°ä¸€è¾¹å€’çš„æƒ…å†µè€Œç”Ÿ,æ’åºæ—¶ä¼šæ ¹æ®æ•°æ®çš„ç»“æ„è¿›è¡Œè‡ªåŠ¨å¹³è¡¡(ä¸ä¼šè¶…è¿‡2ä¸ªå¤šèŠ‚ç‚¹,ä¸€æ—¦è¶…è¿‡åˆ™é‡æ–°æ’åº),ä½†æ˜¯ä¹Ÿæœ‰é—®é¢˜,å¦‚æœæ•°æ®è¿‡å¤šåœ¨æ’åºè¿‡ç¨‹ä¸­å®¹æ˜“å‡ºç°æ•´ä½“æ’åº(æ— æ³•ç¡®å®šæ’åºæ¬¡æ•°)å¯èƒ½é€ æˆå½±å“æ€§èƒ½çš„é—®é¢˜</li><li>çº¢é»‘äºŒå‰æ ‘åŸºäºå¹³è¡¡äºŒå‰æ ‘,æ˜¯å‡çº§ç‰ˆæœ¬,ä¸ºäº†è§£å†³å¹³è¡¡äºŒå‰æ ‘æ’åºè¿‡ç¨‹ä¸­å‡ºç°æœªçŸ¥æ’åºæ¬¡æ•°é€ æˆçš„æ€§èƒ½é—®é¢˜è€Œç”Ÿ,ä½¿ç”¨<code>çº¢</code>&#x2F;<code>é»‘</code>ä¸¤è‰²ç”¨äºè¿›è¡Œæ ‡è¯†,å¹¶ä¸”æ°¸è¿œä¸ä¼šå‡ºç°è¿ç»­çš„<code>çº¢è‰²</code>,<code>é»‘è‰²</code>æ˜¯ä¼šå‡ºç°è¿ç»­æƒ…å†µ,å¹¶ä¸”<code>é»‘è‰²</code>å§‹ç»ˆéƒ½ä¼šæ¯”<code>çº¢è‰²</code>å¤š</li></ol><h4 id="3-Hash-Mapæ„é€ æ–¹æ³•"><a href="#3-Hash-Mapæ„é€ æ–¹æ³•" class="headerlink" title="3. Hash Mapæ„é€ æ–¹æ³•"></a>3. Hash Mapæ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä½¿ç”¨ç©ºå‚æ„é€ æ–¹æ³•åˆ›å»ºMapé›†åˆ,ä¼šæœ‰é»˜è®¤å®¹é‡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">HashMap</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">this</span>.loadFactor = DEFAULT_LOAD_FACTOR; <span class="hljs-comment">// all other fields defaulted</span><br>&#125;<br><span class="hljs-comment">// æŒ‡å®šåˆå§‹åŒ–å®¹é‡åˆ›å»ºMapé›†åˆ</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">HashMap</span><span class="hljs-params">(<span class="hljs-type">int</span> initialCapacity)</span> &#123;<br>    <span class="hljs-built_in">this</span>(initialCapacity, DEFAULT_LOAD_FACTOR);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-HashMapå¸¸ç”¨æ–¹æ³•â€“-gt-ç”±äºHashMapä½¿ç”¨çš„éƒ½æ˜¯ä»–çˆ¹Mapæ¥å£çš„æ–¹æ³•-æ‰€ä»¥æ–¹æ³•ä¸€è‡´"><a href="#4-HashMapå¸¸ç”¨æ–¹æ³•â€“-gt-ç”±äºHashMapä½¿ç”¨çš„éƒ½æ˜¯ä»–çˆ¹Mapæ¥å£çš„æ–¹æ³•-æ‰€ä»¥æ–¹æ³•ä¸€è‡´" class="headerlink" title="4. HashMapå¸¸ç”¨æ–¹æ³•â€“&gt;ç”±äºHashMapä½¿ç”¨çš„éƒ½æ˜¯ä»–çˆ¹Mapæ¥å£çš„æ–¹æ³•,æ‰€ä»¥æ–¹æ³•ä¸€è‡´"></a>4. HashMapå¸¸ç”¨æ–¹æ³•â€“&gt;ç”±äºHashMapä½¿ç”¨çš„éƒ½æ˜¯ä»–çˆ¹Mapæ¥å£çš„æ–¹æ³•,æ‰€ä»¥æ–¹æ³•ä¸€è‡´</h4><ul><li><code>V put(K key, V value)</code>:å‘Mapé›†åˆä¸­æ·»åŠ é”®å€¼å¯¹å…ƒç´ ,ä¸å­˜åœ¨åˆ™æ·»åŠ ,å¦‚æœKey(é”®)é‡å¤åˆ™ä¿®æ”¹åŸæœ‰å†…å®¹(ä¸æ˜¯é‡æ–°æ·»åŠ è¦†ç›–),å¹¶è¿”å›æ·»åŠ çš„Value(å€¼)å†…å®¹<ol><li>key:é”®</li><li>value:å€¼</li></ol></li><li><code>V get(Object key)</code>:æŒ‡å®šKey(é”®)è·å–Value(å€¼)</li><li><code>V remove(Object key)</code>:æŒ‡å®šKey(é”®)ç§»é™¤<code>Key(é”®)Value(å€¼)</code>â€“&gt;ç§»é™¤é”®å€¼å¯¹</li><li><code>boolean containsKey(Object key)</code>:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„æŒ‡å®šKey(é”®)</li><li><code>boolean containsValue(Object value)</code>:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„Value(å€¼)</li><li><code>Collection&lt;V&gt; values()</code>:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Value(å€¼)</li><li><code>boolean isEmpty()</code>:åˆ¤æ–­Mapé›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>void clear()</code>:æ¸…ç©ºMapé›†åˆå…ƒç´ </li><li><code>int size()</code>:è¿”å›Mapé›†åˆçš„å…ƒç´ æ•°é‡(Key-Valueä»£è¡¨ä¸€ä¸ª)</li><li><code>Set&lt;K&gt; keySet()</code>:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key(é”®)å€¼</li><li><code>Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()</code>:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key-Valueâ€“&gt;è¿”å›æ‰€æœ‰é”®å€¼å¯¹</li></ul><h4 id="5-HashMapé›†åˆä»£ç æ¡ˆä¾‹"><a href="#5-HashMapé›†åˆä»£ç æ¡ˆä¾‹" class="headerlink" title="5. HashMapé›†åˆä»£ç æ¡ˆä¾‹"></a>5. HashMapé›†åˆä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MapDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºMapé›†åˆ,ä½¿ç”¨å…¶å­ç±»HashMapåˆ›å»º--&gt;å¤šæ€åˆ›å»ºæ–¹å¼</span><br>        <span class="hljs-comment">// å¸¸ç”¨Mapæ³›å‹ç»“æ„Map&lt;String, Object&gt;,Map&lt;String, String&gt;</span><br>        Map&lt;String, String&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `V put(K key, V value)`:å‘Mapé›†åˆä¸­æ·»åŠ é”®å€¼å¯¹å…ƒç´ ,ä¸å­˜åœ¨åˆ™æ·»åŠ ,å¦‚æœKey(é”®)é‡å¤åˆ™ä¿®æ”¹åŸæœ‰å†…å®¹(ä¸æ˜¯é‡æ–°æ·»åŠ ),å¹¶è¿”å›æ·»åŠ çš„Value(å€¼)å†…å®¹</span><br>        <span class="hljs-comment">// 1. key:é”®</span><br>        <span class="hljs-comment">// 2. value:å€¼</span><br>        <span class="hljs-comment">// map.put(&quot;772004123055&quot;, &quot;å½­äºæ™&quot;);</span><br>        <span class="hljs-comment">// map.put(&quot;771914123055&quot;, &quot;è‚å°å€©&quot;);</span><br>        <span class="hljs-comment">// map.put(&quot;771999123055&quot;, &quot;è‚å°å€©&quot;);</span><br>        <span class="hljs-comment">// // 771989123055æ˜¯åˆ˜äº¦è²</span><br>        <span class="hljs-comment">// map.put(&quot;771989123055&quot;, &quot;åˆ˜äº¦è²&quot;);</span><br>        <span class="hljs-comment">// é‡å¤æ·»åŠ ç›¸åŒçš„Key771989123055</span><br>        <span class="hljs-comment">// å¦‚æœKeyé‡å¤åˆ™ä¿®æ”¹åŸæœ‰çš„Valueå€¼,è€Œä¸æ˜¯è¦†ç›–Key-Value</span><br>        map.put(<span class="hljs-string">&quot;e&quot;</span>, <span class="hljs-string">&quot;è‹è€å¸ˆ&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;d&quot;</span>, <span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;è‚å°å€©&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;è‚å°å€©&quot;</span>);<br>        <span class="hljs-comment">// 771989123055æ˜¯åˆ˜äº¦è²</span><br>        map.put(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;åˆ˜äº¦è²&quot;</span>);<br>        <span class="hljs-comment">// é‡å¤æ·»åŠ ç›¸åŒçš„Key771989123055</span><br>        <span class="hljs-comment">// å¦‚æœKeyé‡å¤åˆ™ä¿®æ”¹åŸæœ‰çš„Valueå€¼,è€Œä¸æ˜¯è¦†ç›–Key-Value</span><br>        map.put(<span class="hljs-string">&quot;f&quot;</span>, <span class="hljs-string">&quot;è‹è€å¸ˆ&quot;</span>);<br>        System.out.println(map);<br>        <span class="hljs-comment">// 1. `V get(Object key)`:æŒ‡å®šKey(é”®)è·å–Value(å€¼)</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> map.get(<span class="hljs-string">&quot;a&quot;</span>);<br>        System.out.println(value);<br>        <span class="hljs-comment">// è·å–æ²¡æœ‰çš„å€¼æ—¶æ˜¯æŠ¥é”™è¿˜æ˜¯è¿”å›null?</span><br>        value = map.get(<span class="hljs-string">&quot;aa&quot;</span>);<br>        System.out.println(value);<br>        <span class="hljs-comment">// ç¬¬äºŒä¸ªgetOrDefault,å½“è·å–çš„keyä¸å­˜åœ¨æ—¶è¿”å›defaultValue--&gt;è¿”å›è®¾ç½®é»˜è®¤å€¼</span><br>        value = map.getOrDefault(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;ä¸å­˜åœ¨&quot;</span>);<br>        System.out.println(value);<br>        value = map.getOrDefault(<span class="hljs-string">&quot;aa&quot;</span>, <span class="hljs-string">&quot;ä¸å­˜åœ¨&quot;</span>);<br>        System.out.println(value);<br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        <span class="hljs-comment">// 2. `V remove(Object key)`:æŒ‡å®šKey(é”®)ç§»é™¤`Key(é”®)Value(å€¼)`--&gt;ç§»é™¤é”®å€¼å¯¹</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">remove</span> <span class="hljs-operator">=</span> map.remove(<span class="hljs-string">&quot;a&quot;</span>);<br>        System.out.println(remove);<br>        System.out.println(map);<br>        <span class="hljs-comment">// 3. `boolean containsKey(Object key)`:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„æŒ‡å®šKey(é”®)</span><br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isContainsKey</span> <span class="hljs-operator">=</span> map.containsKey(<span class="hljs-string">&quot;f&quot;</span>);<br>        System.out.println(isContainsKey);<br>        isContainsKey = map.containsKey(<span class="hljs-string">&quot;ff&quot;</span>);<br>        System.out.println(isContainsKey);<br>        <span class="hljs-comment">// 4. `boolean containsValue(Object value)`:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„Value(å€¼)</span><br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">isContainsValue</span> <span class="hljs-operator">=</span> map.containsValue(<span class="hljs-string">&quot;è‹è€å¸ˆ&quot;</span>);<br>        System.out.println(isContainsValue);<br>        isContainsValue = map.containsValue(<span class="hljs-string">&quot;å°æ³½è€å¸ˆ&quot;</span>);<br>        System.out.println(isContainsValue);<br>        <span class="hljs-comment">// 5. `Collection&lt;V&gt; values()`:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Value(å€¼)</span><br>        Collection&lt;String&gt; values = map.values();<br>        System.out.println(values);<br>        <span class="hljs-comment">// 6. `boolean isEmpty()`:åˆ¤æ–­Mapé›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(map.isEmpty());<br>        <span class="hljs-comment">// 8. `int size()`:è¿”å›Mapé›†åˆçš„å…ƒç´ æ•°é‡(Key-Valueä»£è¡¨ä¸€ä¸ª)</span><br>        System.out.println(map.size());<br>        <span class="hljs-comment">// Mapé›†åˆçš„éå†åªèƒ½é€šè¿‡keySetå’ŒentrySetéå†</span><br>        <span class="hljs-comment">// 9. `Set&lt;K&gt; keySet()`:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key(é”®)å€¼</span><br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        Set&lt;String&gt; keySet = map.keySet();<br>        <span class="hljs-comment">// ä½¿ç”¨å¢å¼ºforå¾ªç¯éå†keySet</span><br>        <span class="hljs-keyword">for</span> (String key : keySet) &#123;<br>            <span class="hljs-comment">// éå†keyå¹¶ä½¿ç”¨keyè·å–value</span><br>            System.out.println(<span class="hljs-string">&quot;key:&quot;</span> + key + <span class="hljs-string">&quot;,value:&quot;</span> + map.get(key));<br>        &#125;<br>        <span class="hljs-comment">// 10. `Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()`:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key-Value--&gt;è¿”å›æ‰€æœ‰é”®å€¼å¯¹</span><br>        <span class="hljs-comment">// Map.Entry--&gt;Entryæ˜¯Mapæ¥å£ä¸­çš„å†…éƒ¨æ¥å£,ä½œç”¨å°±æ˜¯è¿”å›Mapé›†åˆä¸­çš„Key-Value--&gt;è¿”å›é”®å€¼å¯¹</span><br>        <span class="hljs-comment">// Entryæ¥å£ä¸­æœ‰ä¸¤ä¸ªæ–¹æ³•,ä¸€ä¸ªgetKey(è·å–key)ä¸€ä¸ªæ˜¯getValue(è·å–value)</span><br>        System.out.println(<span class="hljs-string">&quot;======================================================&quot;</span>);<br>        Set&lt;Map.Entry&lt;String, String&gt;&gt; entrySet = map.entrySet();<br>        <span class="hljs-comment">// éå†Seté›†åˆ</span><br>        <span class="hljs-keyword">for</span> (Map.Entry&lt;String, String&gt; entry : entrySet) &#123;<br>            <span class="hljs-comment">// æ‰“å°ç»“æœ</span><br>            System.out.println(<span class="hljs-string">&quot;key:&quot;</span> + entry.getKey() + <span class="hljs-string">&quot;,value:&quot;</span> + entry.getValue());<br>        &#125;<br>        <span class="hljs-comment">// 7. `void clear()`:æ¸…ç©ºMapé›†åˆå…ƒç´ </span><br>        map.clear();<br>        System.out.println(map);<br>        System.out.println(map.size());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="6-HashMapçš„å®ç°æ˜¯ä»€ä¹ˆ"><a href="#6-HashMapçš„å®ç°æ˜¯ä»€ä¹ˆ" class="headerlink" title="6. HashMapçš„å®ç°æ˜¯ä»€ä¹ˆ?"></a>6. HashMapçš„å®ç°æ˜¯ä»€ä¹ˆ?</h4><h5 id="1-HashMapJDK1-7è·ŸJDK1-8çš„åˆ‡æ¢çº¢é»‘æ ‘åŸç åˆ†æ"><a href="#1-HashMapJDK1-7è·ŸJDK1-8çš„åˆ‡æ¢çº¢é»‘æ ‘åŸç åˆ†æ" class="headerlink" title="1. HashMapJDK1.7è·ŸJDK1.8çš„åˆ‡æ¢çº¢é»‘æ ‘åŸç åˆ†æ"></a>1. HashMapJDK1.7è·ŸJDK1.8çš„åˆ‡æ¢<code>çº¢é»‘æ ‘</code>åŸç åˆ†æ</h5><ol><li>HashMapçš„å®ç°JDK1.7è·ŸJDK1.8ä¸åŒ,JDK1.7ä¸­HashMapæ˜¯ä½¿ç”¨<code>æ•°ç»„</code>åŠ <code>é“¾è¡¨</code>çš„ç»“åˆä½“å®ç°,JDK1.8æ˜¯<code>æ•°ç»„</code>åŠ <code>é“¾è¡¨</code>åŠ <code>çº¢é»‘æ ‘</code>å®ç°,JDK1.7ä¹‹å‰åªèƒ½ä½¿ç”¨æ•°ç»„åŠ é“¾è¡¨çš„å®ç°,JDK1.8ååœ¨æ•°æ®é‡å°‘çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯<code>æ•°ç»„</code>åŠ <code>é“¾è¡¨</code>å®ç°,è€Œå½“æ•°ç»„å­˜å‚¨åˆ°8ä¸ªé•¿åº¦æ—¶åˆ™æ›´æ”¹ä¸º<code>æ•°ç»„</code>åŠ <code>çº¢é»‘æ ‘</code>å®ç°</li><li>æŸ¥çœ‹HashMapå…·ä½“å®ç°â€“&gt;putæ–¹æ³•,ä»€ä¹ˆæ—¶å€™ç”¨æ•°ç»„åŠ é“¾è¡¨,ä»€ä¹ˆæ—¶å€™ç”¨æ•°ç»„åŠ çº¢é»‘æ ‘,ä»¥åŠä¸ºä»€ä¹ˆKeyä¸èƒ½é‡å¤æ˜¯å¦‚ä½•å®ç°çš„</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// æ˜¯å¦ä½¿ç”¨çº¢é»‘æ ‘çš„é˜ˆå€¼--&gt;å¦‚æœé•¿åº¦æ˜¯åœ¨8ä»¥å†…,ä½¿ç”¨çš„æ˜¯JDK1.8çš„æ•°ç»„åŠ é“¾è¡¨,å¦‚æœæ˜¯8ä»¥ä¸Šåˆ™ä½¿ç”¨æ•°ç»„åŠ çº¢é»‘æ ‘</span><br><span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">TREEIFY_THRESHOLD</span> <span class="hljs-operator">=</span> <span class="hljs-number">8</span>;<br><span class="hljs-comment">// HashMapçš„æ™®é€šæ–¹æ³•</span><br><span class="hljs-keyword">public</span> V <span class="hljs-title function_">put</span><span class="hljs-params">(K key, V value)</span> &#123;<br>    <span class="hljs-comment">// è°ƒç”¨putValæ–¹æ³•</span><br>    <span class="hljs-keyword">return</span> putVal(hash(key), key, value, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>);<br>&#125;<br><span class="hljs-keyword">final</span> V <span class="hljs-title function_">putVal</span><span class="hljs-params">(<span class="hljs-type">int</span> hash, K key, V value, <span class="hljs-type">boolean</span> onlyIfAbsent, <span class="hljs-type">boolean</span> evict)</span> &#123;<br>    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="hljs-type">int</span> n, i;<br>    <span class="hljs-keyword">if</span> ((tab = table) == <span class="hljs-literal">null</span> || (n = tab.length) == <span class="hljs-number">0</span>)<br>        n = (tab = resize()).length;<br>    <span class="hljs-keyword">if</span> ((p = tab[i = (n - <span class="hljs-number">1</span>) &amp; hash]) == <span class="hljs-literal">null</span>)<br>        tab[i] = newNode(hash, key, value, <span class="hljs-literal">null</span>);<br>    <span class="hljs-keyword">else</span> &#123;<br>        Node&lt;K,V&gt; e; K k;<br>        <span class="hljs-keyword">if</span> (p.hash == hash &amp;&amp;<br>            ((k = p.key) == key || (key != <span class="hljs-literal">null</span> &amp;&amp; key.equals(k))))<br>            e = p;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p <span class="hljs-keyword">instanceof</span> TreeNode)<br>            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="hljs-built_in">this</span>, tab, hash, key, value);<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// å¾ªç¯éªŒè¯å½“å‰æ•°ç»„ä¸­çš„æ•°æ®æ˜¯æœ‰å¤šå°‘</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">binCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; ; ++binCount) &#123;<br>                <span class="hljs-comment">// å°†p.nextæŒ‡å‘çš„åœ°å€èµ‹å€¼ç»™eå˜é‡,å¹¶åˆ¤æ–­æ˜¯å¦ä¸ºnull</span><br>                <span class="hljs-keyword">if</span> ((e = p.next) == <span class="hljs-literal">null</span>) &#123;<br>                    <span class="hljs-comment">// å¦‚æœä¸ºnullåˆ™è¿›å…¥</span><br>                    <span class="hljs-comment">// è°ƒç”¨newNodeæ–¹æ³•åˆ›å»ºæ–°èŠ‚ç‚¹,å¹¶èµ‹å€¼ç»™p.nextä»£è¡¨ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡å‘ä½ç½®,æœ€åä¸€ä¸ªèŠ‚ç‚¹</span><br>                    p.next = newNode(hash, key, value, <span class="hljs-literal">null</span>);<br>                    <span class="hljs-comment">// ç”¨å¾ªç¯åˆ¤æ–­å½“å‰äºŒå‰æ ‘ç»Ÿè®¡çš„æ¬¡æ•°æ˜¯å¦å¤§äºç­‰äº7</span><br>                    <span class="hljs-keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="hljs-number">1</span>)<br>                        <span class="hljs-comment">// å¦‚æœbinCountå¤§äºç­‰äº7åˆ™ä»£è¡¨å½“å‰å­˜çš„æ•°æ®å·²ç»æ˜¯8æ¡,è°ƒç”¨treeifyBinæ–¹æ³•ä½¿ç”¨çº¢é»‘æ ‘</span><br>                        treeifyBin(tab, hash);<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                <span class="hljs-keyword">if</span> (e.hash == hash &amp;&amp;<br>                    ((k = e.key) == key || (key != <span class="hljs-literal">null</span> &amp;&amp; key.equals(k))))<br>                    <span class="hljs-keyword">break</span>;<br>                p = e;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (e != <span class="hljs-literal">null</span>) &#123; <span class="hljs-comment">// existing mapping for key</span><br>            <span class="hljs-type">V</span> <span class="hljs-variable">oldValue</span> <span class="hljs-operator">=</span> e.value;<br>            <span class="hljs-keyword">if</span> (!onlyIfAbsent || oldValue == <span class="hljs-literal">null</span>)<br>                e.value = value;<br>            afterNodeAccess(e);<br>            <span class="hljs-keyword">return</span> oldValue;<br>        &#125;<br>    &#125;<br>    ++modCount;<br>    <span class="hljs-keyword">if</span> (++size &gt; threshold)<br>        resize();<br>    afterNodeInsertion(evict);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br><span class="hljs-comment">// ä¸Šæ–¹åˆ¤æ–­å¦‚æœå¤§äºç­‰äº7åˆ™ä½¿ç”¨çº¢é»‘æ ‘çš„ä»£ç </span><br><span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">treeifyBin</span><span class="hljs-params">(Node&lt;K,V&gt;[] tab, <span class="hljs-type">int</span> hash)</span> &#123;<br>    <span class="hljs-type">int</span> n, index; Node&lt;K,V&gt; e;<br>    <span class="hljs-keyword">if</span> (tab == <span class="hljs-literal">null</span> || (n = tab.length) &lt; MIN_TREEIFY_CAPACITY)<br>        resize();<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((e = tab[index = (n - <span class="hljs-number">1</span>) &amp; hash]) != <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-comment">// åˆ›å»ºçš„å°±æ˜¯çº¢é»‘æ ‘</span><br>        TreeNode&lt;K,V&gt; hd = <span class="hljs-literal">null</span>, tl = <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">do</span> &#123;<br>            <span class="hljs-comment">// çœŸå®åˆ›å»ºçº¢é»‘æ ‘å¹¶èµ‹å€¼</span><br>            TreeNode&lt;K,V&gt; p = replacementTreeNode(e, <span class="hljs-literal">null</span>);<br>            <span class="hljs-keyword">if</span> (tl == <span class="hljs-literal">null</span>)<br>                hd = p;<br>            <span class="hljs-keyword">else</span> &#123;<br>                p.prev = tl;<br>                tl.next = p;<br>            &#125;<br>            tl = p;<br>        &#125; <span class="hljs-keyword">while</span> ((e = e.next) != <span class="hljs-literal">null</span>);<br>        <span class="hljs-keyword">if</span> ((tab[index] = hd) != <span class="hljs-literal">null</span>)<br>            hd.treeify(tab);<br>    &#125;<br>&#125;<br><span class="hljs-comment">// çº¢é»‘æ ‘å†…éƒ¨ç±»</span><br><span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeNode</span>&lt;K,V&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">LinkedHashMap</span>.Entry&lt;K,V&gt; &#123;<br>    <span class="hljs-comment">// parentæ˜¯çº¢é»‘æ ‘çš„çˆ¶çº§è¿æ¥</span><br>    TreeNode&lt;K,V&gt; parent;  <span class="hljs-comment">// red-black tree links</span><br>    <span class="hljs-comment">// leftæ˜¯çº¢é»‘æ ‘çš„å·¦å­æ ‘</span><br>    TreeNode&lt;K,V&gt; left;<br>    <span class="hljs-comment">// rightæ˜¯çº¢é»‘æ ‘çš„å³å­æ ‘</span><br>    TreeNode&lt;K,V&gt; right;<br>    <span class="hljs-comment">// prevç”¨äºè¿æ¥èŠ‚ç‚¹,æœ‰åˆ©äºåˆ é™¤</span><br>    TreeNode&lt;K,V&gt; prev;    <span class="hljs-comment">// needed to unlink next upon deletion</span><br>    <span class="hljs-comment">// redç”¨äºè®°å½•å½“å‰èŠ‚ç‚¹æ˜¯çº¢æ ‘è¿˜æ˜¯é»‘æ ‘</span><br>    <span class="hljs-type">boolean</span> red;<br>    TreeNode(<span class="hljs-type">int</span> hash, K key, V val, Node&lt;K,V&gt; next) &#123;<br>        <span class="hljs-built_in">super</span>(hash, key, val, next);<br>    &#125;<br>    <span class="hljs-comment">// ...çœç•¥nè¡Œå®ç°ä»£ç </span><br>&#125;<br></code></pre></td></tr></table></figure><h5 id="2-HashMapçš„putæ–¹æ³•ä¸ºä½•ä¸èƒ½æ·»åŠ é‡å¤çš„keyæºç åˆ†æ"><a href="#2-HashMapçš„putæ–¹æ³•ä¸ºä½•ä¸èƒ½æ·»åŠ é‡å¤çš„keyæºç åˆ†æ" class="headerlink" title="2. HashMapçš„putæ–¹æ³•ä¸ºä½•ä¸èƒ½æ·»åŠ é‡å¤çš„keyæºç åˆ†æ"></a>2. HashMapçš„putæ–¹æ³•ä¸ºä½•ä¸èƒ½æ·»åŠ é‡å¤çš„keyæºç åˆ†æ</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">final</span> V <span class="hljs-title function_">putVal</span><span class="hljs-params">(<span class="hljs-type">int</span> hash, K key, V value, <span class="hljs-type">boolean</span> onlyIfAbsent, <span class="hljs-type">boolean</span> evict)</span> &#123;<br>    <span class="hljs-comment">// å£°æ˜NodeèŠ‚ç‚¹æ•°ç»„</span><br>    HashMap.Node&lt;K, V&gt;[] tab;<br>    <span class="hljs-comment">// å£°æ˜NodeèŠ‚ç‚¹å¯¹è±¡</span><br>    HashMap.Node&lt;K, V&gt; p;<br>    <span class="hljs-comment">// å£°æ˜ä¸¤ä¸ªintå˜é‡</span><br>    <span class="hljs-type">int</span> n, i;<br>    <span class="hljs-comment">// å°†tableæ•°æ®èµ‹å€¼ç»™tabç„¶ååˆ¤æ–­æ˜¯å¦ç­‰äºnull</span><br>    <span class="hljs-comment">// å¦‚æœtabä¸ç­‰äºnullåˆ™è®²tab.lengthèµ‹å€¼nå˜é‡ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦ä¸º0</span><br>    <span class="hljs-keyword">if</span> ((tab = table) == <span class="hljs-literal">null</span> || (n = tab.length) == <span class="hljs-number">0</span>)<br>        <span class="hljs-comment">// é‡æ–°è®¾ç½®é•¿åº¦--ã€‹ç„¶ååˆ›å»ºå¯¹è±¡å¹¶è¿”å›</span><br>        <span class="hljs-comment">// è¿”å›å¯¹è±¡ååˆè·å–æ•°ç»„çš„é•¿åº¦--&gt;èµ‹å€¼ç»™n</span><br>        n = (tab = resize()).length;<br>    <span class="hljs-comment">// hashæ˜¯è°ƒç”¨æ–¹æ³•è®¡ç®—è€Œæ¥</span><br>    <span class="hljs-comment">// è®²næ•°ç»„é•¿åº¦-1ï¼Œå¹¶ä½¿ç”¨æŒ‰ä½ä¸hashè®¡ç®—ï¼Œå°†æœ€ç»ˆçš„å€¼èµ‹å€¼ç»™iï¼ˆèµ‹å€¼åå¦‚æœæ•°å­—ç›¸åŒåˆ™ç›´æ¥å‘åç»§ç»­æ·»åŠ ï¼‰</span><br>    <span class="hljs-comment">// tab[i = (n - 1) &amp; hash]--&gt;ä¾‹å¦‚keyæ˜¯name,æœ€ç»ˆè®¡ç®—å‡ºçš„å€¼ä¸º8ï¼Œè®²æ•°ç»„ä¸‹æ ‡ä¸º8çš„æ•°æ®å–å‡º</span><br>    <span class="hljs-comment">// p--&gt;NodeèŠ‚ç‚¹å¯¹è±¡ï¼Œåˆ¤æ–­æ˜¯å¦ç­‰äºnull</span><br>    <span class="hljs-keyword">if</span> ((p = tab[i = (n - <span class="hljs-number">1</span>) &amp; hash]) == <span class="hljs-literal">null</span>)<br>        <span class="hljs-comment">// å¦‚æœç­‰äºnullåˆ›å»ºNodeèŠ‚ç‚¹å¯¹è±¡èµ‹å€¼è¿›å»</span><br>        tab[i] = newNode(hash, key, value, <span class="hljs-literal">null</span>);<br>    <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// å£°æ˜äº†ä¸€ä¸ªNodeèŠ‚ç‚¹å¯¹è±¡e</span><br>        HashMap.Node&lt;K, V&gt; e;<br>        <span class="hljs-comment">// Keyçš„æ³›å‹åç§°</span><br>        K k;<br>        <span class="hljs-comment">// p.hash == hashä¸‹ä¸€è¡Œæ˜¯è§£é‡Š</span><br>        <span class="hljs-comment">// p.hashæ˜¯å½“å‰tab[i]Nodeæ•°ç»„ä¸‹æ ‡ä¸­çš„å€¼ï¼Œhashæ˜¯ä¼ å…¥çš„Keyå€¼å¦‚æœç›¸åŒåˆ™ä»£è¡¨å½“å‰ä»–ä»¬å¯èƒ½æ˜¯ç›¸åŒæ•°æ®</span><br>        <span class="hljs-comment">// (k = p.key) == key--ã€‹åŸºæœ¬æ•°æ®ç±»å‹</span><br>        <span class="hljs-comment">// å°†tab[i]Nodeæ•°ç»„ä¸‹æ ‡ä¸­çš„å€¼--ã€‹p.key=åŸæœ¬å¯èƒ½å­˜åœ¨çš„keyï¼Œä¸ä¼ å…¥çš„keyå¯¹æ¯”(åŸºæœ¬æ•°æ®ç±»å‹)</span><br>        <span class="hljs-comment">// key != null &amp;&amp; key.equals(k)</span><br>        <span class="hljs-comment">// å…ˆéªŒè¯ä¼ å…¥çš„keyæ˜¯å¦ä¸ºnullå¦‚æœä¸æ˜¯åˆ™ä½¿ç”¨key.equals()å¯¹æ¯”å†…å®¹æ˜¯å¦ç›¸åŒ</span><br>        <span class="hljs-comment">// è¿™é‡Œæ˜¯éªŒè¯ä¼ å…¥Keyæ˜¯å¦å·²å­˜åœ¨çš„æ ¹æœ¬ä½ç½®</span><br>        <span class="hljs-keyword">if</span> (p.hash == hash &amp;&amp; ((k = p.key) == key || (key != <span class="hljs-literal">null</span> &amp;&amp; key.equals(k))))<br>            <span class="hljs-comment">// ç”¨pèŠ‚ç‚¹èµ‹å€¼ç»™eèŠ‚ç‚¹</span><br>            e = p;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p <span class="hljs-keyword">instanceof</span> HashMap.TreeNode)<br>            e = ((HashMap.TreeNode&lt;K, V&gt;) p).putTreeVal(<span class="hljs-built_in">this</span>, tab, hash, key, value);<br>        <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// å¦‚æœhashç›¸åŒè€Œequalsä¸åŒåˆ™è¿›å…¥è¿™é‡Œæ‰§è¡Œ</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">binCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; ; ++binCount) &#123;<br>                <span class="hljs-comment">// p.next--&gt;æŒ‡å‘çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ç»™e</span><br>                <span class="hljs-keyword">if</span> ((e = p.next) == <span class="hljs-literal">null</span>) &#123;<br>                    <span class="hljs-comment">// å°†åˆ›å»ºçš„æ–°èŠ‚ç‚¹åœ°å€èµ‹å€¼ç»™p.nextçš„æŒ‡å‘</span><br>                    p.next = newNode(hash, key, value, <span class="hljs-literal">null</span>);<br>                    <span class="hljs-keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="hljs-number">1</span>) <span class="hljs-comment">// -1 for 1st</span><br>                        treeifyBin(tab, hash);<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                <span class="hljs-comment">// ä¸ä¸Šé¢çš„éªŒè¯ç›¸åŒ</span><br>                <span class="hljs-keyword">if</span> (e.hash == hash &amp;&amp; ((k = e.key) == key || (key != <span class="hljs-literal">null</span> &amp;&amp; key.equals(k))))<br>                    <span class="hljs-keyword">break</span>;<br>                p = e;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// éªŒè¯eèŠ‚ç‚¹æ˜¯å¦ä¸ä¸ºnull</span><br>        <span class="hljs-keyword">if</span> (e != <span class="hljs-literal">null</span>) &#123;<br>            <span class="hljs-comment">// å°†valueèµ‹å€¼ç»™oldValueï¼ˆè€å€¼ï¼‰</span><br>            <span class="hljs-type">V</span> <span class="hljs-variable">oldValue</span> <span class="hljs-operator">=</span> e.value;<br>            <span class="hljs-comment">// åˆ¤æ–­oldValueæ˜¯å¦ä¸ºnull</span><br>            <span class="hljs-comment">// æ˜¯putæ–¹æ³•è°ƒç”¨çš„ä¼ å…¥çš„å€¼ï¼Œä¼ å…¥é»˜è®¤å°±æ˜¯false</span><br>            <span class="hljs-keyword">if</span> (!onlyIfAbsent || oldValue == <span class="hljs-literal">null</span>)<br>                <span class="hljs-comment">// å°†è°ƒç”¨putæ—¶ä¼ å…¥çš„å€¼ç›´æ¥èµ‹å€¼ç»™e.value</span><br>                e.value = value;<br>            <span class="hljs-comment">// è¿™ä¸ªæ–¹æ³•å°±æ˜¯å°†eèŠ‚ç‚¹å¯¹è±¡é‡æ–°èµ‹å€¼åˆ°èŠ‚ç‚¹æ•°ç»„ä¸­</span><br>            afterNodeAccess(e);<br>            <span class="hljs-comment">// è¿”å›ä¿®æ”¹å‰çš„å€¼</span><br>            <span class="hljs-keyword">return</span> oldValue;<br>        &#125;<br>    &#125;<br>    ++modCount;<br>    <span class="hljs-keyword">if</span> (++size &gt; threshold)<br>        resize();<br>    afterNodeInsertion(evict);<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Mapæ¥å£ä¹‹LinkedHashMapç±»"><a href="#Mapæ¥å£ä¹‹LinkedHashMapç±»" class="headerlink" title="Mapæ¥å£ä¹‹LinkedHashMapç±»"></a>Mapæ¥å£ä¹‹LinkedHashMapç±»</h3><h4 id="1-LinkedHashMapç±»æ¦‚è¿°"><a href="#1-LinkedHashMapç±»æ¦‚è¿°" class="headerlink" title="1. LinkedHashMapç±»æ¦‚è¿°"></a>1. LinkedHashMapç±»æ¦‚è¿°</h4><blockquote><p>LinkedHashMapç±»ä¸HashMapç›¸åŒ,å”¯ä¸€ä¸åŒç‚¹åœ¨äºä»–åº•å±‚æ˜¯é‡‡ç”¨çš„<code>é“¾è¡¨</code>+<code>å“ˆå¸Œè¡¨</code>ç»“æ„,ç”±äºæ˜¯é“¾è¡¨å®ç°æ‰€ä»¥ä»–çš„å…ƒç´ é¡ºåºèƒ½å¤Ÿä¿è¯(æœ‰åºçš„:å­˜å…¥æ•°æ®ä¸å–å‡ºé¡ºåºç›¸åŒ),å…¶ä»–çš„å®ç°ä¸HashMapåŸºæœ¬å®Œå…¨ä¸€è‡´,åŒæ ·keyä¹Ÿæ˜¯ä¸å…è®¸é‡å¤,<code>LinkedHashMapç±»æ˜¯ç»§æ‰¿è‡ªHashMapç±»çš„</code></p></blockquote><h4 id="2-LinkedHashMapç±»çš„æ„é€ æ–¹æ³•"><a href="#2-LinkedHashMapç±»çš„æ„é€ æ–¹æ³•" class="headerlink" title="2. LinkedHashMapç±»çš„æ„é€ æ–¹æ³•"></a>2. LinkedHashMapç±»çš„æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// åˆ›å»ºLinkedHashMapé›†åˆå¯¹è±¡,ä½¿ç”¨é»˜è®¤é•¿åº¦</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">LinkedHashMap</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// è°ƒç”¨ä»–çˆ¹HashMapçš„æ„é€ æ–¹æ³•</span><br>    <span class="hljs-built_in">super</span>();<br>    accessOrder = <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-comment">// åˆ›å»ºLinkedHashMapé›†åˆå¯¹è±¡å¹¶æŒ‡å®šåˆå§‹å®¹é‡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">LinkedHashMap</span><span class="hljs-params">(<span class="hljs-type">int</span> initialCapacity)</span> &#123;<br>    <span class="hljs-comment">// è°ƒç”¨ä»–çˆ¹HashMapæ„é€ æ–¹æ³•</span><br>    <span class="hljs-built_in">super</span>(initialCapacity);<br>    accessOrder = <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-LinkedHashMapç±»çš„å¸¸ç”¨æ–¹æ³•-ç”±äºæ˜¯ç›´æ¥ç»§æ‰¿è‡ªHashMapç±»çš„æ‰€ä»¥å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯ç”¨çš„ä»–çˆ¹çš„"><a href="#3-LinkedHashMapç±»çš„å¸¸ç”¨æ–¹æ³•-ç”±äºæ˜¯ç›´æ¥ç»§æ‰¿è‡ªHashMapç±»çš„æ‰€ä»¥å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯ç”¨çš„ä»–çˆ¹çš„" class="headerlink" title="3. LinkedHashMapç±»çš„å¸¸ç”¨æ–¹æ³•(ç”±äºæ˜¯ç›´æ¥ç»§æ‰¿è‡ªHashMapç±»çš„æ‰€ä»¥å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯ç”¨çš„ä»–çˆ¹çš„)"></a>3. LinkedHashMapç±»çš„å¸¸ç”¨æ–¹æ³•(ç”±äºæ˜¯ç›´æ¥ç»§æ‰¿è‡ªHashMapç±»çš„æ‰€ä»¥å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯ç”¨çš„ä»–çˆ¹çš„)</h4><ul><li><code>V put(K key, V value)</code>:å‘Mapé›†åˆä¸­æ·»åŠ é”®å€¼å¯¹å…ƒç´ ,ä¸å­˜åœ¨åˆ™æ·»åŠ ,å¦‚æœKey(é”®)é‡å¤åˆ™ä¿®æ”¹åŸæœ‰å†…å®¹(ä¸æ˜¯é‡æ–°æ·»åŠ è¦†ç›–),å¹¶è¿”å›æ·»åŠ çš„Value(å€¼)å†…å®¹<ol><li>key:é”®</li><li>value:å€¼</li></ol></li><li><code>V get(Object key)</code>:æŒ‡å®šKey(é”®)è·å–Value(å€¼)</li><li><code>V remove(Object key)</code>:æŒ‡å®šKey(é”®)ç§»é™¤<code>Key(é”®)Value(å€¼)</code>â€“&gt;ç§»é™¤é”®å€¼å¯¹</li><li><code>boolean containsKey(Object key)</code>:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„æŒ‡å®šKey(é”®)</li><li><code>boolean containsValue(Object value)</code>:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„Value(å€¼)</li><li><code>Collection&lt;V&gt; values()</code>:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Value(å€¼)</li><li><code>boolean isEmpty()</code>:åˆ¤æ–­Mapé›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>void clear()</code>:æ¸…ç©ºMapé›†åˆå…ƒç´ </li><li><code>int size()</code>:è¿”å›Mapé›†åˆçš„å…ƒç´ æ•°é‡(Key-Valueä»£è¡¨ä¸€ä¸ª)</li><li><code>Set&lt;K&gt; keySet()</code>:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key(é”®)å€¼</li><li><code>Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()</code>:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key-Valueâ€“&gt;è¿”å›æ‰€æœ‰é”®å€¼å¯¹</li></ul><h4 id="4-LinkedHashMapç±»ä»£ç æ¡ˆä¾‹"><a href="#4-LinkedHashMapç±»ä»£ç æ¡ˆä¾‹" class="headerlink" title="4. LinkedHashMapç±»ä»£ç æ¡ˆä¾‹"></a>4. LinkedHashMapç±»ä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedHashMapDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»º LinkedHashMapç±» å¯¹è±¡--&gt;å¤šæ€æ–¹å¼åˆ›å»º</span><br>        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashMap</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `V put(K key, V value)`:å‘Mapé›†åˆä¸­æ·»åŠ é”®å€¼å¯¹å…ƒç´ ,ä¸å­˜åœ¨åˆ™æ·»åŠ ,å¦‚æœKey(é”®)é‡å¤åˆ™ä¿®æ”¹åŸæœ‰å†…å®¹(ä¸æ˜¯é‡æ–°æ·»åŠ è¦†ç›–),å¹¶è¿”å›æ·»åŠ çš„Value(å€¼)å†…å®¹`å¸¸ç”¨æŒæ¡`</span><br>        <span class="hljs-comment">// 1. key:é”®</span><br>        <span class="hljs-comment">// 2. value:å€¼</span><br>        map.put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">18</span>);<br>        map.put(<span class="hljs-string">&quot;sex&quot;</span>, <span class="hljs-string">&quot;ç”·ç¥&quot;</span>);<br>        <span class="hljs-comment">// èµ‹å€¼ä¸€ä¸ªç›¸åŒçš„</span><br>        map.put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;abc&quot;</span>, <span class="hljs-string">&quot;abc&quot;</span>);<br>        System.out.println(map);<br>        <span class="hljs-comment">// 1. `V get(Object key)`:æŒ‡å®šKey(é”®)è·å–Value(å€¼)`å¸¸ç”¨æŒæ¡`</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> map.get(<span class="hljs-string">&quot;name&quot;</span>);<br>        System.out.println(name);<br>        <span class="hljs-comment">// 2. `V remove(Object key)`:æŒ‡å®šKey(é”®)ç§»é™¤`Key(é”®)Value(å€¼)`--&gt;ç§»é™¤é”®å€¼å¯¹</span><br>        <span class="hljs-type">Object</span> <span class="hljs-variable">abc</span> <span class="hljs-operator">=</span> map.remove(<span class="hljs-string">&quot;abc&quot;</span>);<br>        System.out.println(abc);<br>        System.out.println(map);<br>        <span class="hljs-comment">// 3. `boolean containsKey(Object key)`:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„æŒ‡å®šKey(é”®)</span><br>        System.out.println(map.containsKey(<span class="hljs-string">&quot;name&quot;</span>));<br>        <span class="hljs-comment">// 4. `boolean containsValue(Object value)`:æŸ¥çœ‹Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„Value(å€¼)</span><br>        System.out.println(map.containsValue(<span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>));<br>        <span class="hljs-comment">// 5. `Collection&lt;V&gt; values()`:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Value(å€¼)</span><br>        Collection&lt;Object&gt; values = map.values();<br>        System.out.println(values);<br>        <span class="hljs-comment">// 6. `boolean isEmpty()`:åˆ¤æ–­Mapé›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(map.isEmpty());<br>        <span class="hljs-comment">// 8. `int size()`:è¿”å›Mapé›†åˆçš„å…ƒç´ æ•°é‡(Key-Valueä»£è¡¨ä¸€ä¸ª)`å¸¸ç”¨æŒæ¡`</span><br>        System.out.println(map.size());<br>        <span class="hljs-comment">// 9. `Set&lt;K&gt; keySet()`:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key(é”®)å€¼</span><br>        Set&lt;String&gt; strings = map.keySet();<br>        System.out.println(strings);<br>        <span class="hljs-comment">// 10. `Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet()`:è¿”å›Mapé›†åˆä¸­çš„æ‰€æœ‰Key-Value--&gt;è¿”å›æ‰€æœ‰é”®å€¼å¯¹</span><br>        Set&lt;Map.Entry&lt;String, Object&gt;&gt; entries = map.entrySet();<br>        System.out.println(entries);<br>        <span class="hljs-comment">// 7. `void clear()`:æ¸…ç©ºMapé›†åˆå…ƒç´ </span><br>        map.clear();<br>        <span class="hljs-comment">// æ‰“å°æ•°ç»„é•¿åº¦ä»¥åŠæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(map.size());<br>        System.out.println(map.isEmpty());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Mapæ¥å£ä¹‹Hashtableç±»"><a href="#Mapæ¥å£ä¹‹Hashtableç±»" class="headerlink" title="Mapæ¥å£ä¹‹Hashtableç±»"></a>Mapæ¥å£ä¹‹Hashtableç±»</h3><h4 id="1-Hashtableç±»æ¦‚è¿°"><a href="#1-Hashtableç±»æ¦‚è¿°" class="headerlink" title="1. Hashtableç±»æ¦‚è¿°"></a>1. Hashtableç±»æ¦‚è¿°</h4><blockquote><p>Hashtableç±»ä¸HashMapç±»æ–¹æ³•åŠæ„é€ æ–¹æ³•åŸºæœ¬éƒ½æ˜¯ç›¸åŒçš„,åº•å±‚ä¾æ—§æ˜¯é‡‡ç”¨<code>æ•°ç»„</code>+<code>é“¾è¡¨</code>æˆ–<code>æ•°ç»„</code>+<code>çº¢é»‘æ ‘</code>,å¢åˆ æ”¹æŸ¥é€Ÿåº¦ä¹Ÿå¾ˆå¿«,å”¯ä¸€çš„åŒºåˆ«åœ¨äºHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„(ä½¿ç”¨äº†synchronizedå…³é”®å­—ä¿®é¥°),HashMapæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„</p></blockquote><h4 id="2-Hashtableç±»çš„æ„é€ æ–¹æ³•"><a href="#2-Hashtableç±»çš„æ„é€ æ–¹æ³•" class="headerlink" title="2. Hashtableç±»çš„æ„é€ æ–¹æ³•"></a>2. Hashtableç±»çš„æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// åˆ›å»ºHashtableé›†åˆå¯¹è±¡,é»˜è®¤å®¹é‡æ˜¯11</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Hashtable</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">this</span>(<span class="hljs-number">11</span>, <span class="hljs-number">0.75f</span>);<br>&#125;<br><span class="hljs-comment">// åˆ›å»ºHashTableé›†åˆå¯¹è±¡,å¹¶æŒ‡å®šåˆå§‹åŒ–å®¹é‡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Hashtable</span><span class="hljs-params">(<span class="hljs-type">int</span> initialCapacity)</span> &#123;<br>    <span class="hljs-built_in">this</span>(initialCapacity, <span class="hljs-number">0.75f</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-Hashtableç±»çš„å¸¸ç”¨æ–¹æ³•"><a href="#3-Hashtableç±»çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="3. Hashtableç±»çš„å¸¸ç”¨æ–¹æ³•"></a>3. Hashtableç±»çš„å¸¸ç”¨æ–¹æ³•</h4><ul><li><code>public synchronized V put(K key, V value)</code>:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ <ul><li>key:é”®å€¼</li><li>value:å€¼</li></ul></li><li><code>public synchronized V get(Object key)</code>:é€šè¿‡keyè·å–é›†åˆä¸­æŒ‡å®švalueå€¼</li><li><code>public synchronized V remove(Object key)</code>:é€šè¿‡keyç§»é™¤é›†åˆä¸­çš„å…ƒç´ </li><li><code>public Set&lt;K&gt; keySet()</code>:è·å–é›†åˆä¸­çš„æ‰€æœ‰keyå€¼</li><li><code>public Collection&lt;V&gt; values()</code>:è·å–é›†åˆä¸­æ‰€æœ‰å€¼</li><li><code>public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</code>:è·å–é›†åˆä¸­æ‰€æœ‰é”®å€¼å¯¹(key-value)</li><li><code>public synchronized int size()</code>:è·å–é›†åˆä¸­æ‰€æœ‰å…ƒç´ æ•°é‡</li><li><code>public synchronized boolean isEmpty()</code>:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>public synchronized void clear()</code>:æ¸…ç©ºé›†åˆå…ƒç´ </li></ul><h4 id="4-Hashtableç±»ä»£ç æ¡ˆä¾‹"><a href="#4-Hashtableç±»ä»£ç æ¡ˆä¾‹" class="headerlink" title="4. Hashtableç±»ä»£ç æ¡ˆä¾‹"></a>4. Hashtableç±»ä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HashTableDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºHashTableå¯¹è±¡</span><br>        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Hashtable</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `public synchronized V put(K key, V value)`:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ </span><br>        <span class="hljs-comment">// 1. key:é”®å€¼</span><br>        <span class="hljs-comment">// 2. value:å€¼</span><br>        map.put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;å°æ³½è€å¸ˆ&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">40</span>);<br>        map.put(<span class="hljs-string">&quot;sex&quot;</span>, <span class="hljs-string">&quot;å¥³&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;nation&quot;</span>, <span class="hljs-string">&quot;å°æ—¥å­è¿‡çš„ä¸é”™çš„å›½å®¶&quot;</span>);<br>        System.out.println(map);<br>        <span class="hljs-comment">// 2. `public synchronized V get(Object key)`:é€šè¿‡keyè·å–é›†åˆä¸­æŒ‡å®švalueå€¼</span><br>        System.out.println(map.get(<span class="hljs-string">&quot;name&quot;</span>));<br>        <span class="hljs-comment">// 3. `public synchronized V remove(Object key)`:é€šè¿‡keyç§»é™¤é›†åˆä¸­çš„å…ƒç´ </span><br>        System.out.println(map);<br>        System.out.println(map.remove(<span class="hljs-string">&quot;nation&quot;</span>));<br>        System.out.println(map);<br>        <span class="hljs-comment">// 4. `public Set&lt;K&gt; keySet()`:è·å–é›†åˆä¸­çš„æ‰€æœ‰keyå€¼</span><br>        Set&lt;String&gt; strings = map.keySet();<br>        System.out.println(strings);<br>        <span class="hljs-comment">// 5. `public Collection&lt;V&gt; values()`:è·å–é›†åˆä¸­æ‰€æœ‰å€¼</span><br>        Collection&lt;Object&gt; values = map.values();<br>        System.out.println(values);<br>        <span class="hljs-comment">// 6. `public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()`:è·å–é›†åˆä¸­æ‰€æœ‰é”®å€¼å¯¹(key-value)</span><br>        Set&lt;Map.Entry&lt;String, Object&gt;&gt; entries = map.entrySet();<br>        System.out.println(entries);<br>        <span class="hljs-comment">// 7. `public synchronized int size()`:è·å–é›†åˆä¸­æ‰€æœ‰å…ƒç´ æ•°é‡</span><br>        System.out.println(map.size());<br>        <span class="hljs-comment">// 8. `public synchronized boolean isEmpty()`:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(map.isEmpty());<br>        <span class="hljs-comment">// 9. `public synchronized void clear()`:æ¸…ç©ºé›†åˆå…ƒç´ </span><br>        map.clear();<br>        System.out.println(map.size());<br>        System.out.println(map.isEmpty());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Mapæ¥å£ä¹‹TreeMapç±»"><a href="#Mapæ¥å£ä¹‹TreeMapç±»" class="headerlink" title="Mapæ¥å£ä¹‹TreeMapç±»"></a>Mapæ¥å£ä¹‹TreeMapç±»</h3><h4 id="1-TreeMapç±»æ¦‚è¿°"><a href="#1-TreeMapç±»æ¦‚è¿°" class="headerlink" title="1. TreeMapç±»æ¦‚è¿°"></a>1. TreeMapç±»æ¦‚è¿°</h4><blockquote><p>TreeMapåº•å±‚ä½¿ç”¨çº¢é»‘æ ‘å®ç°,ä¸HashMapçš„å´åˆ«æ˜¯ä¸åœ¨éªŒè¯é•¿åº¦æ›´æ”¹çº¢é»‘æ ‘,å…¶ä»–ä¸HashMapç›¸åŒ</p></blockquote><h4 id="2-TreeMapç±»çš„æ„é€ æ–¹æ³•"><a href="#2-TreeMapç±»çš„æ„é€ æ–¹æ³•" class="headerlink" title="2. TreeMapç±»çš„æ„é€ æ–¹æ³•"></a>2. TreeMapç±»çš„æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// åˆ›å»ºTreeMapé›†åˆå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeMap</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// comparatoræ˜¯æ¯”è¾ƒå™¨,æ¯”è¾ƒå™¨çš„ä½œç”¨æ˜¯ ç”¨äºæ’åº</span><br>    comparator = <span class="hljs-literal">null</span>;<br>&#125;<br><span class="hljs-comment">// åˆ›å»ºTreeMapé›†åˆå¯¹è±¡,å¹¶æŒ‡å®šMapé›†åˆå°†æ•°æ®æ·»åŠ è‡³TreeMapé›†åˆä¸­</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeMap</span><span class="hljs-params">(Map&lt;? extends K, ? extends V&gt; m)</span> &#123;<br>    comparator = <span class="hljs-literal">null</span>;<br>    putAll(m);<br>&#125;<br><span class="hljs-comment">// åˆ›å»ºTreeMapperé›†åˆå¯¹è±¡å¹¶æŒ‡å®šæ¯”è¾ƒå™¨</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeMap</span><span class="hljs-params">(Comparator&lt;? <span class="hljs-built_in">super</span> K&gt; comparator)</span> &#123;<br>    <span class="hljs-built_in">this</span>.comparator = comparator;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-TreeMapç±»çš„å¸¸ç”¨æ–¹æ³•"><a href="#3-TreeMapç±»çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="3. TreeMapç±»çš„å¸¸ç”¨æ–¹æ³•"></a>3. TreeMapç±»çš„å¸¸ç”¨æ–¹æ³•</h4><ul><li><code>public V put(K key, V value)</code>:å‘é›†åˆä¸­æ·»åŠ æ•°æ®<ol><li>key:é”®å€¼</li><li>value:å€¼</li></ol></li><li><code>public void putAll(Map&lt;? extends K, ? extends V&gt; map)</code>:æ·»åŠ æ•´ä¸ªMapé›†åˆçš„æ•°æ®</li><li><code>public V get(Object key)</code>:æŒ‡å®škeyè·å–é›†åˆä¸­çš„valueå€¼</li><li><code>public K firstKey()</code>:è·å–é›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„key</li><li><code>public K lastKey()</code>:è·å–é›†åˆä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„key</li><li><code>public boolean containsKey(Object key)</code>:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®škey</li><li><code>public boolean containsValue(Object value)</code>:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®švalue</li><li><code>public Set&lt;K&gt; keySet()</code>:å–å‡ºé›†åˆä¸­æ‰€æœ‰çš„keyå€¼</li><li><code>public Collection&lt;V&gt; values()</code>:å–å‡ºé›†åˆä¸­æ‰€æœ‰çš„valueå€¼</li><li><code>public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</code>:å–å‡ºé›†åˆä¸­æ‰€æœ‰çš„key-value(å–å‡ºé”®å€¼å¯¹)</li><li><code>public V remove(Object key)</code>:æŒ‡å®škeyç§»é™¤é›†åˆä¸­çš„å…ƒç´ </li><li><code>public int size()</code>:è·å–é›†åˆä¸­æ·»åŠ çš„å…ƒç´ æ•°é‡</li><li><code>boolean isEmpty()</code>:è·å–é›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>public void clear()</code>:æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ </li></ul><h4 id="4-TreeMapé›†åˆä»£ç æ¡ˆä¾‹"><a href="#4-TreeMapé›†åˆä»£ç æ¡ˆä¾‹" class="headerlink" title="4. TreeMapé›†åˆä»£ç æ¡ˆä¾‹"></a>4. TreeMapé›†åˆä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeMapDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// ä½¿ç”¨å¤šæ€æ–¹å¼åˆ›å»ºTreeMapé›†åˆå¯¹è±¡</span><br>        Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `public V put(K key, V value)`:å‘é›†åˆä¸­æ·»åŠ æ•°æ®</span><br>        <span class="hljs-comment">// 1. key:é”®å€¼</span><br>        <span class="hljs-comment">// 2. value:å€¼</span><br>        map.put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">18</span>);<br>        map.put(<span class="hljs-string">&quot;sex&quot;</span>, <span class="hljs-string">&quot;ç”·ç¥&quot;</span>);<br>        <span class="hljs-comment">// èµ‹å€¼ä¸€ä¸ªç›¸åŒçš„</span><br>        map.put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>);<br>        System.out.println(map);<br>        <span class="hljs-comment">// 2. `public void putAll(Map&lt;? extends K, ? extends V&gt; map)`:æ·»åŠ æ•´ä¸ªMapé›†åˆçš„æ•°æ®</span><br>        map.putAll(map);<br>        <span class="hljs-comment">// 3. `public V get(Object key)`:æŒ‡å®škeyè·å–é›†åˆä¸­çš„valueå€¼</span><br>        System.out.println(map.get(<span class="hljs-string">&quot;name&quot;</span>));<br>        <span class="hljs-comment">// ä¸€ä¸‹ä¸¤ä¸ªæ–¹æ³•æ˜¯TreeMapç§æœ‰æ–¹æ³•æ‰€ä»¥éœ€è¦å‘ä¸‹è½¬å‹</span><br>        TreeMap&lt;String, Object&gt; treeMap = (TreeMap&lt;String, Object&gt;) map;<br>        <span class="hljs-comment">// 4. `public K firstKey()`:è·å–é›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„key</span><br>        System.out.println(treeMap.firstKey());<br>        <span class="hljs-comment">// 5. `public K lastKey()`:è·å–é›†åˆä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„key</span><br>        System.out.println(treeMap.lastKey());<br>        <span class="hljs-comment">// 6. `public boolean containsKey(Object key)`:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®škey</span><br>        System.out.println(map.containsKey(<span class="hljs-string">&quot;name&quot;</span>));<br>        <span class="hljs-comment">// 7. `public boolean containsValue(Object value)`:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®švalue</span><br>        System.out.println(map.containsValue(<span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>));<br>        <span class="hljs-comment">// 8. `public Set&lt;K&gt; keySet()`:å–å‡ºé›†åˆä¸­æ‰€æœ‰çš„keyå€¼</span><br>        Set&lt;String&gt; strings = map.keySet();<br>        System.out.println(strings);<br>        <span class="hljs-comment">// 9. `public Collection&lt;V&gt; values()`:å–å‡ºé›†åˆä¸­æ‰€æœ‰çš„valueå€¼</span><br>        Collection&lt;Object&gt; values = map.values();<br>        System.out.println(values);<br>        <span class="hljs-comment">// 10. `public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()`:å–å‡ºé›†åˆä¸­æ‰€æœ‰çš„key-value(å–å‡ºé”®å€¼å¯¹)</span><br>        Set&lt;Map.Entry&lt;String, Object&gt;&gt; entries = map.entrySet();<br>        System.out.println(entries);<br>        <span class="hljs-comment">// 11. `public V remove(Object key)`:æŒ‡å®škeyç§»é™¤é›†åˆä¸­çš„å…ƒç´ </span><br>        System.out.println(map.remove(<span class="hljs-string">&quot;sex&quot;</span>));<br>        <span class="hljs-comment">// 12. `public int size()`:è·å–é›†åˆä¸­æ·»åŠ çš„å…ƒç´ æ•°é‡</span><br>        System.out.println(map.size());<br>        <span class="hljs-comment">// 13. `boolean isEmpty()`:è·å–é›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(map.isEmpty());<br>        <span class="hljs-comment">// 14. `public void clear()`:æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ </span><br>        map.clear();<br>        System.out.println(map.size());<br>        System.out.println(map.isEmpty());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Setæ¥å£"><a href="#Setæ¥å£" class="headerlink" title="Setæ¥å£"></a>Setæ¥å£</h3><h4 id="1-Setæ¥å£æ¦‚è¿°"><a href="#1-Setæ¥å£æ¦‚è¿°" class="headerlink" title="1. Setæ¥å£æ¦‚è¿°"></a>1. Setæ¥å£æ¦‚è¿°</h4><blockquote><p>Setæ¥å£ä¸Listæ¥å£ç›¸åŒéƒ½æ˜¯Collectionæ¥å£çš„å­å­™æ¥å£,Setæ¥å£ä¸­æ²¡æœ‰æ–°å¢æ–¹æ³•(æ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯ä»–çˆ¹çš„Collectionæ¥å£çš„),ä¹‹å‰æ‰€ç”¨çš„Listæ¥å£çš„æ–¹æ³•åœ¨Setæ¥å£ä¸­ä¹Ÿæ˜¯é€šç”¨çš„<br>Setæ¥å£ç‰¹ç‚¹:æ•°æ®ä¸é‡å¤,é¡ºåºæ˜¯æ— åºçš„(æ·»åŠ é¡ºåºä¸å–å‡ºé¡ºåºä¸åŒ,ä»¥åŠæ²¡æœ‰ä¸‹æ ‡æŒ‡å‘)æ— ç´¢å¼•,éå†åªèƒ½é€šè¿‡å¾ªç¯éå†(æ•°æ®ä¸èƒ½é‡å¤çš„åŸå› æ˜¯ä½¿ç”¨çš„HashMapç±»çš„putæ–¹æ³•)</p></blockquote><h4 id="2-Setæ¥å£æ–¹æ³•â€“-gt-ä¸ä»–çˆ¶ç±»Collectionæ¥å£ä¸€è‡´"><a href="#2-Setæ¥å£æ–¹æ³•â€“-gt-ä¸ä»–çˆ¶ç±»Collectionæ¥å£ä¸€è‡´" class="headerlink" title="2. Setæ¥å£æ–¹æ³•â€“&gt;ä¸ä»–çˆ¶ç±»Collectionæ¥å£ä¸€è‡´"></a>2. Setæ¥å£æ–¹æ³•â€“&gt;ä¸ä»–çˆ¶ç±»Collectionæ¥å£ä¸€è‡´</h4><ul><li><code>boolean add(E e)</code>:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ </li><li><code>boolean addAll(Collection&lt;? extends E&gt; c)</code>:å‘é›†åˆä¸­æ·»åŠ ä¸€ä¸ªé›†åˆå…ƒç´ </li><li><code>boolean contains(Object o)</code>:æ£€æµ‹é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </li><li><code>boolean containsAll(Collection&lt;?&gt; c)</code>:æ£€æµ‹é›†åˆä¸­æ˜¯å¦åŒ…å«å¦ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ </li><li><code>boolean remove(Object o)</code>:ä»é›†åˆä¸­ç§»é™¤æŒ‡å®šæ•°æ®(å¯¹è±¡)</li><li><code>boolean removeAll(Collection&lt;?&gt; c)</code>:ç§»é™¤æ­¤é›†åˆçš„æ‰€æœ‰ä¹ŸåŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­çš„å…ƒç´ </li><li><code>boolean retainAll(Collection&lt;?&gt; c)</code>:ç§»é™¤åˆºæ¿€å’Œçš„æ‰€æœ‰ä¸åŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­çš„å…ƒç´ (ç§»é™¤éç›¸åŒçš„å…ƒç´ ,éäº¤é›†å…ƒç´ )</li><li><code>int size()</code>:è¿”å›é›†åˆä¸­çš„å…ƒç´ æ•°é‡</li><li><code>boolean isEmpty()</code>:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>Object[] toArray()</code>:å°†é›†åˆè½¬ä¸ºæ•°ç»„</li><li><code>void clear()</code>:æ¸…ç©ºé›†åˆå†…å…ƒç´ </li><li><code>Iterator&lt;E&gt; iterator()</code>:è¿”å›é›†åˆè¿­ä»£å™¨å…ƒç´ ,ç”¨äºéå†é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ </li></ul><h3 id="Setæ¥å£ä¹‹HashSetç±»"><a href="#Setæ¥å£ä¹‹HashSetç±»" class="headerlink" title="Setæ¥å£ä¹‹HashSetç±»"></a>Setæ¥å£ä¹‹HashSetç±»</h3><h4 id="1-HashSetç±»æ¦‚è¿°"><a href="#1-HashSetç±»æ¦‚è¿°" class="headerlink" title="1. HashSetç±»æ¦‚è¿°"></a>1. HashSetç±»æ¦‚è¿°</h4><blockquote><p>HashSetåº•å±‚ä½¿ç”¨å“ˆå¸Œè¡¨ç®—æ³•å®ç°,åº•å±‚å®é™…æ˜¯ä½¿ç”¨<code>HashMapçš„putæ–¹æ³•</code>å®ç°,æ‰€ä»¥æœ¬è´¨HashMapæ˜¯HashSetç±»çš„æ¯äº²,HashSetæœ‰äº›ç±»ä¼¼äºé‡å­©å­,è°çš„æ–¹æ³•éƒ½æœ‰</p></blockquote><h4 id="2-HashSetç±»ä½¿ç”¨HashMapç±»çš„å®ç°"><a href="#2-HashSetç±»ä½¿ç”¨HashMapç±»çš„å®ç°" class="headerlink" title="2. HashSetç±»ä½¿ç”¨HashMapç±»çš„å®ç°"></a>2. HashSetç±»ä½¿ç”¨HashMapç±»çš„å®ç°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HashSet</span>&lt;E&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractSet</span>&lt;E&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Set</span>&lt;E&gt;, Cloneable, java.io.Serializable &#123;<br>    <span class="hljs-comment">// å£°æ˜HashMapç±»å¯¹è±¡,åœ¨åˆ›å»ºHashSetå¯¹è±¡æ—¶åˆ›å»º</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> HashMap&lt;E,Object&gt; map;<br>    <span class="hljs-comment">// Dummy value to associate with an Object in the backing Map</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Object</span> <span class="hljs-variable">PRESENT</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();<br>    <span class="hljs-comment">// åˆ›å»ºHashSetå¯¹è±¡</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">HashSet</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// é¡ºå¸¦ç€åˆ›å»ºäº†HashMapé›†åˆå¯¹è±¡</span><br>        map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-HashSetç±»çš„æ„é€ æ–¹æ³•"><a href="#3-HashSetç±»çš„æ„é€ æ–¹æ³•" class="headerlink" title="3. HashSetç±»çš„æ„é€ æ–¹æ³•"></a>3. HashSetç±»çš„æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä½¿ç”¨ç©ºå‚æ„é€ æ–¹æ³•åˆ›å»ºHashSeté›†åˆå¯¹è±¡,å¹¶åœ¨å†…éƒ¨åˆ›å»ºHashMapé›†åˆå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">HashSet</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// åˆ›å»ºHashMapé›†åˆå¯¹è±¡</span><br>    map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>&#125;<br><span class="hljs-comment">// ä½¿ç”¨å¸¦å‚æ„é€ æ–¹æ³•åˆ›å»ºHashSeté›†åˆå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">HashSet</span><span class="hljs-params">(<span class="hljs-type">int</span> initialCapacity)</span> &#123;<br>    <span class="hljs-comment">// åˆ›å»ºHashMapé›†åˆå¯¹è±¡å¹¶åˆå§‹åŒ–å®¹é‡</span><br>    map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;(initialCapacity);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4-HashSetç±»çš„å¸¸ç”¨æ–¹æ³•"><a href="#4-HashSetç±»çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="4. HashSetç±»çš„å¸¸ç”¨æ–¹æ³•"></a>4. HashSetç±»çš„å¸¸ç”¨æ–¹æ³•</h4><ul><li><code>public boolean add(E e)</code>:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ æ–¹æ³•</li><li><code>boolean addAll(Collection&lt;? extends E&gt; c)</code>:å‘é›†åˆä¸­æ·»åŠ æŒ‡å®šé›†åˆçš„æ‰€æœ‰æ•°æ®</li><li><code>public boolean contains(Object o)</code>:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ </li><li><code>public boolean remove(Object o)</code>:ä»é›†åˆä¸­ç§»é™¤æŒ‡å®šå…ƒç´ ,å¦‚æœæˆåŠŸåˆ™è¿”å›true,å¦åˆ™è¿”å›false</li><li><code>public int size()</code>:è¿”å›é›†åˆä¸­å…ƒç´ æ•°é‡</li><li><code>public boolean isEmpty()</code>:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>public Iterator&lt;E&gt; iterator()</code>:è¿”å›æ­¤é›†åˆçš„è¿­ä»£å™¨å¯¹è±¡</li><li><code>public void clear()</code>:ç§»é™¤é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ </li></ul><h4 id="5-HashSetç±»çš„ä»£ç æ¡ˆä¾‹"><a href="#5-HashSetç±»çš„ä»£ç æ¡ˆä¾‹" class="headerlink" title="5. HashSetç±»çš„ä»£ç æ¡ˆä¾‹"></a>5. HashSetç±»çš„ä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºHashSeté›†åˆå¯¹è±¡</span><br>        Set&lt;String&gt; set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `public boolean add(E e)`:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ æ–¹æ³•</span><br>        set.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;æ¢…è¶…é£&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;ç­ç»å¸ˆå¤ª&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;å·å»ºå›½&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;åŸºå°¼å¤ªç¾&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;å¤æ ¡é•¿&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(set);<br>        <span class="hljs-comment">// 2. `boolean addAll(Collection&lt;? extends E&gt; c)`:å‘é›†åˆä¸­æ·»åŠ æŒ‡å®šé›†åˆçš„æ‰€æœ‰æ•°æ®</span><br>        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        list.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;å¤æ ¡é•¿&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;å¤å¤©ä¹&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;æ¸£æ¸£è¾‰&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;å°æ³½è€å¸ˆ&quot;</span>);<br>        set.addAll(list);<br>        System.out.println(set);<br>        <span class="hljs-comment">// 3. `public boolean contains(Object o)`:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ </span><br>        System.out.println(set.contains(<span class="hljs-string">&quot;ç­ç»å¸ˆå¤ª&quot;</span>));<br>        <span class="hljs-comment">// 4. `public boolean remove(Object o)`:ä»é›†åˆä¸­ç§»é™¤æŒ‡å®šå…ƒç´ ,å¦‚æœæˆåŠŸåˆ™è¿”å›true,å¦åˆ™è¿”å›false</span><br>        System.out.println(set.remove(<span class="hljs-string">&quot;åŸºå°¼å¤ªç¾&quot;</span>));<br>        System.out.println(set.remove(<span class="hljs-string">&quot;åŸºå°¼å¤ªç¾&quot;</span>));<br>        System.out.println(set);<br>        <span class="hljs-comment">// 5. `public int size()`:è¿”å›é›†åˆä¸­å…ƒç´ æ•°é‡</span><br>        System.out.println(set.size());<br>        <span class="hljs-comment">// 6. `public boolean isEmpty()`:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(set.isEmpty());<br>        System.out.println(<span class="hljs-string">&quot;==================================&quot;</span>);<br>        <span class="hljs-comment">// 7. `public Iterator&lt;E&gt; iterator()`:è¿”å›æ­¤é›†åˆçš„è¿­ä»£å™¨å¯¹è±¡</span><br>        Iterator&lt;String&gt; iterator = set.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            System.out.println(iterator.next());<br>        &#125;<br>        <span class="hljs-comment">// 8. `public void clear()`:ç§»é™¤é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ </span><br>        System.out.println(<span class="hljs-string">&quot;è°ƒç”¨clearæ–¹æ³•&quot;</span>);<br>        set.clear();<br>        System.out.println(set);<br>        System.out.println(set.isEmpty());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="6-HashSetä¸­éƒ½æ˜¯å¦‚ä½•å®ç°çš„æ–¹æ³•"><a href="#6-HashSetä¸­éƒ½æ˜¯å¦‚ä½•å®ç°çš„æ–¹æ³•" class="headerlink" title="6. HashSetä¸­éƒ½æ˜¯å¦‚ä½•å®ç°çš„æ–¹æ³•"></a>6. HashSetä¸­éƒ½æ˜¯å¦‚ä½•å®ç°çš„æ–¹æ³•</h4><blockquote><p>HashSetçš„æ–¹æ³•æ²¡æœ‰ä¸€ä¸ªæ˜¯è‡ªå·±å†™çš„,è¦ä¹ˆæ˜¯ç»§æ‰¿è‡ªAbstractSetæŠ½è±¡ç±»,è¦ä¹ˆå°±æ˜¯ç›´æ¥è°ƒç”¨HashMapçš„æ–¹æ³•</p></blockquote><h5 id="1-æ‰€ä»¥HashSetä¸ºä»€ä¹ˆä¸å…è®¸é‡å¤å€¼å°±æ˜¯å› ä¸ºè°ƒç”¨çš„HashMapçš„putæ–¹æ³•-è€Œputæ”¾ä¸­æœ‰éªŒè¯-hashCodeå’Œequals"><a href="#1-æ‰€ä»¥HashSetä¸ºä»€ä¹ˆä¸å…è®¸é‡å¤å€¼å°±æ˜¯å› ä¸ºè°ƒç”¨çš„HashMapçš„putæ–¹æ³•-è€Œputæ”¾ä¸­æœ‰éªŒè¯-hashCodeå’Œequals" class="headerlink" title="1. æ‰€ä»¥HashSetä¸ºä»€ä¹ˆä¸å…è®¸é‡å¤å€¼å°±æ˜¯å› ä¸ºè°ƒç”¨çš„HashMapçš„putæ–¹æ³•,è€Œputæ”¾ä¸­æœ‰éªŒè¯(hashCodeå’Œequals)"></a>1. æ‰€ä»¥HashSetä¸ºä»€ä¹ˆä¸å…è®¸é‡å¤å€¼å°±æ˜¯å› ä¸ºè°ƒç”¨çš„HashMapçš„putæ–¹æ³•,è€Œputæ”¾ä¸­æœ‰éªŒè¯(hashCodeå’Œequals)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä»…ä»…åªæ˜¯ä¸€ä¸ªæ–¹æ³•ä¸¾ä¾‹å­,å…¶ä»–çš„ç›¸åŒ!</span><br><span class="hljs-comment">// HashSetç±»ä¸­çš„addæ–¹æ³•</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span> &#123;<br>    <span class="hljs-comment">// HashSetä»€ä¹ˆäº‹å„¿éƒ½æ²¡åšç›´æ¥è°ƒç”¨map.put()è®¾ç½®å€¼</span><br>    <span class="hljs-keyword">return</span> map.put(e, PRESENT)==<span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="21-Setæ¥å£ä¹‹TreeSet"><a href="#21-Setæ¥å£ä¹‹TreeSet" class="headerlink" title="21. Setæ¥å£ä¹‹TreeSet"></a>21. Setæ¥å£ä¹‹TreeSet</h3><h4 id="1-TreeSetç±»çš„æ¦‚è¿°"><a href="#1-TreeSetç±»çš„æ¦‚è¿°" class="headerlink" title="1. TreeSetç±»çš„æ¦‚è¿°"></a>1. TreeSetç±»çš„æ¦‚è¿°</h4><blockquote><p>TreeSetåº•å±‚å®ç°æ˜¯åŸºäºTreeMapç±»çš„,TreeMapä¸HashSetç›¸åŒ,æ²¡æœ‰è‡ªå·±ç‹¬ç«‹çš„æ–¹æ³•,æ‰€ä»¥æœ¬è´¨ä¹Ÿæ˜¯æ•°ç»„TreeMapç±»</p></blockquote><h4 id="2-TreeSetç±»çš„æ„é€ æ–¹æ³•"><a href="#2-TreeSetç±»çš„æ„é€ æ–¹æ³•" class="headerlink" title="2. TreeSetç±»çš„æ„é€ æ–¹æ³•"></a>2. TreeSetç±»çš„æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä½¿ç”¨ç©ºå‚æ„é€ æ–¹æ³•åˆ›å»ºTreeSetå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeSet</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// è°ƒç”¨å¸¦å‚æ„é€ æ–¹æ³•åˆ›å»ºä¸€ä¸ªTreeMapå¯¹è±¡</span><br>    <span class="hljs-built_in">this</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;E,Object&gt;());<br>&#125;<br><span class="hljs-comment">// ä½¿ç”¨æŒ‡å®šcollectioné›†åˆåˆ›å»ºTreeSetå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeSet</span><span class="hljs-params">(Collection&lt;? extends E&gt; c)</span> &#123;<br>    <span class="hljs-comment">// è°ƒç”¨ç©ºå‚æ„é€ æ–¹æ³•</span><br>    <span class="hljs-built_in">this</span>();<br>    <span class="hljs-comment">// è°ƒç”¨addAllæ–¹æ³•æ·»åŠ é›†åˆ</span><br>    addAll(c);<br>&#125;<br><span class="hljs-comment">// åˆ›å»ºå¸¦æœ‰æ¯”è¾ƒå™¨çš„TreeSetå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeSet</span><span class="hljs-params">(Comparator&lt;? <span class="hljs-built_in">super</span> E&gt; comparator)</span> &#123;<br>    <span class="hljs-built_in">this</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;&gt;(comparator));<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-TreeSetç±»çš„å¸¸ç”¨æ–¹æ³•"><a href="#3-TreeSetç±»çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="3. TreeSetç±»çš„å¸¸ç”¨æ–¹æ³•"></a>3. TreeSetç±»çš„å¸¸ç”¨æ–¹æ³•</h4><ul><li><code>public boolean add(E e)</code>:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ æ–¹æ³•</li><li><code>boolean addAll(Collection&lt;? extends E&gt; c)</code>:å‘é›†åˆä¸­æ·»åŠ æŒ‡å®šé›†åˆçš„æ‰€æœ‰æ•°æ®</li><li><code>public boolean contains(Object o)</code>:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ </li><li><code>public boolean remove(Object o)</code>:ä»é›†åˆä¸­ç§»é™¤æŒ‡å®šå…ƒç´ ,å¦‚æœæˆåŠŸåˆ™è¿”å›true,å¦åˆ™è¿”å›false</li><li><code>public int size()</code>:è¿”å›é›†åˆä¸­å…ƒç´ æ•°é‡</li><li><code>public boolean isEmpty()</code>:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>public Iterator&lt;E&gt; iterator()</code>:è¿”å›æ­¤é›†åˆçš„è¿­ä»£å™¨å¯¹è±¡</li><li><code>public void clear()</code>:ç§»é™¤é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ </li></ul><h4 id="4-TreeSetç±»çš„ä»£ç æ¡ˆä¾‹"><a href="#4-TreeSetç±»çš„ä»£ç æ¡ˆä¾‹" class="headerlink" title="4. TreeSetç±»çš„ä»£ç æ¡ˆä¾‹"></a>4. TreeSetç±»çš„ä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeSetDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// ä½¿ç”¨å¤šæ€æ–¹å¼åˆ›å»ºTreeSeté›†åˆ</span><br>        Set&lt;String&gt; set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `public boolean add(E e)`:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ æ–¹æ³•</span><br>        set.add(<span class="hljs-string">&quot;èœ˜è››ä¾ &quot;</span>);<br>        set.add(<span class="hljs-string">&quot;é»‘å¯¡å¦‡&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;ç»¿å·¨äºº&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;ç¾å›½ç¿˜è‡€&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;æ­»ä¾&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;æ­»ä¾&quot;</span>);<br>        System.out.println(set);<br>        <span class="hljs-comment">// 2. `boolean addAll(Collection&lt;? extends E&gt; c)`:å‘é›†åˆä¸­æ·»åŠ æŒ‡å®šé›†åˆçš„æ‰€æœ‰æ•°æ®</span><br>        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        list.add(<span class="hljs-string">&quot;è¶…äºº&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;è™è ä¾ &quot;</span>);<br>        list.add(<span class="hljs-string">&quot;é’¢éª¨&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;ç¥å¥‡å¥³ä¾ &quot;</span>);<br>        list.add(<span class="hljs-string">&quot;æµ·ç‹&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;æµ·ç‹&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;ç«æ˜ŸçŒäºº&quot;</span>);<br>        System.out.println(list);<br>        set.addAll(list);<br>        System.out.println(set);<br>        <span class="hljs-comment">// 3. `public boolean contains(Object o)`:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ </span><br>        System.out.println(set.contains(<span class="hljs-string">&quot;é»‘å¯¡å¦‡&quot;</span>));<br>        <span class="hljs-comment">// 4. `public boolean remove(Object o)`:ä»é›†åˆä¸­ç§»é™¤æŒ‡å®šå…ƒç´ ,å¦‚æœæˆåŠŸåˆ™è¿”å›true,å¦åˆ™è¿”å›false</span><br>        System.out.println(set.remove(<span class="hljs-string">&quot;ç«æ˜ŸçŒäºº&quot;</span>));<br>        System.out.println(set.remove(<span class="hljs-string">&quot;ç«æ˜ŸçŒäºº&quot;</span>));<br>        System.out.println(set);<br>        <span class="hljs-comment">// 5. `public int size()`:è¿”å›é›†åˆä¸­å…ƒç´ æ•°é‡</span><br>        System.out.println(set.size());<br>        <span class="hljs-comment">// 6. `public boolean isEmpty()`:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(set.isEmpty());<br>        <span class="hljs-comment">// 7. `public Iterator&lt;E&gt; iterator()`:è¿”å›æ­¤é›†åˆçš„è¿­ä»£å™¨å¯¹è±¡</span><br>        System.out.println(<span class="hljs-string">&quot;==========================================&quot;</span>);<br>        Iterator&lt;String&gt; iterator = set.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            System.out.println(iterator.next());<br>        &#125;<br>        <span class="hljs-comment">// 8. `public void clear()`:ç§»é™¤é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ </span><br>        System.out.println(<span class="hljs-string">&quot;è°ƒç”¨clearæ–¹æ³•&quot;</span>);<br>        set.clear();<br>        System.out.println(set);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-TreeSetç±»çš„å…·ä½“å®ç°"><a href="#5-TreeSetç±»çš„å…·ä½“å®ç°" class="headerlink" title="5. TreeSetç±»çš„å…·ä½“å®ç°"></a>5. TreeSetç±»çš„å…·ä½“å®ç°</h4><blockquote><p>TreeSetä¸HashSetç›¸åŒæ²¡æœ‰è‡ªå·±çš„å®ç°,TreeSetæ‰€æœ‰çš„æ–¹æ³•éƒ½æ˜¯è°ƒç”¨TreeMapçš„æ–¹æ³•</p></blockquote><h5 id="1-TreeSetç±»çš„addæ–¹æ³•å®ç°"><a href="#1-TreeSetç±»çš„addæ–¹æ³•å®ç°" class="headerlink" title="1. TreeSetç±»çš„addæ–¹æ³•å®ç°"></a>1. TreeSetç±»çš„addæ–¹æ³•å®ç°</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// mapé›†åˆ</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">transient</span> NavigableMap&lt;E,Object&gt; m;<br><span class="hljs-comment">// é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»ºTreeMapé›†åˆå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeSet</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">this</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeMap</span>&lt;E,Object&gt;());<br>&#125;<br><span class="hljs-comment">// TreeSeté›†åˆçš„addæ–¹æ³•</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span> &#123;<br>    <span class="hljs-comment">// è°ƒç”¨TreeMapé›†åˆçš„putæ–¹æ³•</span><br>    <span class="hljs-keyword">return</span> m.put(e, PRESENT)==<span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="Setæ¥å£ä¹‹LinkedHashSetç±»"><a href="#Setæ¥å£ä¹‹LinkedHashSetç±»" class="headerlink" title="Setæ¥å£ä¹‹LinkedHashSetç±»"></a>Setæ¥å£ä¹‹LinkedHashSetç±»</h3><h4 id="1-LinkedHashSetç±»æ¦‚è¿°"><a href="#1-LinkedHashSetç±»æ¦‚è¿°" class="headerlink" title="1. LinkedHashSetç±»æ¦‚è¿°"></a>1. LinkedHashSetç±»æ¦‚è¿°</h4><blockquote><p>LinkedHashSetç±»æ²¡æœ‰è‡ªå·±çš„æ–¹æ³•æ‰€ç”¨çš„æ˜¯ç»§æ‰¿HashSetçš„æ–¹æ³•,æ‰€æœ‰ä½¿ç”¨çš„æ–¹æ³•ä¹Ÿéƒ½æ˜¯åŸºäºHashSetç±»è€ŒHashSetç±»ä¸­åˆ›å»ºå¯¹è±¡æœ‰ä¸¤ä¸ª,ä¸€ä¸ªæ˜¯HashMapä¸€ä¸ªLinkedHashMap,è€Œå…¶ä¸­LinkedHashMapæ˜¯ä¾›LinkedHashSetä½¿ç”¨,LinkedHashSeté›†åˆæ˜¯æœ‰åºçš„(å­˜å‚¨é¡ºåºä¸è°ƒç”¨é¡ºåºä¸€è‡´)</p></blockquote><h4 id="2-LinkedHashSetç±»çš„æ„é€ æ–¹æ³•"><a href="#2-LinkedHashSetç±»çš„æ„é€ æ–¹æ³•" class="headerlink" title="2. LinkedHashSetç±»çš„æ„é€ æ–¹æ³•"></a>2. LinkedHashSetç±»çš„æ„é€ æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ä½¿ç”¨ç©ºå‚æ„é€ æ–¹æ³•åˆ›å»ºLinkedHashSetå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">LinkedHashSet</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">// è°ƒç”¨å…¶çˆ¶HashSetæ„é€ æ–¹æ³•åˆ›å»ºLinkedHashMapå¯¹è±¡,ä½¿ç”¨LinkedHashMapæ–¹æ³•</span><br>    <span class="hljs-built_in">super</span>(<span class="hljs-number">16</span>, <span class="hljs-number">.75f</span>, <span class="hljs-literal">true</span>);<br>&#125;<br><span class="hljs-comment">// ä½¿ç”¨æŒ‡å®šåˆå§‹åŒ–å®¹é‡çš„æ„é€ æ–¹æ³•åˆ›å»ºLinkedHashSetå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">LinkedHashSet</span><span class="hljs-params">(<span class="hljs-type">int</span> initialCapacity)</span> &#123;<br>    <span class="hljs-comment">// è°ƒç”¨å…¶çˆ¶HashSetæ„é€ æ–¹æ³•åˆ›å»ºLinkedHashMapå¯¹è±¡,ä½¿ç”¨LinkedHashMapæ–¹æ³•</span><br>    <span class="hljs-built_in">super</span>(initialCapacity, <span class="hljs-number">.75f</span>, <span class="hljs-literal">true</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-LinkedHashSetç±»çš„æ„é€ æ–¹æ³•"><a href="#3-LinkedHashSetç±»çš„æ„é€ æ–¹æ³•" class="headerlink" title="3. LinkedHashSetç±»çš„æ„é€ æ–¹æ³•"></a>3. LinkedHashSetç±»çš„æ„é€ æ–¹æ³•</h4><ul><li><code>public boolean add(E e)</code>:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ æ–¹æ³•</li><li><code>boolean addAll(Collection&lt;? extends E&gt; c)</code>:å‘é›†åˆä¸­æ·»åŠ æŒ‡å®šé›†åˆçš„æ‰€æœ‰æ•°æ®</li><li><code>public boolean contains(Object o)</code>:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ </li><li><code>public boolean remove(Object o)</code>:ä»é›†åˆä¸­ç§»é™¤æŒ‡å®šå…ƒç´ ,å¦‚æœæˆåŠŸåˆ™è¿”å›true,å¦åˆ™è¿”å›false</li><li><code>public int size()</code>:è¿”å›é›†åˆä¸­å…ƒç´ æ•°é‡</li><li><code>public boolean isEmpty()</code>:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</li><li><code>public Iterator&lt;E&gt; iterator()</code>:è¿”å›æ­¤é›†åˆçš„è¿­ä»£å™¨å¯¹è±¡</li><li><code>public void clear()</code>:ç§»é™¤é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ </li></ul><h4 id="4-LinkedHashSetç±»çš„ä»£ç æ¡ˆä¾‹"><a href="#4-LinkedHashSetç±»çš„ä»£ç æ¡ˆä¾‹" class="headerlink" title="4. LinkedHashSetç±»çš„ä»£ç æ¡ˆä¾‹"></a>4. LinkedHashSetç±»çš„ä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedHashSetDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºLinkedHashSeté›†åˆå¯¹è±¡</span><br>        Set&lt;String&gt; set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedHashSet</span>&lt;&gt;();<br>        <span class="hljs-comment">// 1. `public boolean add(E e)`:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ æ–¹æ³•</span><br>        set.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;å´å½¦ç¥–&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;æ¢…è¶…é£&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;ç­ç»å¸ˆå¤ª&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;å·å»ºå›½&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;åŸºå°¼å¤ªç¾&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;å¤æ ¡é•¿&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        System.out.println(set);<br>        <span class="hljs-comment">// 2. `boolean addAll(Collection&lt;? extends E&gt; c)`:å‘é›†åˆä¸­æ·»åŠ æŒ‡å®šé›†åˆçš„æ‰€æœ‰æ•°æ®</span><br>        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        list.add(<span class="hljs-string">&quot;å½­äºæ™&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;å¤æ ¡é•¿&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;å¤å¤©ä¹&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;æ¸£æ¸£è¾‰&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;å°æ³½è€å¸ˆ&quot;</span>);<br>        set.addAll(list);<br>        System.out.println(set);<br>        <span class="hljs-comment">// 3. `public boolean contains(Object o)`:åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸€ä¸ªæŒ‡å®šçš„å…ƒç´ </span><br>        System.out.println(set.contains(<span class="hljs-string">&quot;ç­ç»å¸ˆå¤ª&quot;</span>));<br>        <span class="hljs-comment">// 4. `public boolean remove(Object o)`:ä»é›†åˆä¸­ç§»é™¤æŒ‡å®šå…ƒç´ ,å¦‚æœæˆåŠŸåˆ™è¿”å›true,å¦åˆ™è¿”å›false</span><br>        System.out.println(set.remove(<span class="hljs-string">&quot;åŸºå°¼å¤ªç¾&quot;</span>));<br>        System.out.println(set.remove(<span class="hljs-string">&quot;åŸºå°¼å¤ªç¾&quot;</span>));<br>        System.out.println(set);<br>        <span class="hljs-comment">// 5. `public int size()`:è¿”å›é›†åˆä¸­å…ƒç´ æ•°é‡</span><br>        System.out.println(set.size());<br>        <span class="hljs-comment">// 6. `public boolean isEmpty()`:åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</span><br>        System.out.println(set.isEmpty());<br>        System.out.println(<span class="hljs-string">&quot;==================================&quot;</span>);<br>        <span class="hljs-comment">// 7. `public Iterator&lt;E&gt; iterator()`:è¿”å›æ­¤é›†åˆçš„è¿­ä»£å™¨å¯¹è±¡</span><br>        Iterator&lt;String&gt; iterator = set.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            System.out.println(iterator.next());<br>        &#125;<br>        <span class="hljs-comment">// 8. `public void clear()`:ç§»é™¤é›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ </span><br>        System.out.println(<span class="hljs-string">&quot;è°ƒç”¨clearæ–¹æ³•&quot;</span>);<br>        set.clear();<br>        System.out.println(set);<br>        System.out.println(set.isEmpty());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é›†åˆä¸­çš„Comparatoræ¯”è¾ƒå™¨"><a href="#é›†åˆä¸­çš„Comparatoræ¯”è¾ƒå™¨" class="headerlink" title="é›†åˆä¸­çš„Comparatoræ¯”è¾ƒå™¨"></a>é›†åˆä¸­çš„Comparatoræ¯”è¾ƒå™¨</h3><h4 id="1-Comparatoræ¯”è¾ƒå™¨æ¦‚è¿°"><a href="#1-Comparatoræ¯”è¾ƒå™¨æ¦‚è¿°" class="headerlink" title="1. Comparatoræ¯”è¾ƒå™¨æ¦‚è¿°"></a>1. Comparatoræ¯”è¾ƒå™¨æ¦‚è¿°</h4><blockquote><p> Comparatoræ¯”è¾ƒå™¨ä½œç”¨æ˜¯ç”¨äºé›†åˆçš„è‡ªå®šä¹‰æ’åº,æ’åºè§„åˆ™åˆ†ä¸ºä¸¤ç§,1. å‡åº;2. é™åº;<br> <code>æ³¨æ„:é›†åˆçš„æ„é€ æ–¹æ³•ä¸­å¸¦æœ‰Comparatoræ¯”è¾ƒå™¨å‚æ•°å°±ä»£è¡¨,ç»™å…¶æ·»åŠ å…ƒç´ æ—¶å…ƒç´ å¿…é¡»è¦æœ‰å®ç°Comparatoræ¯”è¾ƒå™¨,æˆ–è€…ä½¿ç”¨å¤–éƒ¨æ¯”è¾ƒå™¨å®ç°</code></p></blockquote><h4 id="2-ä½¿ç”¨Seté›†åˆçš„æ¯”è¾ƒå™¨æ¡ˆä¾‹"><a href="#2-ä½¿ç”¨Seté›†åˆçš„æ¯”è¾ƒå™¨æ¡ˆä¾‹" class="headerlink" title="2. ä½¿ç”¨Seté›†åˆçš„æ¯”è¾ƒå™¨æ¡ˆä¾‹"></a>2. ä½¿ç”¨Seté›†åˆçš„æ¯”è¾ƒå™¨æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ComparatorDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// è°ƒç”¨Seté›†åˆçš„æ¯”è¾ƒå®ç°</span><br>        func01();<br>    &#125;<br>    <span class="hljs-comment">// Seté›†åˆçš„æ¯”è¾ƒ</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">func01</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// ä½¿ç”¨TreeSetçš„æ¯”è¾ƒå™¨æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡,å…¶ä¸­Comparatoræ¯”è¾ƒå™¨ä½¿ç”¨å¤–éƒ¨æ¯”è¾ƒå™¨</span><br>        Set&lt;String&gt; set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;String&gt;() &#123;<br>            <span class="hljs-comment">/**</span><br><span class="hljs-comment">             * æ¯”è¾ƒæ–¹æ³•</span><br><span class="hljs-comment">             * <span class="hljs-doctag">@param</span> o1 å­—ç¬¦ä¸²1</span><br><span class="hljs-comment">             * <span class="hljs-doctag">@param</span> o2 å­—ç¬¦ä¸²2</span><br><span class="hljs-comment">             * <span class="hljs-doctag">@return</span> è¿”å›å­—ç¬¦ä¸²1ä¸å­—ç¬¦ä¸²2çš„å¯¹æ¯”</span><br><span class="hljs-comment">             */</span><br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(String o1, String o2)</span> &#123;<br>                <span class="hljs-keyword">return</span> o1.compareTo(o2);<br>            &#125;<br>        &#125;);<br>        <span class="hljs-comment">// 1. `public boolean add(E e)`:å‘é›†åˆä¸­æ·»åŠ å…ƒç´ æ–¹æ³•</span><br>        set.add(<span class="hljs-string">&quot;1&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;2&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;3&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;4&quot;</span>);<br>        set.add(<span class="hljs-string">&quot;5&quot;</span>);<br>        <span class="hljs-comment">// [æ­»ä¾, ç»¿å·¨äºº, ç¾å›½ç¿˜è‡€, èœ˜è››ä¾ , é»‘å¯¡å¦‡]</span><br>        <span class="hljs-comment">// [é»‘å¯¡å¦‡, èœ˜è››ä¾ , ç¾å›½ç¿˜è‡€, ç»¿å·¨äºº, æ­»ä¾]</span><br>        System.out.println(set);<br>        <span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰å¯¹è±¡åˆ›å»ºå¤–éƒ¨æ¯”è¾ƒå™¨çš„TreeSeté›†åˆå¯¹è±¡</span><br>        Set&lt;Person&gt; persons1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Person&gt;() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Person o1, Person o2)</span> &#123;<br>                <span class="hljs-comment">// ä½¿ç”¨å¹´é¾„æ’åº</span><br>                <span class="hljs-comment">// return o2.getAge() - o1.getAge();</span><br>                <span class="hljs-comment">// æŒ‰ç…§åç§°æ’åº</span><br>                <span class="hljs-comment">// return o1.getName().compareTo(o2.getName());</span><br>                <span class="hljs-type">String</span> <span class="hljs-variable">o1Name</span> <span class="hljs-operator">=</span> o1.getName();<br>                <span class="hljs-type">String</span> <span class="hljs-variable">o1Sex</span> <span class="hljs-operator">=</span> o1.getSex();<br>                <span class="hljs-type">Integer</span> <span class="hljs-variable">o1Age</span> <span class="hljs-operator">=</span> o1.getAge();<br>                <span class="hljs-type">String</span> <span class="hljs-variable">o2Name</span> <span class="hljs-operator">=</span> o2.getName();<br>                <span class="hljs-type">String</span> <span class="hljs-variable">o2Sex</span> <span class="hljs-operator">=</span> o2.getSex();<br>                <span class="hljs-type">Integer</span> <span class="hljs-variable">o2Age</span> <span class="hljs-operator">=</span> o2.getAge();<br>                <span class="hljs-comment">// å°†æ‰€æœ‰çš„å€¼ç›¸åŠ ç„¶åä½¿ç”¨Stringç±»çš„compareToæ–¹æ³•</span><br>                <span class="hljs-type">String</span> <span class="hljs-variable">personString1</span> <span class="hljs-operator">=</span> o1Name + o1Sex + o1Age;<br>                <span class="hljs-type">String</span> <span class="hljs-variable">personString2</span> <span class="hljs-operator">=</span> o2Name + o2Sex + o2Age;<br>                <span class="hljs-keyword">return</span> personString1.compareTo(personString2);<br>            &#125;<br>        &#125;);<br>        persons1.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">1000</span>));<br>        persons1.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;çŒªå…«æˆ’&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">900</span>));<br>        persons1.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ²™æ‚Ÿå‡€&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">800</span>));<br>        persons1.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½é¾™é©¬&quot;</span>, <span class="hljs-string">&quot;é¾™&quot;</span>, <span class="hljs-number">200</span>));<br>        persons1.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å”ç„å¥˜&quot;</span>, <span class="hljs-string">&quot;äºº&quot;</span>, <span class="hljs-number">500</span>));<br>        persons1.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½éª¨ç²¾&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">300</span>));<br>        System.out.println(persons1);<br>        <span class="hljs-comment">// ä½¿ç”¨Personè‡ªå®šä¹‰å¯¹è±¡åˆ›å»ºå†…éƒ¨æ¯”è¾ƒå™¨,è¿›è¡Œæ¯”è¾ƒ,æ‰€æœ‰çš„å¸¦æœ‰æ¯”è¾ƒå™¨çš„é›†åˆæ·»åŠ çš„æ•°æ®éƒ½å¿…é¡»å®ç°æ¯”è¾ƒå™¨æ¥å£</span><br>        <span class="hljs-comment">// å¦‚æœPersonæ²¡æœ‰å®ç°æ¯”è¾ƒå™¨å¹¶ä¸”æ²¡æœ‰ä½¿ç”¨å¤–éƒ¨æ¯”è¾ƒå™¨åˆ™æ— æ³•ç›´æ¥æ·»åŠ åˆ°TreeSeté›†åˆä¸­</span><br>        Set&lt;Person&gt; persons2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeSet</span>&lt;&gt;();<br>        persons2.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">1000</span>));<br>        persons2.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;çŒªå…«æˆ’&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">900</span>));<br>        persons2.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ²™æ‚Ÿå‡€&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">800</span>));<br>        persons2.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½é¾™é©¬&quot;</span>, <span class="hljs-string">&quot;é¾™&quot;</span>, <span class="hljs-number">200</span>));<br>        persons2.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å”ç„å¥˜&quot;</span>, <span class="hljs-string">&quot;äºº&quot;</span>, <span class="hljs-number">500</span>));<br>        persons2.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½éª¨ç²¾&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">300</span>));<br>        System.out.println(persons2);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-ä½¿ç”¨Listé›†åˆçš„æ¯”è¾ƒå™¨æ¡ˆä¾‹"><a href="#3-ä½¿ç”¨Listé›†åˆçš„æ¯”è¾ƒå™¨æ¡ˆä¾‹" class="headerlink" title="3. ä½¿ç”¨Listé›†åˆçš„æ¯”è¾ƒå™¨æ¡ˆä¾‹"></a>3. ä½¿ç”¨Listé›†åˆçš„æ¯”è¾ƒå™¨æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ComparatorDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// è°ƒç”¨Listé›†åˆçš„æ¯”è¾ƒå®ç°</span><br>        func02();<br>    &#125;<br>    <span class="hljs-comment">// Listé›†åˆçš„æ¯”è¾ƒ</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">func02</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// å®ç°Listç»“åˆçš„æ¯”è¾ƒæ–¹æ³•sort</span><br>        List&lt;Person&gt; persons = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">1000</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;çŒªå…«æˆ’&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">900</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ²™æ‚Ÿå‡€&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">800</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½é¾™é©¬&quot;</span>, <span class="hljs-string">&quot;é¾™&quot;</span>, <span class="hljs-number">200</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å”ç„å¥˜&quot;</span>, <span class="hljs-string">&quot;äºº&quot;</span>, <span class="hljs-number">500</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½éª¨ç²¾&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">300</span>));<br>        System.out.println(persons);<br>        <span class="hljs-comment">// è°ƒç”¨sortæ’åºæ–¹æ³•</span><br>        persons.sort(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;Person&gt;() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(Person o1, Person o2)</span> &#123;<br>                <span class="hljs-keyword">return</span> o1.getAge() - o2.getAge();<br>            &#125;<br>        &#125;);<br>        <span class="hljs-comment">// è¾“å‡ºç»“æœ</span><br>        System.out.println(persons);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="HashMapä¸HashSeté›†åˆä¸­æ·»åŠ è‡ªå®šä¹‰å¯¹è±¡é‡å¤åŸå› "><a href="#HashMapä¸HashSeté›†åˆä¸­æ·»åŠ è‡ªå®šä¹‰å¯¹è±¡é‡å¤åŸå› " class="headerlink" title="HashMapä¸HashSeté›†åˆä¸­æ·»åŠ è‡ªå®šä¹‰å¯¹è±¡é‡å¤åŸå› "></a>HashMapä¸HashSeté›†åˆä¸­æ·»åŠ è‡ªå®šä¹‰å¯¹è±¡é‡å¤åŸå› </h3><h4 id="1-æ•°æ®é‡å¤çš„åŸå› "><a href="#1-æ•°æ®é‡å¤çš„åŸå› " class="headerlink" title="1. æ•°æ®é‡å¤çš„åŸå› "></a>1. æ•°æ®é‡å¤çš„åŸå› </h4><blockquote><p>å·²çŸ¥HashMapçš„Keyå’ŒHashSeté›†åˆä¸­ä¸èƒ½æ·»åŠ é‡å¤æ•°æ®,è€Œæˆ‘ä»¬è‡ªå®šä¹‰å¯¹è±¡å´å¯ä»¥é‡å¤,å…¶æ ¹æœ¬åŸå› æ˜¯Mapä¸­çš„putæ–¹æ³•éªŒè¯Keyæ˜¯å¦é‡å¤ä½¿ç”¨çš„æ˜¯hashCodeå’Œequalsæ–¹æ³•éªŒè¯,è€Œè‡ªå®šä¹‰ç±»åœ¨ä¸é‡å†™çš„æƒ…å†µä¸‹ä½¿ç”¨çš„æ˜¯çˆ¶ç±»Objectç±»çš„æ–¹æ³•,æ‰€ä»¥è®¡ç®—çš„ç»“æœéƒ½ä¸åŒ,ä¹Ÿå°±å¯¼è‡´äº†æ·»åŠ æ—¶ä¼šé‡å¤çš„åŸå› ,ä¸€æ—¦é‡å†™hashCodeå’Œequalsæ–¹æ³•ååˆ™ä¸ä¼šå‡ºç°æ­¤é—®é¢˜</p></blockquote><h4 id="2-è§£å†³æ•°æ®é‡å¤"><a href="#2-è§£å†³æ•°æ®é‡å¤" class="headerlink" title="2. è§£å†³æ•°æ®é‡å¤"></a>2. è§£å†³æ•°æ®é‡å¤</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;Person&gt; &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String sex;<br>    <span class="hljs-keyword">private</span> Integer age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, String sex, Integer age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.sex = sex;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getSex</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> sex;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSex</span><span class="hljs-params">(String sex)</span> &#123;<br>        <span class="hljs-built_in">this</span>.sex = sex;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(Integer age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Person&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, sex=&#x27;&quot;</span> + sex + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, age=&quot;</span> + age +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * å®ç°Comparableæ¥å£é‡å†™compareToæ–¹æ³•å®ç°æ’åº</span><br><span class="hljs-comment">     *</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> o ä¼ å…¥çš„Personå¯¹è±¡</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> è¿”å›è®¡ç®—çš„ç»“æœ(æ•´æ•°ç±»å‹)</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(Person o)</span> &#123;<br>        <span class="hljs-comment">// ä½¿ç”¨å¹´é¾„æ’åº</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.age - o.age;<br>    &#125;<br><br>    <span class="hljs-comment">// é‡å†™equals</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object o)</span> &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span> (o == <span class="hljs-literal">null</span> || getClass() != o.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> (Person) o;<br>        <span class="hljs-keyword">return</span> Objects.equals(name, person.name) &amp;&amp; Objects.equals(sex, person.sex) &amp;&amp; Objects.equals(age, person.age);<br>    &#125;<br><br>    <span class="hljs-comment">// é‡å†™hashCode</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> Objects.hash(name, sex, age);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomizeObjectDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰å¯¹è±¡,å‘Seté›†åˆä¸­æ·»åŠ æ•°æ®</span><br>        <span class="hljs-comment">// ä¼šå‡ºç°æ•°æ®é‡å¤çš„é—®é¢˜,å…¶åŸå› æ˜¯å› ä¸ºmapä¸­çš„putæ–¹æ³•æ¯”è¾ƒæ—¶æ˜¯ä½¿ç”¨hashCodeå’Œequalsæ–¹æ³•å»åˆ¤æ–­çš„</span><br>        Set&lt;Person&gt; persons = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();<br>        <span class="hljs-comment">// è®¾ç½®æ•°æ®</span><br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">1000</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;çŒªå…«æˆ’&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">900</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ²™æ‚Ÿå‡€&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">800</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½é¾™é©¬&quot;</span>, <span class="hljs-string">&quot;é¾™&quot;</span>, <span class="hljs-number">200</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å”ç„å¥˜&quot;</span>, <span class="hljs-string">&quot;äºº&quot;</span>, <span class="hljs-number">500</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½éª¨ç²¾&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">300</span>));<br>        <span class="hljs-comment">// æ·»åŠ é‡å¤æ•°æ®</span><br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å­™æ‚Ÿç©º&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">1000</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;çŒªå…«æˆ’&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">900</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;æ²™æ‚Ÿå‡€&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">800</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½é¾™é©¬&quot;</span>, <span class="hljs-string">&quot;é¾™&quot;</span>, <span class="hljs-number">200</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;å”ç„å¥˜&quot;</span>, <span class="hljs-string">&quot;äºº&quot;</span>, <span class="hljs-number">500</span>));<br>        persons.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;ç™½éª¨ç²¾&quot;</span>, <span class="hljs-string">&quot;å¦–&quot;</span>, <span class="hljs-number">300</span>));<br>        <span class="hljs-comment">// ä½¿ç”¨è¿­ä»£å™¨æ‰“å°æ•°æ®</span><br>        Iterator&lt;Person&gt; iterator = persons.iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            System.out.println(iterator.next());<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é›†åˆå·¥å…·ç±»Collections"><a href="#é›†åˆå·¥å…·ç±»Collections" class="headerlink" title="é›†åˆå·¥å…·ç±»Collections"></a>é›†åˆå·¥å…·ç±»Collections</h3><h4 id="1-Collectionsæ˜¯Javaæä¾›çš„æ“ä½œé›†åˆçš„å·¥å…·ç±»-ä¹Ÿæ˜¯ä¸€ä¸ªé¸¡è‚‹äº§å“-æä¾›äº†éƒ¨åˆ†çš„é›†åˆæ–¹æ³•-ä¾‹å¦‚æ’åºç­‰ç­‰"><a href="#1-Collectionsæ˜¯Javaæä¾›çš„æ“ä½œé›†åˆçš„å·¥å…·ç±»-ä¹Ÿæ˜¯ä¸€ä¸ªé¸¡è‚‹äº§å“-æä¾›äº†éƒ¨åˆ†çš„é›†åˆæ–¹æ³•-ä¾‹å¦‚æ’åºç­‰ç­‰" class="headerlink" title="1. Collectionsæ˜¯Javaæä¾›çš„æ“ä½œé›†åˆçš„å·¥å…·ç±»,ä¹Ÿæ˜¯ä¸€ä¸ªé¸¡è‚‹äº§å“,æä¾›äº†éƒ¨åˆ†çš„é›†åˆæ–¹æ³•,ä¾‹å¦‚æ’åºç­‰ç­‰"></a>1. Collectionsæ˜¯Javaæä¾›çš„æ“ä½œé›†åˆçš„å·¥å…·ç±»,ä¹Ÿæ˜¯ä¸€ä¸ªé¸¡è‚‹äº§å“,æä¾›äº†éƒ¨åˆ†çš„é›†åˆæ–¹æ³•,ä¾‹å¦‚æ’åºç­‰ç­‰</h4><h4 id="2-Collectionsä¸­çš„æ–¹æ³•"><a href="#2-Collectionsä¸­çš„æ–¹æ³•" class="headerlink" title="2. Collectionsä¸­çš„æ–¹æ³•"></a>2. Collectionsä¸­çš„æ–¹æ³•</h4><ul><li><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)</code>:æ’åºæ–¹æ³•,é»˜è®¤å‡åºå¹¶ä¸”æ— æ³•æ›´æ”¹é™åº</li><li><code>public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</code>:å‡åºåŠ é™åºéƒ½å¯ä»¥çš„</li><li><code>public static void shuffle(List&lt;?&gt; list)</code>:æ··ä¹±æ’åº</li><li><code>public static void reverse(List&lt;?&gt; list)</code>:å°†é›†åˆå€’è½¬</li></ul><h4 id="3-Collectionsä»£ç æ¡ˆä¾‹"><a href="#3-Collectionsä»£ç æ¡ˆä¾‹" class="headerlink" title="3. Collectionsä»£ç æ¡ˆä¾‹"></a>3. Collectionsä»£ç æ¡ˆä¾‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CollectionsDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>        list.add(<span class="hljs-string">&quot;è¶…äºº&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;è™è ä¾ &quot;</span>);<br>        list.add(<span class="hljs-string">&quot;é’¢éª¨&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;ç¥å¥‡å¥³ä¾ &quot;</span>);<br>        list.add(<span class="hljs-string">&quot;æµ·ç‹&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;æµ·ç‹&quot;</span>);<br>        list.add(<span class="hljs-string">&quot;ç«æ˜ŸçŒäºº&quot;</span>);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 1. `public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)`:æ’åºæ–¹æ³•,é»˜è®¤å‡åºå¹¶ä¸”æ— æ³•æ›´æ”¹é™åº</span><br>        Collections.sort(list);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 2. `public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)`:å‡åºåŠ é™åºéƒ½å¯ä»¥çš„</span><br>        Collections.sort(list, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Comparator</span>&lt;String&gt;() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(String o1, String o2)</span> &#123;<br>                <span class="hljs-keyword">return</span> o2.compareTo(o1);<br>            &#125;<br>        &#125;);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 3. `public static void shuffle(List&lt;?&gt; list)`:æ··ä¹±æ’åº</span><br>        Collections.shuffle(list);<br>        System.out.println(list);<br>        <span class="hljs-comment">// 4. `public static void reverse(List&lt;?&gt; list)`:å°†é›†åˆå€’è½¬</span><br>        Collections.sort(list);<br>        System.out.println(list);<br>        Collections.reverse(list);<br>        System.out.println(list);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><div>    <script src="//cdn.jsdelivr.net/npm/@waline/client"></script><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hexo Fluid ä½¿ç”¨ç›¸å…³æŒ‡å—</title>
    <link href="/2022/09/21/Hexo%20Fluid%20%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3%E6%8C%87%E5%8D%97/"/>
    <url>/2022/09/21/Hexo%20Fluid%20%E4%BD%BF%E7%94%A8%E7%9B%B8%E5%85%B3%E6%8C%87%E5%8D%97/</url>
    
    <content type="html"><![CDATA[<h3 id="â¤ï¸ä½¿ç”¨æŒ‡å—"><a href="#â¤ï¸ä½¿ç”¨æŒ‡å—" class="headerlink" title="â¤ï¸ä½¿ç”¨æŒ‡å—"></a>â¤ï¸ä½¿ç”¨æŒ‡å—</h3><p>â¡ï¸New Markdown å¯ä»¥æ‰§è¡Œå‘½ä»¤æ¥åˆ›å»ºä¸€ç¯‡æ–°æ–‡ç« æˆ–è€…æ–°çš„é¡µé¢;å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡æ–°å»ºå®Œæˆåˆ›å»º</p><h3 id="â¤ï¸MDå±æ€§ç›¸å…³"><a href="#â¤ï¸MDå±æ€§ç›¸å…³" class="headerlink" title="â¤ï¸MDå±æ€§ç›¸å…³"></a>â¤ï¸MDå±æ€§ç›¸å…³</h3><blockquote><p>title: è¿™æ˜¯æ ‡é¢˜<br>date: 2022-09-21 17:04:34<br>tags: other<br>excerpt: è¿™æ˜¯æ‘˜è¦<br>index_img: &#x2F;img&#x2F;example.jpg<br>banner_img: &#x2F;img&#x2F;post_banner.jpg<br>sticky: 100</p><p>contegoriesï¼šç›®å½•</p></blockquote><p>å­—æ®µ<code>tags</code>è®¾ç½®æ–‡ç« å½’å±æ ‡ç­¾ï¼›è‡ªå®šä¹‰æ‘˜è¦å¯ä»¥ä½¿ç”¨å­—æ®µ<code>excerpt</code>è¿›è¡Œè®¾ç½®ï¼Œæ‰‹åŠ¨ä¼˜å…ˆçº§é«˜äºè‡ªåŠ¨è®¾ç½®ï¼›<code>sticky</code>å±æ€§å½±å“æ–‡ç« çš„æ’åºï¼Œæ•°å€¼è¶Šå¤§ï¼Œè¯¥æ–‡ç« è¶Šé å‰ï¼Œè¾¾åˆ°ç±»ä¼¼äºç½®é¡¶çš„æ•ˆæœï¼Œå…¶ä»–æœªè®¾ç½®çš„æ–‡ç« ä¾ç„¶æŒ‰é»˜è®¤æ’åºï¼›<code>index_img</code> å±æ€§å†³å®šäº†æ–‡ç« åœ¨é¦–é¡µæ˜¾ç¤ºçš„å°é¢å›¾ï¼Œç½®ç©ºæ—¶é€‰æ‹©é»˜è®¤ï¼›<code>banner_img</code> å±æ€§æ–‡ç« é¡µé…ç½®é¡¶éƒ¨å¤§å›¾</p><h3 id="â¤ï¸-è„šæ³¨"><a href="#â¤ï¸-è„šæ³¨" class="headerlink" title="â¤ï¸ è„šæ³¨"></a>â¤ï¸ è„šæ³¨</h3><p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs markdown">è¿™æ˜¯ä¸€å¥è¯[^1]<br>[<span class="hljs-symbol">^1</span>]: <span class="hljs-link">è¿™æ˜¯å¯¹åº”çš„è„šæ³¨</span><br><br>æ­£æ–‡<br><br><span class="hljs-section">## å‚è€ƒ</span><br>[<span class="hljs-symbol">^1</span>]: <span class="hljs-link">å‚è€ƒèµ„æ–™1</span><br>[<span class="hljs-symbol">^2</span>]: <span class="hljs-link">å‚è€ƒèµ„æ–™2</span><br></code></pre></td></tr></table></figure><h3 id="â¤ï¸Tag-æ’ä»¶"><a href="#â¤ï¸Tag-æ’ä»¶" class="headerlink" title="â¤ï¸Tag æ’ä»¶"></a>â¤ï¸Tag æ’ä»¶</h3><h4 id="ä¾¿ç­¾MDè¯­æ³•"><a href="#ä¾¿ç­¾MDè¯­æ³•" class="headerlink" title="ä¾¿ç­¾MDè¯­æ³•"></a>ä¾¿ç­¾MDè¯­æ³•</h4><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs markdown">&#123;% note success %&#125;<br>æ–‡å­— æˆ–è€… <span class="hljs-code">`markdown`</span> å‡å¯<br>&#123;% endnote %&#125;<br></code></pre></td></tr></table></figure><h4 id="ä¾¿ç­¾-HTMLå½¢å¼"><a href="#ä¾¿ç­¾-HTMLå½¢å¼" class="headerlink" title="ä¾¿ç­¾ HTMLå½¢å¼"></a>ä¾¿ç­¾ HTMLå½¢å¼</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;note note-primary&quot;</span>&gt;</span>æ ‡ç­¾<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å±æ€§é€‰é¡¹ï¼šprimary secondary success danger warning info light</p><blockquote><p><strong>æ³¨æ„ï¼š</strong></p><p>ä½¿ç”¨æ—¶ <code>&#123;% note primary %&#125;` å’Œ `&#123;% endnote %&#125;</code> éœ€å•ç‹¬ä¸€è¡Œï¼Œå¦åˆ™ä¼šå‡ºç°é—®é¢˜</p></blockquote><h4 id="è¡Œå†…æ ‡ç­¾"><a href="#è¡Œå†…æ ‡ç­¾" class="headerlink" title="è¡Œå†…æ ‡ç­¾"></a>è¡Œå†…æ ‡ç­¾</h4><p>åœ¨ markdown ä¸­åŠ å…¥å¦‚ä¸‹çš„ä»£ç æ¥ä½¿ç”¨ Labelï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">&#123;% label primary @text %&#125;<br></code></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨ HTML å½¢å¼ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;label label-primary&quot;</span>&gt;</span>Label<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¯é€‰ Labelï¼š</p><p>primary default info success warning danger</p><blockquote><p>æ³¨æ„ï¼š</p><p>è‹¥ä½¿ç”¨ <code>&#123;% label primary @text %&#125;</code>ï¼Œtext ä¸èƒ½ä»¥ @ å¼€å¤´</p></blockquote><h3 id="æŒ‰é’®"><a href="#æŒ‰é’®" class="headerlink" title="æŒ‰é’®"></a>æŒ‰é’®</h3><p>ä½ å¯ä»¥åœ¨ markdown ä¸­åŠ å…¥å¦‚ä¸‹çš„ä»£ç æ¥ä½¿ç”¨ Buttonï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs markdown">&#123;% btn url, text, title %&#125;<br></code></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨ HTML å½¢å¼ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>text<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure><script src="//cdn.jsdelivr.net/npm/@waline/client"></script>  <div id="waline"></div>  <script>    Waline({      el: '#waline',      serverURL: 'https://vercel-project-4d7haxk1c-i-xiaoxin.vercel.app',    });  </script>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Other</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
